var FM=Object.defineProperty;var LM=(e,t,r)=>t in e?FM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Mm=(e,t,r)=>LM(e,typeof t!="symbol"?t+"":t,r);function RM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wT={exports:{}},rp={},kT={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Symbol.for("react.element"),zM=Symbol.for("react.portal"),BM=Symbol.for("react.fragment"),$M=Symbol.for("react.strict_mode"),UM=Symbol.for("react.profiler"),VM=Symbol.for("react.provider"),WM=Symbol.for("react.context"),HM=Symbol.for("react.forward_ref"),KM=Symbol.for("react.suspense"),GM=Symbol.for("react.memo"),YM=Symbol.for("react.lazy"),F2=Symbol.iterator;function XM(e){return e===null||typeof e!="object"?null:(e=F2&&e[F2]||e["@@iterator"],typeof e=="function"?e:null)}var _T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ST=Object.assign,ET={};function Kl(e,t,r){this.props=e,this.context=t,this.refs=ET,this.updater=r||_T}Kl.prototype.isReactComponent={};Kl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jT(){}jT.prototype=Kl.prototype;function M1(e,t,r){this.props=e,this.context=t,this.refs=ET,this.updater=r||_T}var I1=M1.prototype=new jT;I1.constructor=M1;ST(I1,Kl.prototype);I1.isPureReactComponent=!0;var L2=Array.isArray,NT=Object.prototype.hasOwnProperty,F1={current:null},TT={key:!0,ref:!0,__self:!0,__source:!0};function AT(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)NT.call(t,n)&&!TT.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:hd,type:e,key:i,ref:s,props:a,_owner:F1.current}}function qM(e,t){return{$$typeof:hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function L1(e){return typeof e=="object"&&e!==null&&e.$$typeof===hd}function JM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var R2=/\/+/g;function Im(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JM(""+e.key):t.toString(36)}function Zf(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case hd:case zM:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Im(s,0):n,L2(a)?(r="",e!=null&&(r=e.replace(R2,"$&/")+"/"),Zf(a,t,r,"",function(u){return u})):a!=null&&(L1(a)&&(a=qM(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(R2,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",L2(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Im(i,o);s+=Zf(i,t,r,c,a)}else if(c=XM(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Im(i,o++),s+=Zf(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ef(e,t,r){if(e==null)return e;var n=[],a=0;return Zf(e,n,"","",function(i){return t.call(r,i,a++)}),n}function QM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $r={current:null},e0={transition:null},ZM={ReactCurrentDispatcher:$r,ReactCurrentBatchConfig:e0,ReactCurrentOwner:F1};function CT(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:ef,forEach:function(e,t,r){ef(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ef(e,function(){t++}),t},toArray:function(e){return ef(e,function(t){return t})||[]},only:function(e){if(!L1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=Kl;Ie.Fragment=BM;Ie.Profiler=UM;Ie.PureComponent=M1;Ie.StrictMode=$M;Ie.Suspense=KM;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZM;Ie.act=CT;Ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ST({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=F1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)NT.call(t,c)&&!TT.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:hd,type:e.type,key:a,ref:i,props:n,_owner:s}};Ie.createContext=function(e){return e={$$typeof:WM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VM,_context:e},e.Consumer=e};Ie.createElement=AT;Ie.createFactory=function(e){var t=AT.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:HM,render:e}};Ie.isValidElement=L1;Ie.lazy=function(e){return{$$typeof:YM,_payload:{_status:-1,_result:e},_init:QM}};Ie.memo=function(e,t){return{$$typeof:GM,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=e0.transition;e0.transition={};try{e()}finally{e0.transition=t}};Ie.unstable_act=CT;Ie.useCallback=function(e,t){return $r.current.useCallback(e,t)};Ie.useContext=function(e){return $r.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return $r.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return $r.current.useEffect(e,t)};Ie.useId=function(){return $r.current.useId()};Ie.useImperativeHandle=function(e,t,r){return $r.current.useImperativeHandle(e,t,r)};Ie.useInsertionEffect=function(e,t){return $r.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return $r.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return $r.current.useMemo(e,t)};Ie.useReducer=function(e,t,r){return $r.current.useReducer(e,t,r)};Ie.useRef=function(e){return $r.current.useRef(e)};Ie.useState=function(e){return $r.current.useState(e)};Ie.useSyncExternalStore=function(e,t,r){return $r.current.useSyncExternalStore(e,t,r)};Ie.useTransition=function(){return $r.current.useTransition()};Ie.version="18.3.1";kT.exports=Ie;var b=kT.exports;const fe=Fa(b),PT=RM({__proto__:null,default:fe},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI=b,tI=Symbol.for("react.element"),rI=Symbol.for("react.fragment"),nI=Object.prototype.hasOwnProperty,aI=eI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iI={key:!0,ref:!0,__self:!0,__source:!0};function OT(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)nI.call(t,n)&&!iI.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:tI,type:e,key:i,ref:s,props:a,_owner:aI.current}}rp.Fragment=rI;rp.jsx=OT;rp.jsxs=OT;wT.exports=rp;var l=wT.exports,gx={},DT={exports:{}},kn={},MT={exports:{}},IT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,G){var q=Y.length;Y.push(G);e:for(;0<q;){var ce=q-1>>>1,F=Y[ce];if(0<a(F,G))Y[ce]=G,Y[q]=F,q=ce;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var G=Y[0],q=Y.pop();if(q!==G){Y[0]=q;e:for(var ce=0,F=Y.length,z=F>>>1;ce<z;){var H=2*(ce+1)-1,L=Y[H],X=H+1,ee=Y[X];if(0>a(L,q))X<F&&0>a(ee,L)?(Y[ce]=ee,Y[X]=q,ce=X):(Y[ce]=L,Y[H]=q,ce=H);else if(X<F&&0>a(ee,q))Y[ce]=ee,Y[X]=q,ce=X;else break e}}return G}function a(Y,G){var q=Y.sortIndex-G.sortIndex;return q!==0?q:Y.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Y){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=Y)n(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(u)}}function k(Y){if(m=!1,w(Y),!g)if(r(c)!==null)g=!0,K(S);else{var G=r(u);G!==null&&I(k,G.startTime-Y)}}function S(Y,G){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var q=h;try{for(w(G),f=r(c);f!==null&&(!(f.expirationTime>G)||Y&&!D());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var F=ce(f.expirationTime<=G);G=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),w(G)}else n(c);f=r(c)}if(f!==null)var z=!0;else{var H=r(u);H!==null&&I(k,H.startTime-G),z=!1}return z}finally{f=null,h=q,p=!1}}var E=!1,j=null,C=-1,T=5,M=-1;function D(){return!(e.unstable_now()-M<T)}function A(){if(j!==null){var Y=e.unstable_now();M=Y;var G=!0;try{G=j(!0,Y)}finally{G?_():(E=!1,j=null)}}else E=!1}var _;if(typeof y=="function")_=function(){y(A)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,O=N.port2;N.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){x(A,0)};function K(Y){j=Y,E||(E=!0,_())}function I(Y,G){C=x(function(){Y(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,K(S))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var q=h;h=G;try{return Y()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,G){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var q=h;h=Y;try{return G()}finally{h=q}},e.unstable_scheduleCallback=function(Y,G,q){var ce=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ce+q:ce):q=ce,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=q+F,Y={id:d++,callback:G,priorityLevel:Y,startTime:q,expirationTime:F,sortIndex:-1},q>ce?(Y.sortIndex=q,t(u,Y),r(c)===null&&Y===r(u)&&(m?(v(C),C=-1):m=!0,I(k,q-ce))):(Y.sortIndex=F,t(c,Y),g||p||(g=!0,K(S))),Y},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(Y){var G=h;return function(){var q=h;h=G;try{return Y.apply(this,arguments)}finally{h=q}}}})(IT);MT.exports=IT;var sI=MT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI=b,yn=sI;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FT=new Set,ku={};function xo(e,t){El(e,t),El(e+"Capture",t)}function El(e,t){for(ku[e]=t,e=0;e<t.length;e++)FT.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xx=Object.prototype.hasOwnProperty,lI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z2={},B2={};function cI(e){return xx.call(B2,e)?!0:xx.call(z2,e)?!1:lI.test(e)?B2[e]=!0:(z2[e]=!0,!1)}function uI(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dI(e,t,r,n){if(t===null||typeof t>"u"||uI(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ur(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Ur(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new Ur(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Ur(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Ur(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Ur(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Ur(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Ur(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Ur(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var R1=/[\-:]([a-z])/g;function z1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R1,z1);vr[t]=new Ur(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R1,z1);vr[t]=new Ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R1,z1);vr[t]=new Ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function B1(e,t,r,n){var a=vr.hasOwnProperty(t)?vr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dI(t,r,a,n)&&(r=null),n||a===null?cI(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yi=oI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tf=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),$1=Symbol.for("react.strict_mode"),vx=Symbol.for("react.profiler"),LT=Symbol.for("react.provider"),RT=Symbol.for("react.context"),U1=Symbol.for("react.forward_ref"),yx=Symbol.for("react.suspense"),bx=Symbol.for("react.suspense_list"),V1=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),zT=Symbol.for("react.offscreen"),$2=Symbol.iterator;function kc(e){return e===null||typeof e!="object"?null:(e=$2&&e[$2]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Object.assign,Fm;function Gc(e){if(Fm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fm=t&&t[1]||""}return`
`+Fm+e}var Lm=!1;function Rm(e,t){if(!e||Lm)return"";Lm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Lm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Gc(e):""}function fI(e){switch(e.tag){case 5:return Gc(e.type);case 16:return Gc("Lazy");case 13:return Gc("Suspense");case 19:return Gc("SuspenseList");case 0:case 2:case 15:return e=Rm(e.type,!1),e;case 11:return e=Rm(e.type.render,!1),e;case 1:return e=Rm(e.type,!0),e;default:return""}}function wx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ho:return"Fragment";case Wo:return"Portal";case vx:return"Profiler";case $1:return"StrictMode";case yx:return"Suspense";case bx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case RT:return(e.displayName||"Context")+".Consumer";case LT:return(e._context.displayName||"Context")+".Provider";case U1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V1:return t=e.displayName||null,t!==null?t:wx(e.type)||"Memo";case Li:t=e._payload,e=e._init;try{return wx(e(t))}catch{}}return null}function hI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wx(t);case 8:return t===$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pI(e){var t=BT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rf(e){e._valueTracker||(e._valueTracker=pI(e))}function $T(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=BT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kx(e,t){var r=t.checked;return bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function U2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=as(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UT(e,t){t=t.checked,t!=null&&B1(e,"checked",t,!1)}function _x(e,t){UT(e,t);var r=as(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sx(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sx(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function V2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sx(e,t,r){(t!=="number"||_0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yc=Array.isArray;function ul(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+as(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ex(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(Yc(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:as(r)}}function VT(e,t){var r=as(t.value),n=as(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function H2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nf,HT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nf=nf||document.createElement("div"),nf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _u(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mI=["Webkit","ms","Moz","O"];Object.keys(ru).forEach(function(e){mI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ru[t]=ru[e]})});function KT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ru.hasOwnProperty(e)&&ru[e]?(""+t).trim():t+"px"}function GT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=KT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var gI=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nx(e,t){if(t){if(gI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function Tx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ax=null;function W1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cx=null,dl=null,fl=null;function K2(e){if(e=gd(e)){if(typeof Cx!="function")throw Error(de(280));var t=e.stateNode;t&&(t=op(t),Cx(e.stateNode,e.type,t))}}function YT(e){dl?fl?fl.push(e):fl=[e]:dl=e}function XT(){if(dl){var e=dl,t=fl;if(fl=dl=null,K2(e),t)for(e=0;e<t.length;e++)K2(t[e])}}function qT(e,t){return e(t)}function JT(){}var zm=!1;function QT(e,t,r){if(zm)return e(t,r);zm=!0;try{return qT(e,t,r)}finally{zm=!1,(dl!==null||fl!==null)&&(JT(),XT())}}function Su(e,t){var r=e.stateNode;if(r===null)return null;var n=op(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var Px=!1;if(si)try{var _c={};Object.defineProperty(_c,"passive",{get:function(){Px=!0}}),window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{Px=!1}function xI(e,t,r,n,a,i,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var nu=!1,S0=null,E0=!1,Ox=null,vI={onError:function(e){nu=!0,S0=e}};function yI(e,t,r,n,a,i,s,o,c){nu=!1,S0=null,xI.apply(vI,arguments)}function bI(e,t,r,n,a,i,s,o,c){if(yI.apply(this,arguments),nu){if(nu){var u=S0;nu=!1,S0=null}else throw Error(de(198));E0||(E0=!0,Ox=u)}}function vo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ZT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function G2(e){if(vo(e)!==e)throw Error(de(188))}function wI(e){var t=e.alternate;if(!t){if(t=vo(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return G2(a),e;if(i===n)return G2(a),t;i=i.sibling}throw Error(de(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function e4(e){return e=wI(e),e!==null?t4(e):null}function t4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t4(e);if(t!==null)return t;e=e.sibling}return null}var r4=yn.unstable_scheduleCallback,Y2=yn.unstable_cancelCallback,kI=yn.unstable_shouldYield,_I=yn.unstable_requestPaint,Tt=yn.unstable_now,SI=yn.unstable_getCurrentPriorityLevel,H1=yn.unstable_ImmediatePriority,n4=yn.unstable_UserBlockingPriority,j0=yn.unstable_NormalPriority,EI=yn.unstable_LowPriority,a4=yn.unstable_IdlePriority,np=null,Na=null;function jI(e){if(Na&&typeof Na.onCommitFiberRoot=="function")try{Na.onCommitFiberRoot(np,e,void 0,(e.current.flags&128)===128)}catch{}}var la=Math.clz32?Math.clz32:AI,NI=Math.log,TI=Math.LN2;function AI(e){return e>>>=0,e===0?32:31-(NI(e)/TI|0)|0}var af=64,sf=4194304;function Xc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function N0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Xc(o):(i&=s,i!==0&&(n=Xc(i)))}else s=r&~a,s!==0?n=Xc(s):i!==0&&(n=Xc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-la(t),a=1<<r,n|=e[r],t&=~a;return n}function CI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PI(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-la(i),o=1<<s,c=a[s];c===-1?(!(o&r)||o&n)&&(a[s]=CI(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Dx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function i4(){var e=af;return af<<=1,!(af&4194240)&&(af=64),e}function Bm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-la(t),e[t]=r}function OI(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-la(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function K1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-la(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ke=0;function s4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o4,G1,l4,c4,u4,Mx=!1,of=[],Yi=null,Xi=null,qi=null,Eu=new Map,ju=new Map,Bi=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X2(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(t.pointerId)}}function Sc(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=gd(t),t!==null&&G1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function MI(e,t,r,n,a){switch(t){case"focusin":return Yi=Sc(Yi,e,t,r,n,a),!0;case"dragenter":return Xi=Sc(Xi,e,t,r,n,a),!0;case"mouseover":return qi=Sc(qi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Eu.set(i,Sc(Eu.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ju.set(i,Sc(ju.get(i)||null,e,t,r,n,a)),!0}return!1}function d4(e){var t=Bs(e.target);if(t!==null){var r=vo(t);if(r!==null){if(t=r.tag,t===13){if(t=ZT(r),t!==null){e.blockedOn=t,u4(e.priority,function(){l4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function t0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ix(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ax=n,r.target.dispatchEvent(n),Ax=null}else return t=gd(r),t!==null&&G1(t),e.blockedOn=r,!1;t.shift()}return!0}function q2(e,t,r){t0(e)&&r.delete(t)}function II(){Mx=!1,Yi!==null&&t0(Yi)&&(Yi=null),Xi!==null&&t0(Xi)&&(Xi=null),qi!==null&&t0(qi)&&(qi=null),Eu.forEach(q2),ju.forEach(q2)}function Ec(e,t){e.blockedOn===t&&(e.blockedOn=null,Mx||(Mx=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,II)))}function Nu(e){function t(a){return Ec(a,e)}if(0<of.length){Ec(of[0],e);for(var r=1;r<of.length;r++){var n=of[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yi!==null&&Ec(Yi,e),Xi!==null&&Ec(Xi,e),qi!==null&&Ec(qi,e),Eu.forEach(t),ju.forEach(t),r=0;r<Bi.length;r++)n=Bi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bi.length&&(r=Bi[0],r.blockedOn===null);)d4(r),r.blockedOn===null&&Bi.shift()}var hl=yi.ReactCurrentBatchConfig,T0=!0;function FI(e,t,r,n){var a=Ke,i=hl.transition;hl.transition=null;try{Ke=1,Y1(e,t,r,n)}finally{Ke=a,hl.transition=i}}function LI(e,t,r,n){var a=Ke,i=hl.transition;hl.transition=null;try{Ke=4,Y1(e,t,r,n)}finally{Ke=a,hl.transition=i}}function Y1(e,t,r,n){if(T0){var a=Ix(e,t,r,n);if(a===null)qm(e,t,n,A0,r),X2(e,n);else if(MI(a,e,t,r,n))n.stopPropagation();else if(X2(e,n),t&4&&-1<DI.indexOf(e)){for(;a!==null;){var i=gd(a);if(i!==null&&o4(i),i=Ix(e,t,r,n),i===null&&qm(e,t,n,A0,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else qm(e,t,n,null,r)}}var A0=null;function Ix(e,t,r,n){if(A0=null,e=W1(n),e=Bs(e),e!==null)if(t=vo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ZT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return A0=e,null}function f4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SI()){case H1:return 1;case n4:return 4;case j0:case EI:return 16;case a4:return 536870912;default:return 16}default:return 16}}var Vi=null,X1=null,r0=null;function h4(){if(r0)return r0;var e,t=X1,r=t.length,n,a="value"in Vi?Vi.value:Vi.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return r0=a.slice(e,1<n?1-n:void 0)}function n0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lf(){return!0}function J2(){return!1}function _n(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lf:J2,this.isPropagationStopped=J2,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lf)},persist:function(){},isPersistent:lf}),t}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q1=_n(Gl),md=bt({},Gl,{view:0,detail:0}),RI=_n(md),$m,Um,jc,ap=bt({},md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jc&&(jc&&e.type==="mousemove"?($m=e.screenX-jc.screenX,Um=e.screenY-jc.screenY):Um=$m=0,jc=e),$m)},movementY:function(e){return"movementY"in e?e.movementY:Um}}),Q2=_n(ap),zI=bt({},ap,{dataTransfer:0}),BI=_n(zI),$I=bt({},md,{relatedTarget:0}),Vm=_n($I),UI=bt({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),VI=_n(UI),WI=bt({},Gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HI=_n(WI),KI=bt({},Gl,{data:0}),Z2=_n(KI),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XI[e])?!!t[e]:!1}function J1(){return qI}var JI=bt({},md,{key:function(e){if(e.key){var t=GI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=n0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J1,charCode:function(e){return e.type==="keypress"?n0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?n0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QI=_n(JI),ZI=bt({},ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ek=_n(ZI),eF=bt({},md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J1}),tF=_n(eF),rF=bt({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nF=_n(rF),aF=bt({},ap,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iF=_n(aF),sF=[9,13,27,32],Q1=si&&"CompositionEvent"in window,au=null;si&&"documentMode"in document&&(au=document.documentMode);var oF=si&&"TextEvent"in window&&!au,p4=si&&(!Q1||au&&8<au&&11>=au),tk=" ",rk=!1;function m4(e,t){switch(e){case"keyup":return sF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ko=!1;function lF(e,t){switch(e){case"compositionend":return g4(t);case"keypress":return t.which!==32?null:(rk=!0,tk);case"textInput":return e=t.data,e===tk&&rk?null:e;default:return null}}function cF(e,t){if(Ko)return e==="compositionend"||!Q1&&m4(e,t)?(e=h4(),r0=X1=Vi=null,Ko=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p4&&t.locale!=="ko"?null:t.data;default:return null}}var uF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uF[e.type]:t==="textarea"}function x4(e,t,r,n){YT(n),t=C0(t,"onChange"),0<t.length&&(r=new q1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var iu=null,Tu=null;function dF(e){T4(e,0)}function ip(e){var t=Xo(e);if($T(t))return e}function fF(e,t){if(e==="change")return t}var v4=!1;if(si){var Wm;if(si){var Hm="oninput"in document;if(!Hm){var ak=document.createElement("div");ak.setAttribute("oninput","return;"),Hm=typeof ak.oninput=="function"}Wm=Hm}else Wm=!1;v4=Wm&&(!document.documentMode||9<document.documentMode)}function ik(){iu&&(iu.detachEvent("onpropertychange",y4),Tu=iu=null)}function y4(e){if(e.propertyName==="value"&&ip(Tu)){var t=[];x4(t,Tu,e,W1(e)),QT(dF,t)}}function hF(e,t,r){e==="focusin"?(ik(),iu=t,Tu=r,iu.attachEvent("onpropertychange",y4)):e==="focusout"&&ik()}function pF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ip(Tu)}function mF(e,t){if(e==="click")return ip(t)}function gF(e,t){if(e==="input"||e==="change")return ip(t)}function xF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var da=typeof Object.is=="function"?Object.is:xF;function Au(e,t){if(da(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!xx.call(t,a)||!da(e[a],t[a]))return!1}return!0}function sk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ok(e,t){var r=sk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sk(r)}}function b4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w4(){for(var e=window,t=_0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_0(e.document)}return t}function Z1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vF(e){var t=w4(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&b4(r.ownerDocument.documentElement,r)){if(n!==null&&Z1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ok(r,i);var s=ok(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yF=si&&"documentMode"in document&&11>=document.documentMode,Go=null,Fx=null,su=null,Lx=!1;function lk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lx||Go==null||Go!==_0(n)||(n=Go,"selectionStart"in n&&Z1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),su&&Au(su,n)||(su=n,n=C0(Fx,"onSelect"),0<n.length&&(t=new q1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Go)))}function cf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yo={animationend:cf("Animation","AnimationEnd"),animationiteration:cf("Animation","AnimationIteration"),animationstart:cf("Animation","AnimationStart"),transitionend:cf("Transition","TransitionEnd")},Km={},k4={};si&&(k4=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function sp(e){if(Km[e])return Km[e];if(!Yo[e])return e;var t=Yo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in k4)return Km[e]=t[r];return e}var _4=sp("animationend"),S4=sp("animationiteration"),E4=sp("animationstart"),j4=sp("transitionend"),N4=new Map,ck="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(e,t){N4.set(e,t),xo(t,[e])}for(var Gm=0;Gm<ck.length;Gm++){var Ym=ck[Gm],bF=Ym.toLowerCase(),wF=Ym[0].toUpperCase()+Ym.slice(1);fs(bF,"on"+wF)}fs(_4,"onAnimationEnd");fs(S4,"onAnimationIteration");fs(E4,"onAnimationStart");fs("dblclick","onDoubleClick");fs("focusin","onFocus");fs("focusout","onBlur");fs(j4,"onTransitionEnd");El("onMouseEnter",["mouseout","mouseover"]);El("onMouseLeave",["mouseout","mouseover"]);El("onPointerEnter",["pointerout","pointerover"]);El("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kF=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function uk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bI(n,t,void 0,e),e.currentTarget=null}function T4(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;uk(a,o,u),i=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;uk(a,o,u),i=c}}}if(E0)throw e=Ox,E0=!1,Ox=null,e}function it(e,t){var r=t[Ux];r===void 0&&(r=t[Ux]=new Set);var n=e+"__bubble";r.has(n)||(A4(t,e,2,!1),r.add(n))}function Xm(e,t,r){var n=0;t&&(n|=4),A4(r,e,n,t)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Cu(e){if(!e[uf]){e[uf]=!0,FT.forEach(function(r){r!=="selectionchange"&&(kF.has(r)||Xm(r,!1,e),Xm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uf]||(t[uf]=!0,Xm("selectionchange",!1,t))}}function A4(e,t,r,n){switch(f4(t)){case 1:var a=FI;break;case 4:a=LI;break;default:a=Y1}r=a.bind(null,t,r,e),a=void 0,!Px||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qm(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Bs(o),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}o=o.parentNode}}n=n.return}QT(function(){var u=i,d=W1(r),f=[];e:{var h=N4.get(e);if(h!==void 0){var p=q1,g=e;switch(e){case"keypress":if(n0(r)===0)break e;case"keydown":case"keyup":p=QI;break;case"focusin":g="focus",p=Vm;break;case"focusout":g="blur",p=Vm;break;case"beforeblur":case"afterblur":p=Vm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Q2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tF;break;case _4:case S4:case E4:p=VI;break;case j4:p=nF;break;case"scroll":p=RI;break;case"wheel":p=iF;break;case"copy":case"cut":case"paste":p=HI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ek}var m=(t&4)!==0,x=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,v!==null&&(k=Su(y,v),k!=null&&m.push(Pu(y,k,w)))),x)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Ax&&(g=r.relatedTarget||r.fromElement)&&(Bs(g)||g[oi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Bs(g):null,g!==null&&(x=vo(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Q2,k="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=ek,k="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?h:Xo(p),w=g==null?h:Xo(g),h=new m(k,y+"leave",p,r,d),h.target=x,h.relatedTarget=w,k=null,Bs(d)===u&&(m=new m(v,y+"enter",g,r,d),m.target=w,m.relatedTarget=x,k=m),x=k,p&&g)t:{for(m=p,v=g,y=0,w=m;w;w=Oo(w))y++;for(w=0,k=v;k;k=Oo(k))w++;for(;0<y-w;)m=Oo(m),y--;for(;0<w-y;)v=Oo(v),w--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Oo(m),v=Oo(v)}m=null}else m=null;p!==null&&dk(f,h,p,m,!1),g!==null&&x!==null&&dk(f,x,g,m,!0)}}e:{if(h=u?Xo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=fF;else if(nk(h))if(v4)S=gF;else{S=pF;var E=hF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=mF);if(S&&(S=S(e,u))){x4(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Sx(h,"number",h.value)}switch(E=u?Xo(u):window,e){case"focusin":(nk(E)||E.contentEditable==="true")&&(Go=E,Fx=u,su=null);break;case"focusout":su=Fx=Go=null;break;case"mousedown":Lx=!0;break;case"contextmenu":case"mouseup":case"dragend":Lx=!1,lk(f,r,d);break;case"selectionchange":if(yF)break;case"keydown":case"keyup":lk(f,r,d)}var j;if(Q1)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ko?m4(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(p4&&r.locale!=="ko"&&(Ko||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ko&&(j=h4()):(Vi=d,X1="value"in Vi?Vi.value:Vi.textContent,Ko=!0)),E=C0(u,C),0<E.length&&(C=new Z2(C,e,null,r,d),f.push({event:C,listeners:E}),j?C.data=j:(j=g4(r),j!==null&&(C.data=j)))),(j=oF?lF(e,r):cF(e,r))&&(u=C0(u,"onBeforeInput"),0<u.length&&(d=new Z2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}T4(f,t)})}function Pu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function C0(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Su(e,r),i!=null&&n.unshift(Pu(e,i,a)),i=Su(e,t),i!=null&&n.push(Pu(e,i,a))),e=e.return}return n}function Oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dk(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Su(r,i),c!=null&&s.unshift(Pu(r,c,o))):a||(c=Su(r,i),c!=null&&s.push(Pu(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var _F=/\r\n?/g,SF=/\u0000|\uFFFD/g;function fk(e){return(typeof e=="string"?e:""+e).replace(_F,`
`).replace(SF,"")}function df(e,t,r){if(t=fk(t),fk(e)!==t&&r)throw Error(de(425))}function P0(){}var Rx=null,zx=null;function Bx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $x=typeof setTimeout=="function"?setTimeout:void 0,EF=typeof clearTimeout=="function"?clearTimeout:void 0,hk=typeof Promise=="function"?Promise:void 0,jF=typeof queueMicrotask=="function"?queueMicrotask:typeof hk<"u"?function(e){return hk.resolve(null).then(e).catch(NF)}:$x;function NF(e){setTimeout(function(){throw e})}function Jm(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Nu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Nu(t)}function Ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Yl,Ou="__reactProps$"+Yl,oi="__reactContainer$"+Yl,Ux="__reactEvents$"+Yl,TF="__reactListeners$"+Yl,AF="__reactHandles$"+Yl;function Bs(e){var t=e[Ea];if(t)return t;for(var r=e.parentNode;r;){if(t=r[oi]||r[Ea]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pk(e);e!==null;){if(r=e[Ea])return r;e=pk(e)}return t}e=r,r=e.parentNode}return null}function gd(e){return e=e[Ea]||e[oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function op(e){return e[Ou]||null}var Vx=[],qo=-1;function hs(e){return{current:e}}function ot(e){0>qo||(e.current=Vx[qo],Vx[qo]=null,qo--)}function et(e,t){qo++,Vx[qo]=e.current,e.current=t}var is={},Cr=hs(is),Jr=hs(!1),ao=is;function jl(e,t){var r=e.type.contextTypes;if(!r)return is;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qr(e){return e=e.childContextTypes,e!=null}function O0(){ot(Jr),ot(Cr)}function mk(e,t,r){if(Cr.current!==is)throw Error(de(168));et(Cr,t),et(Jr,r)}function C4(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(de(108,hI(e)||"Unknown",a));return bt({},r,n)}function D0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||is,ao=Cr.current,et(Cr,e),et(Jr,Jr.current),!0}function gk(e,t,r){var n=e.stateNode;if(!n)throw Error(de(169));r?(e=C4(e,t,ao),n.__reactInternalMemoizedMergedChildContext=e,ot(Jr),ot(Cr),et(Cr,e)):ot(Jr),et(Jr,r)}var Ya=null,lp=!1,Qm=!1;function P4(e){Ya===null?Ya=[e]:Ya.push(e)}function CF(e){lp=!0,P4(e)}function ps(){if(!Qm&&Ya!==null){Qm=!0;var e=0,t=Ke;try{var r=Ya;for(Ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ya=null,lp=!1}catch(a){throw Ya!==null&&(Ya=Ya.slice(e+1)),r4(H1,ps),a}finally{Ke=t,Qm=!1}}return null}var Jo=[],Qo=0,M0=null,I0=0,Dn=[],Mn=0,io=null,qa=1,Ja="";function Cs(e,t){Jo[Qo++]=I0,Jo[Qo++]=M0,M0=e,I0=t}function O4(e,t,r){Dn[Mn++]=qa,Dn[Mn++]=Ja,Dn[Mn++]=io,io=e;var n=qa;e=Ja;var a=32-la(n)-1;n&=~(1<<a),r+=1;var i=32-la(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,qa=1<<32-la(t)+a|r<<a|n,Ja=i+e}else qa=1<<i|r<<a|n,Ja=e}function ey(e){e.return!==null&&(Cs(e,1),O4(e,1,0))}function ty(e){for(;e===M0;)M0=Jo[--Qo],Jo[Qo]=null,I0=Jo[--Qo],Jo[Qo]=null;for(;e===io;)io=Dn[--Mn],Dn[Mn]=null,Ja=Dn[--Mn],Dn[Mn]=null,qa=Dn[--Mn],Dn[Mn]=null}var gn=null,mn=null,ut=!1,na=null;function D4(e,t){var r=Fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,mn=Ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,mn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=io!==null?{id:qa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gn=e,mn=null,!0):!1;default:return!1}}function Wx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hx(e){if(ut){var t=mn;if(t){var r=t;if(!xk(e,t)){if(Wx(e))throw Error(de(418));t=Ji(r.nextSibling);var n=gn;t&&xk(e,t)?D4(n,r):(e.flags=e.flags&-4097|2,ut=!1,gn=e)}}else{if(Wx(e))throw Error(de(418));e.flags=e.flags&-4097|2,ut=!1,gn=e}}}function vk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function ff(e){if(e!==gn)return!1;if(!ut)return vk(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bx(e.type,e.memoizedProps)),t&&(t=mn)){if(Wx(e))throw M4(),Error(de(418));for(;t;)D4(e,t),t=Ji(t.nextSibling)}if(vk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mn=Ji(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mn=null}}else mn=gn?Ji(e.stateNode.nextSibling):null;return!0}function M4(){for(var e=mn;e;)e=Ji(e.nextSibling)}function Nl(){mn=gn=null,ut=!1}function ry(e){na===null?na=[e]:na.push(e)}var PF=yi.ReactCurrentBatchConfig;function Nc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function hf(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yk(e){var t=e._init;return t(e._payload)}function I4(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function r(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=ts(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,y,w,k){return y===null||y.tag!==6?(y=ig(w,v.mode,k),y.return=v,y):(y=a(y,w),y.return=v,y)}function c(v,y,w,k){var S=w.type;return S===Ho?d(v,y,w.props.children,k,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Li&&yk(S)===y.type)?(k=a(y,w.props),k.ref=Nc(v,y,w),k.return=v,k):(k=u0(w.type,w.key,w.props,null,v.mode,k),k.ref=Nc(v,y,w),k.return=v,k)}function u(v,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=sg(w,v.mode,k),y.return=v,y):(y=a(y,w.children||[]),y.return=v,y)}function d(v,y,w,k,S){return y===null||y.tag!==7?(y=qs(w,v.mode,k,S),y.return=v,y):(y=a(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ig(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tf:return w=u0(y.type,y.key,y.props,null,v.mode,w),w.ref=Nc(v,null,y),w.return=v,w;case Wo:return y=sg(y,v.mode,w),y.return=v,y;case Li:var k=y._init;return f(v,k(y._payload),w)}if(Yc(y)||kc(y))return y=qs(y,v.mode,w,null),y.return=v,y;hf(v,y)}return null}function h(v,y,w,k){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(v,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tf:return w.key===S?c(v,y,w,k):null;case Wo:return w.key===S?u(v,y,w,k):null;case Li:return S=w._init,h(v,y,S(w._payload),k)}if(Yc(w)||kc(w))return S!==null?null:d(v,y,w,k,null);hf(v,w)}return null}function p(v,y,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(w)||null,o(y,v,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case tf:return v=v.get(k.key===null?w:k.key)||null,c(y,v,k,S);case Wo:return v=v.get(k.key===null?w:k.key)||null,u(y,v,k,S);case Li:var E=k._init;return p(v,y,w,E(k._payload),S)}if(Yc(k)||kc(k))return v=v.get(w)||null,d(y,v,k,S,null);hf(y,k)}return null}function g(v,y,w,k){for(var S=null,E=null,j=y,C=y=0,T=null;j!==null&&C<w.length;C++){j.index>C?(T=j,j=null):T=j.sibling;var M=h(v,j,w[C],k);if(M===null){j===null&&(j=T);break}e&&j&&M.alternate===null&&t(v,j),y=i(M,y,C),E===null?S=M:E.sibling=M,E=M,j=T}if(C===w.length)return r(v,j),ut&&Cs(v,C),S;if(j===null){for(;C<w.length;C++)j=f(v,w[C],k),j!==null&&(y=i(j,y,C),E===null?S=j:E.sibling=j,E=j);return ut&&Cs(v,C),S}for(j=n(v,j);C<w.length;C++)T=p(j,v,C,w[C],k),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?C:T.key),y=i(T,y,C),E===null?S=T:E.sibling=T,E=T);return e&&j.forEach(function(D){return t(v,D)}),ut&&Cs(v,C),S}function m(v,y,w,k){var S=kc(w);if(typeof S!="function")throw Error(de(150));if(w=S.call(w),w==null)throw Error(de(151));for(var E=S=null,j=y,C=y=0,T=null,M=w.next();j!==null&&!M.done;C++,M=w.next()){j.index>C?(T=j,j=null):T=j.sibling;var D=h(v,j,M.value,k);if(D===null){j===null&&(j=T);break}e&&j&&D.alternate===null&&t(v,j),y=i(D,y,C),E===null?S=D:E.sibling=D,E=D,j=T}if(M.done)return r(v,j),ut&&Cs(v,C),S;if(j===null){for(;!M.done;C++,M=w.next())M=f(v,M.value,k),M!==null&&(y=i(M,y,C),E===null?S=M:E.sibling=M,E=M);return ut&&Cs(v,C),S}for(j=n(v,j);!M.done;C++,M=w.next())M=p(j,v,C,M.value,k),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?C:M.key),y=i(M,y,C),E===null?S=M:E.sibling=M,E=M);return e&&j.forEach(function(A){return t(v,A)}),ut&&Cs(v,C),S}function x(v,y,w,k){if(typeof w=="object"&&w!==null&&w.type===Ho&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tf:e:{for(var S=w.key,E=y;E!==null;){if(E.key===S){if(S=w.type,S===Ho){if(E.tag===7){r(v,E.sibling),y=a(E,w.props.children),y.return=v,v=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Li&&yk(S)===E.type){r(v,E.sibling),y=a(E,w.props),y.ref=Nc(v,E,w),y.return=v,v=y;break e}r(v,E);break}else t(v,E);E=E.sibling}w.type===Ho?(y=qs(w.props.children,v.mode,k,w.key),y.return=v,v=y):(k=u0(w.type,w.key,w.props,null,v.mode,k),k.ref=Nc(v,y,w),k.return=v,v=k)}return s(v);case Wo:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(v,y.sibling),y=a(y,w.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else t(v,y);y=y.sibling}y=sg(w,v.mode,k),y.return=v,v=y}return s(v);case Li:return E=w._init,x(v,y,E(w._payload),k)}if(Yc(w))return g(v,y,w,k);if(kc(w))return m(v,y,w,k);hf(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(v,y.sibling),y=a(y,w),y.return=v,v=y):(r(v,y),y=ig(w,v.mode,k),y.return=v,v=y),s(v)):r(v,y)}return x}var Tl=I4(!0),F4=I4(!1),F0=hs(null),L0=null,Zo=null,ny=null;function ay(){ny=Zo=L0=null}function iy(e){var t=F0.current;ot(F0),e._currentValue=t}function Kx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pl(e,t){L0=e,ny=Zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(ny!==e)if(e={context:e,memoizedValue:t,next:null},Zo===null){if(L0===null)throw Error(de(308));Zo=e,L0.dependencies={lanes:0,firstContext:e}}else Zo=Zo.next=e;return t}var $s=null;function sy(e){$s===null?$s=[e]:$s.push(e)}function L4(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,sy(t)):(r.next=a.next,a.next=r),t.interleaved=r,li(e,n)}function li(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ri=!1;function oy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ei(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,li(e,r)}return a=n.interleaved,a===null?(t.next=t,sy(n)):(t.next=a.next,a.next=t),n.interleaved=t,li(e,r)}function a0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,K1(e,r)}}function bk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function R0(e,t,r,n){var a=e.updateQueue;Ri=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=bt({},f,h);break e;case 2:Ri=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);oo|=s,e.lanes=s,e.memoizedState=f}}function wk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(de(191,a));a.call(n)}}}var xd={},Ta=hs(xd),Du=hs(xd),Mu=hs(xd);function Us(e){if(e===xd)throw Error(de(174));return e}function ly(e,t){switch(et(Mu,t),et(Du,e),et(Ta,xd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jx(t,e)}ot(Ta),et(Ta,t)}function Al(){ot(Ta),ot(Du),ot(Mu)}function z4(e){Us(Mu.current);var t=Us(Ta.current),r=jx(t,e.type);t!==r&&(et(Du,e),et(Ta,r))}function cy(e){Du.current===e&&(ot(Ta),ot(Du))}var gt=hs(0);function z0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zm=[];function uy(){for(var e=0;e<Zm.length;e++)Zm[e]._workInProgressVersionPrimary=null;Zm.length=0}var i0=yi.ReactCurrentDispatcher,eg=yi.ReactCurrentBatchConfig,so=0,yt=null,Vt=null,Qt=null,B0=!1,ou=!1,Iu=0,OF=0;function kr(){throw Error(de(321))}function dy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!da(e[r],t[r]))return!1;return!0}function fy(e,t,r,n,a,i){if(so=i,yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,i0.current=e===null||e.memoizedState===null?FF:LF,e=r(n,a),ou){i=0;do{if(ou=!1,Iu=0,25<=i)throw Error(de(301));i+=1,Qt=Vt=null,t.updateQueue=null,i0.current=RF,e=r(n,a)}while(ou)}if(i0.current=$0,t=Vt!==null&&Vt.next!==null,so=0,Qt=Vt=yt=null,B0=!1,t)throw Error(de(300));return e}function hy(){var e=Iu!==0;return Iu=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?yt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function $n(){if(Vt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Vt.next;var t=Qt===null?yt.memoizedState:Qt.next;if(t!==null)Qt=t,Vt=e;else{if(e===null)throw Error(de(310));Vt=e,e={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Qt===null?yt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function Fu(e,t){return typeof t=="function"?t(e):t}function tg(e){var t=$n(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=Vt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,c=null,u=i;do{var d=u.lane;if((so&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,yt.lanes|=d,oo|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=o,da(n,t.memoizedState)||(Gr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,yt.lanes|=i,oo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rg(e){var t=$n(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);da(i,t.memoizedState)||(Gr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function B4(){}function $4(e,t){var r=yt,n=$n(),a=t(),i=!da(n.memoizedState,a);if(i&&(n.memoizedState=a,Gr=!0),n=n.queue,py(W4.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Qt!==null&&Qt.memoizedState.tag&1){if(r.flags|=2048,Lu(9,V4.bind(null,r,n,a,t),void 0,null),rr===null)throw Error(de(349));so&30||U4(r,t,a)}return a}function U4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function V4(e,t,r,n){t.value=r,t.getSnapshot=n,H4(t)&&K4(e)}function W4(e,t,r){return r(function(){H4(t)&&K4(e)})}function H4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!da(e,r)}catch{return!0}}function K4(e){var t=li(e,1);t!==null&&ca(t,e,1,-1)}function kk(e){var t=Sa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:e},t.queue=e,e=e.dispatch=IF.bind(null,yt,e),[t.memoizedState,e]}function Lu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function G4(){return $n().memoizedState}function s0(e,t,r,n){var a=Sa();yt.flags|=e,a.memoizedState=Lu(1|t,r,void 0,n===void 0?null:n)}function cp(e,t,r,n){var a=$n();n=n===void 0?null:n;var i=void 0;if(Vt!==null){var s=Vt.memoizedState;if(i=s.destroy,n!==null&&dy(n,s.deps)){a.memoizedState=Lu(t,r,i,n);return}}yt.flags|=e,a.memoizedState=Lu(1|t,r,i,n)}function _k(e,t){return s0(8390656,8,e,t)}function py(e,t){return cp(2048,8,e,t)}function Y4(e,t){return cp(4,2,e,t)}function X4(e,t){return cp(4,4,e,t)}function q4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function J4(e,t,r){return r=r!=null?r.concat([e]):null,cp(4,4,q4.bind(null,t,e),r)}function my(){}function Q4(e,t){var r=$n();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Z4(e,t){var r=$n();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function eA(e,t,r){return so&21?(da(r,t)||(r=i4(),yt.lanes|=r,oo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=r)}function DF(e,t){var r=Ke;Ke=r!==0&&4>r?r:4,e(!0);var n=eg.transition;eg.transition={};try{e(!1),t()}finally{Ke=r,eg.transition=n}}function tA(){return $n().memoizedState}function MF(e,t,r){var n=es(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rA(e))nA(t,r);else if(r=L4(e,t,r,n),r!==null){var a=zr();ca(r,e,n,a),aA(r,t,n)}}function IF(e,t,r){var n=es(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rA(e))nA(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,da(o,s)){var c=t.interleaved;c===null?(a.next=a,sy(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=L4(e,t,a,n),r!==null&&(a=zr(),ca(r,e,n,a),aA(r,t,n))}}function rA(e){var t=e.alternate;return e===yt||t!==null&&t===yt}function nA(e,t){ou=B0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function aA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,K1(e,r)}}var $0={readContext:Bn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},FF={readContext:Bn,useCallback:function(e,t){return Sa().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:_k,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,s0(4194308,4,q4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return s0(4194308,4,e,t)},useInsertionEffect:function(e,t){return s0(4,2,e,t)},useMemo:function(e,t){var r=Sa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Sa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=MF.bind(null,yt,e),[n.memoizedState,e]},useRef:function(e){var t=Sa();return e={current:e},t.memoizedState=e},useState:kk,useDebugValue:my,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=kk(!1),t=e[0];return e=DF.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=yt,a=Sa();if(ut){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),rr===null)throw Error(de(349));so&30||U4(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,_k(W4.bind(null,n,i,e),[e]),n.flags|=2048,Lu(9,V4.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Sa(),t=rr.identifierPrefix;if(ut){var r=Ja,n=qa;r=(n&~(1<<32-la(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Iu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=OF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},LF={readContext:Bn,useCallback:Q4,useContext:Bn,useEffect:py,useImperativeHandle:J4,useInsertionEffect:Y4,useLayoutEffect:X4,useMemo:Z4,useReducer:tg,useRef:G4,useState:function(){return tg(Fu)},useDebugValue:my,useDeferredValue:function(e){var t=$n();return eA(t,Vt.memoizedState,e)},useTransition:function(){var e=tg(Fu)[0],t=$n().memoizedState;return[e,t]},useMutableSource:B4,useSyncExternalStore:$4,useId:tA,unstable_isNewReconciler:!1},RF={readContext:Bn,useCallback:Q4,useContext:Bn,useEffect:py,useImperativeHandle:J4,useInsertionEffect:Y4,useLayoutEffect:X4,useMemo:Z4,useReducer:rg,useRef:G4,useState:function(){return rg(Fu)},useDebugValue:my,useDeferredValue:function(e){var t=$n();return Vt===null?t.memoizedState=e:eA(t,Vt.memoizedState,e)},useTransition:function(){var e=rg(Fu)[0],t=$n().memoizedState;return[e,t]},useMutableSource:B4,useSyncExternalStore:$4,useId:tA,unstable_isNewReconciler:!1};function ta(e,t){if(e&&e.defaultProps){t=bt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:bt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var up={isMounted:function(e){return(e=e._reactInternals)?vo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zr(),a=es(e),i=ei(n,a);i.payload=t,r!=null&&(i.callback=r),t=Qi(e,i,a),t!==null&&(ca(t,e,a,n),a0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zr(),a=es(e),i=ei(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Qi(e,i,a),t!==null&&(ca(t,e,a,n),a0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zr(),n=es(e),a=ei(r,n);a.tag=2,t!=null&&(a.callback=t),t=Qi(e,a,n),t!==null&&(ca(t,e,n,r),a0(t,e,n))}};function Sk(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Au(r,n)||!Au(a,i):!0}function iA(e,t,r){var n=!1,a=is,i=t.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(a=Qr(t)?ao:Cr.current,n=t.contextTypes,i=(n=n!=null)?jl(e,a):is),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=up,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ek(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&up.enqueueReplaceState(t,t.state,null)}function Yx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},oy(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Bn(i):(i=Qr(t)?ao:Cr.current,a.context=jl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gx(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&up.enqueueReplaceState(a,a.state,null),R0(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Cl(e,t){try{var r="",n=t;do r+=fI(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ng(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zF=typeof WeakMap=="function"?WeakMap:Map;function sA(e,t,r){r=ei(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){V0||(V0=!0,iv=n),Xx(e,t)},r}function oA(e,t,r){r=ei(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Xx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Xx(e,t),typeof n!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function jk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zF;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=ZF.bind(null,e,t,r),t.then(e,e))}function Nk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tk(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ei(-1,1),t.tag=2,Qi(r,t,1))),r.lanes|=1),e)}var BF=yi.ReactCurrentOwner,Gr=!1;function Mr(e,t,r,n){t.child=e===null?F4(t,null,r,n):Tl(t,e.child,r,n)}function Ak(e,t,r,n,a){r=r.render;var i=t.ref;return pl(t,a),n=fy(e,t,r,n,i,a),r=hy(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ci(e,t,a)):(ut&&r&&ey(t),t.flags|=1,Mr(e,t,n,a),t.child)}function Ck(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!_y(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,lA(e,t,i,n,a)):(e=u0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Au,r(s,n)&&e.ref===t.ref)return ci(e,t,a)}return t.flags|=1,e=ts(i,n),e.ref=t.ref,e.return=t,t.child=e}function lA(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Au(i,n)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,ci(e,t,a)}return qx(e,t,r,n,a)}function cA(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(tl,ln),ln|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(tl,ln),ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,et(tl,ln),ln|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,et(tl,ln),ln|=n;return Mr(e,t,a,r),t.child}function uA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qx(e,t,r,n,a){var i=Qr(r)?ao:Cr.current;return i=jl(t,i),pl(t,a),r=fy(e,t,r,n,i,a),n=hy(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ci(e,t,a)):(ut&&n&&ey(t),t.flags|=1,Mr(e,t,r,a),t.child)}function Pk(e,t,r,n,a){if(Qr(r)){var i=!0;D0(t)}else i=!1;if(pl(t,a),t.stateNode===null)o0(e,t),iA(t,r,n),Yx(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=Qr(r)?ao:Cr.current,u=jl(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Ek(t,s,n,u),Ri=!1;var h=t.memoizedState;s.state=h,R0(t,n,s,a),c=t.memoizedState,o!==n||h!==c||Jr.current||Ri?(typeof d=="function"&&(Gx(t,r,d,n),c=t.memoizedState),(o=Ri||Sk(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,R4(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ta(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=Qr(r)?ao:Cr.current,c=jl(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Ek(t,s,n,c),Ri=!1,h=t.memoizedState,s.state=h,R0(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||Jr.current||Ri?(typeof p=="function"&&(Gx(t,r,p,n),g=t.memoizedState),(u=Ri||Sk(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Jx(e,t,r,n,i,a)}function Jx(e,t,r,n,a,i){uA(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&gk(t,r,!1),ci(e,t,i);n=t.stateNode,BF.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Tl(t,e.child,null,i),t.child=Tl(t,null,o,i)):Mr(e,t,o,i),t.memoizedState=n.state,a&&gk(t,r,!0),t.child}function dA(e){var t=e.stateNode;t.pendingContext?mk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mk(e,t.context,!1),ly(e,t.containerInfo)}function Ok(e,t,r,n,a){return Nl(),ry(a),t.flags|=256,Mr(e,t,r,n),t.child}var Qx={dehydrated:null,treeContext:null,retryLane:0};function Zx(e){return{baseLanes:e,cachePool:null,transitions:null}}function fA(e,t,r){var n=t.pendingProps,a=gt.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),et(gt,a&1),e===null)return Hx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=hp(s,n,0,null),e=qs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zx(r),t.memoizedState=Qx,e):gy(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return $F(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ts(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=ts(o,i):(i=qs(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Zx(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Qx,n}return i=e.child,e=i.sibling,n=ts(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function gy(e,t){return t=hp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pf(e,t,r,n){return n!==null&&ry(n),Tl(t,e.child,null,r),e=gy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $F(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=ng(Error(de(422))),pf(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=hp({mode:"visible",children:n.children},a,0,null),i=qs(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Tl(t,e.child,null,s),t.child.memoizedState=Zx(s),t.memoizedState=Qx,i);if(!(t.mode&1))return pf(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(de(419)),n=ng(i,n,void 0),pf(e,t,s,n)}if(o=(s&e.childLanes)!==0,Gr||o){if(n=rr,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,li(e,a),ca(n,e,a,-1))}return ky(),n=ng(Error(de(421))),pf(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=eL.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mn=Ji(a.nextSibling),gn=t,ut=!0,na=null,e!==null&&(Dn[Mn++]=qa,Dn[Mn++]=Ja,Dn[Mn++]=io,qa=e.id,Ja=e.overflow,io=t),t=gy(t,n.children),t.flags|=4096,t)}function Dk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kx(e.return,t,r)}function ag(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function hA(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Mr(e,t,n.children,r),n=gt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dk(e,r,t);else if(e.tag===19)Dk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(gt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&z0(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ag(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&z0(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ag(t,!0,r,null,i);break;case"together":ag(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function o0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ci(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=ts(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ts(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function UF(e,t,r){switch(t.tag){case 3:dA(t),Nl();break;case 5:z4(t);break;case 1:Qr(t.type)&&D0(t);break;case 4:ly(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;et(F0,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(gt,gt.current&1),t.flags|=128,null):r&t.child.childLanes?fA(e,t,r):(et(gt,gt.current&1),e=ci(e,t,r),e!==null?e.sibling:null);et(gt,gt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hA(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),et(gt,gt.current),n)break;return null;case 22:case 23:return t.lanes=0,cA(e,t,r)}return ci(e,t,r)}var pA,ev,mA,gA;pA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ev=function(){};mA=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Us(Ta.current);var i=null;switch(r){case"input":a=kx(e,a),n=kx(e,n),i=[];break;case"select":a=bt({},a,{value:void 0}),n=bt({},n,{value:void 0}),i=[];break;case"textarea":a=Ex(e,a),n=Ex(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=P0)}Nx(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ku.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ku.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&it("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};gA=function(e,t,r,n){r!==n&&(t.flags|=4)};function Tc(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function VF(e,t,r){var n=t.pendingProps;switch(ty(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(t),null;case 1:return Qr(t.type)&&O0(),_r(t),null;case 3:return n=t.stateNode,Al(),ot(Jr),ot(Cr),uy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ff(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,na!==null&&(lv(na),na=null))),ev(e,t),_r(t),null;case 5:cy(t);var a=Us(Mu.current);if(r=t.type,e!==null&&t.stateNode!=null)mA(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(de(166));return _r(t),null}if(e=Us(Ta.current),ff(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ea]=t,n[Ou]=i,e=(t.mode&1)!==0,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(a=0;a<qc.length;a++)it(qc[a],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":U2(n,i),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},it("invalid",n);break;case"textarea":W2(n,i),it("invalid",n)}Nx(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&df(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&df(n.textContent,o,e),a=["children",""+o]):ku.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&it("scroll",n)}switch(r){case"input":rf(n),V2(n,i,!0);break;case"textarea":rf(n),H2(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=P0)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ea]=t,e[Ou]=n,pA(e,t,!1,!1),t.stateNode=e;e:{switch(s=Tx(r,n),r){case"dialog":it("cancel",e),it("close",e),a=n;break;case"iframe":case"object":case"embed":it("load",e),a=n;break;case"video":case"audio":for(a=0;a<qc.length;a++)it(qc[a],e);a=n;break;case"source":it("error",e),a=n;break;case"img":case"image":case"link":it("error",e),it("load",e),a=n;break;case"details":it("toggle",e),a=n;break;case"input":U2(e,n),a=kx(e,n),it("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=bt({},n,{value:void 0}),it("invalid",e);break;case"textarea":W2(e,n),a=Ex(e,n),it("invalid",e);break;default:a=n}Nx(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?GT(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&HT(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&_u(e,c):typeof c=="number"&&_u(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ku.hasOwnProperty(i)?c!=null&&i==="onScroll"&&it("scroll",e):c!=null&&B1(e,i,c,s))}switch(r){case"input":rf(e),V2(e,n,!1);break;case"textarea":rf(e),H2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+as(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ul(e,!!n.multiple,i,!1):n.defaultValue!=null&&ul(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=P0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _r(t),null;case 6:if(e&&t.stateNode!=null)gA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(de(166));if(r=Us(Mu.current),Us(Ta.current),ff(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ea]=t,(i=n.nodeValue!==r)&&(e=gn,e!==null))switch(e.tag){case 3:df(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&df(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ea]=t,t.stateNode=n}return _r(t),null;case 13:if(ot(gt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&mn!==null&&t.mode&1&&!(t.flags&128))M4(),Nl(),t.flags|=98560,i=!1;else if(i=ff(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(de(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[Ea]=t}else Nl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_r(t),i=!1}else na!==null&&(lv(na),na=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||gt.current&1?Wt===0&&(Wt=3):ky())),t.updateQueue!==null&&(t.flags|=4),_r(t),null);case 4:return Al(),ev(e,t),e===null&&Cu(t.stateNode.containerInfo),_r(t),null;case 10:return iy(t.type._context),_r(t),null;case 17:return Qr(t.type)&&O0(),_r(t),null;case 19:if(ot(gt),i=t.memoizedState,i===null)return _r(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Tc(i,!1);else{if(Wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=z0(e),s!==null){for(t.flags|=128,Tc(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(gt,gt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tt()>Pl&&(t.flags|=128,n=!0,Tc(i,!1),t.lanes=4194304)}else{if(!n)if(e=z0(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Tc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ut)return _r(t),null}else 2*Tt()-i.renderingStartTime>Pl&&r!==1073741824&&(t.flags|=128,n=!0,Tc(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,r=gt.current,et(gt,n?r&1|2:r&1),t):(_r(t),null);case 22:case 23:return wy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ln&1073741824&&(_r(t),t.subtreeFlags&6&&(t.flags|=8192)):_r(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function WF(e,t){switch(ty(t),t.tag){case 1:return Qr(t.type)&&O0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Al(),ot(Jr),ot(Cr),uy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cy(t),null;case 13:if(ot(gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Nl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(gt),null;case 4:return Al(),null;case 10:return iy(t.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var mf=!1,Er=!1,HF=typeof WeakSet=="function"?WeakSet:Set,ke=null;function el(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,t,n)}else r.current=null}function tv(e,t,r){try{r()}catch(n){St(e,t,n)}}var Mk=!1;function KF(e,t){if(Rx=T0,e=w4(),Z1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(o=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(zx={focusedElem:e,selectionRange:r},T0=!1,ke=t;ke!==null;)if(t=ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ke=e;else for(;ke!==null;){t=ke;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ta(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(k){St(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ke=e;break}ke=t.return}return g=Mk,Mk=!1,g}function lu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&tv(t,r,i)}a=a.next}while(a!==n)}}function dp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function rv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function xA(e){var t=e.alternate;t!==null&&(e.alternate=null,xA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ea],delete t[Ou],delete t[Ux],delete t[TF],delete t[AF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vA(e){return e.tag===5||e.tag===3||e.tag===4}function Ik(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=P0));else if(n!==4&&(e=e.child,e!==null))for(nv(e,t,r),e=e.sibling;e!==null;)nv(e,t,r),e=e.sibling}function av(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(av(e,t,r),e=e.sibling;e!==null;)av(e,t,r),e=e.sibling}var ur=null,ra=!1;function Oi(e,t,r){for(r=r.child;r!==null;)yA(e,t,r),r=r.sibling}function yA(e,t,r){if(Na&&typeof Na.onCommitFiberUnmount=="function")try{Na.onCommitFiberUnmount(np,r)}catch{}switch(r.tag){case 5:Er||el(r,t);case 6:var n=ur,a=ra;ur=null,Oi(e,t,r),ur=n,ra=a,ur!==null&&(ra?(e=ur,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(ra?(e=ur,r=r.stateNode,e.nodeType===8?Jm(e.parentNode,r):e.nodeType===1&&Jm(e,r),Nu(e)):Jm(ur,r.stateNode));break;case 4:n=ur,a=ra,ur=r.stateNode.containerInfo,ra=!0,Oi(e,t,r),ur=n,ra=a;break;case 0:case 11:case 14:case 15:if(!Er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&tv(r,t,s),a=a.next}while(a!==n)}Oi(e,t,r);break;case 1:if(!Er&&(el(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){St(r,t,o)}Oi(e,t,r);break;case 21:Oi(e,t,r);break;case 22:r.mode&1?(Er=(n=Er)||r.memoizedState!==null,Oi(e,t,r),Er=n):Oi(e,t,r);break;default:Oi(e,t,r)}}function Fk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new HF),t.forEach(function(n){var a=tL.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function qn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ur=o.stateNode,ra=!1;break e;case 3:ur=o.stateNode.containerInfo,ra=!0;break e;case 4:ur=o.stateNode.containerInfo,ra=!0;break e}o=o.return}if(ur===null)throw Error(de(160));yA(i,s,a),ur=null,ra=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){St(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bA(t,e),t=t.sibling}function bA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qn(t,e),ya(e),n&4){try{lu(3,e,e.return),dp(3,e)}catch(m){St(e,e.return,m)}try{lu(5,e,e.return)}catch(m){St(e,e.return,m)}}break;case 1:qn(t,e),ya(e),n&512&&r!==null&&el(r,r.return);break;case 5:if(qn(t,e),ya(e),n&512&&r!==null&&el(r,r.return),e.flags&32){var a=e.stateNode;try{_u(a,"")}catch(m){St(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&UT(a,i),Tx(o,s);var u=Tx(o,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?GT(a,f):d==="dangerouslySetInnerHTML"?HT(a,f):d==="children"?_u(a,f):B1(a,d,f,u)}switch(o){case"input":_x(a,i);break;case"textarea":VT(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ul(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ul(a,!!i.multiple,i.defaultValue,!0):ul(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ou]=i}catch(m){St(e,e.return,m)}}break;case 6:if(qn(t,e),ya(e),n&4){if(e.stateNode===null)throw Error(de(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){St(e,e.return,m)}}break;case 3:if(qn(t,e),ya(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nu(t.containerInfo)}catch(m){St(e,e.return,m)}break;case 4:qn(t,e),ya(e);break;case 13:qn(t,e),ya(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(yy=Tt())),n&4&&Fk(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Er=(u=Er)||d,qn(t,e),Er=u):qn(t,e),ya(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ke=e,d=e.child;d!==null;){for(f=ke=d;ke!==null;){switch(h=ke,p=h.child,h.tag){case 0:case 11:case 14:case 15:lu(4,h,h.return);break;case 1:el(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){St(n,r,m)}}break;case 5:el(h,h.return);break;case 22:if(h.memoizedState!==null){Rk(f);continue}}p!==null?(p.return=h,ke=p):Rk(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=KT("display",s))}catch(m){St(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){St(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(t,e),ya(e),n&4&&Fk(e);break;case 21:break;default:qn(t,e),ya(e)}}function ya(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vA(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(_u(a,""),n.flags&=-33);var i=Ik(e);av(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Ik(e);nv(e,o,s);break;default:throw Error(de(161))}}catch(c){St(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GF(e,t,r){ke=e,wA(e)}function wA(e,t,r){for(var n=(e.mode&1)!==0;ke!==null;){var a=ke,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||mf;if(!s){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Er;o=mf;var u=Er;if(mf=s,(Er=c)&&!u)for(ke=a;ke!==null;)s=ke,c=s.child,s.tag===22&&s.memoizedState!==null?zk(a):c!==null?(c.return=s,ke=c):zk(a);for(;i!==null;)ke=i,wA(i),i=i.sibling;ke=a,mf=o,Er=u}Lk(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ke=i):Lk(e)}}function Lk(e){for(;ke!==null;){var t=ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Er||dp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Er)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ta(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wk(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wk(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Er||t.flags&512&&rv(t)}catch(h){St(t,t.return,h)}}if(t===e){ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,ke=r;break}ke=t.return}}function Rk(e){for(;ke!==null;){var t=ke;if(t===e){ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ke=r;break}ke=t.return}}function zk(e){for(;ke!==null;){var t=ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dp(4,t)}catch(c){St(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){St(t,a,c)}}var i=t.return;try{rv(t)}catch(c){St(t,i,c)}break;case 5:var s=t.return;try{rv(t)}catch(c){St(t,s,c)}}}catch(c){St(t,t.return,c)}if(t===e){ke=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ke=o;break}ke=t.return}}var YF=Math.ceil,U0=yi.ReactCurrentDispatcher,xy=yi.ReactCurrentOwner,Rn=yi.ReactCurrentBatchConfig,Fe=0,rr=null,It=null,gr=0,ln=0,tl=hs(0),Wt=0,Ru=null,oo=0,fp=0,vy=0,cu=null,Kr=null,yy=0,Pl=1/0,Ga=null,V0=!1,iv=null,Zi=null,gf=!1,Wi=null,W0=0,uu=0,sv=null,l0=-1,c0=0;function zr(){return Fe&6?Tt():l0!==-1?l0:l0=Tt()}function es(e){return e.mode&1?Fe&2&&gr!==0?gr&-gr:PF.transition!==null?(c0===0&&(c0=i4()),c0):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:f4(e.type)),e):1}function ca(e,t,r,n){if(50<uu)throw uu=0,sv=null,Error(de(185));pd(e,r,n),(!(Fe&2)||e!==rr)&&(e===rr&&(!(Fe&2)&&(fp|=r),Wt===4&&$i(e,gr)),Zr(e,n),r===1&&Fe===0&&!(t.mode&1)&&(Pl=Tt()+500,lp&&ps()))}function Zr(e,t){var r=e.callbackNode;PI(e,t);var n=N0(e,e===rr?gr:0);if(n===0)r!==null&&Y2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Y2(r),t===1)e.tag===0?CF(Bk.bind(null,e)):P4(Bk.bind(null,e)),jF(function(){!(Fe&6)&&ps()}),r=null;else{switch(s4(n)){case 1:r=H1;break;case 4:r=n4;break;case 16:r=j0;break;case 536870912:r=a4;break;default:r=j0}r=AA(r,kA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kA(e,t){if(l0=-1,c0=0,Fe&6)throw Error(de(327));var r=e.callbackNode;if(ml()&&e.callbackNode!==r)return null;var n=N0(e,e===rr?gr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=H0(e,n);else{t=n;var a=Fe;Fe|=2;var i=SA();(rr!==e||gr!==t)&&(Ga=null,Pl=Tt()+500,Xs(e,t));do try{JF();break}catch(o){_A(e,o)}while(!0);ay(),U0.current=i,Fe=a,It!==null?t=0:(rr=null,gr=0,t=Wt)}if(t!==0){if(t===2&&(a=Dx(e),a!==0&&(n=a,t=ov(e,a))),t===1)throw r=Ru,Xs(e,0),$i(e,n),Zr(e,Tt()),r;if(t===6)$i(e,n);else{if(a=e.current.alternate,!(n&30)&&!XF(a)&&(t=H0(e,n),t===2&&(i=Dx(e),i!==0&&(n=i,t=ov(e,i))),t===1))throw r=Ru,Xs(e,0),$i(e,n),Zr(e,Tt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(de(345));case 2:Ps(e,Kr,Ga);break;case 3:if($i(e,n),(n&130023424)===n&&(t=yy+500-Tt(),10<t)){if(N0(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){zr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=$x(Ps.bind(null,e,Kr,Ga),t);break}Ps(e,Kr,Ga);break;case 4:if($i(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-la(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YF(n/1960))-n,10<n){e.timeoutHandle=$x(Ps.bind(null,e,Kr,Ga),n);break}Ps(e,Kr,Ga);break;case 5:Ps(e,Kr,Ga);break;default:throw Error(de(329))}}}return Zr(e,Tt()),e.callbackNode===r?kA.bind(null,e):null}function ov(e,t){var r=cu;return e.current.memoizedState.isDehydrated&&(Xs(e,t).flags|=256),e=H0(e,t),e!==2&&(t=Kr,Kr=r,t!==null&&lv(t)),e}function lv(e){Kr===null?Kr=e:Kr.push.apply(Kr,e)}function XF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!da(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $i(e,t){for(t&=~vy,t&=~fp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-la(t),n=1<<r;e[r]=-1,t&=~n}}function Bk(e){if(Fe&6)throw Error(de(327));ml();var t=N0(e,0);if(!(t&1))return Zr(e,Tt()),null;var r=H0(e,t);if(e.tag!==0&&r===2){var n=Dx(e);n!==0&&(t=n,r=ov(e,n))}if(r===1)throw r=Ru,Xs(e,0),$i(e,t),Zr(e,Tt()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e,Kr,Ga),Zr(e,Tt()),null}function by(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(Pl=Tt()+500,lp&&ps())}}function lo(e){Wi!==null&&Wi.tag===0&&!(Fe&6)&&ml();var t=Fe;Fe|=1;var r=Rn.transition,n=Ke;try{if(Rn.transition=null,Ke=1,e)return e()}finally{Ke=n,Rn.transition=r,Fe=t,!(Fe&6)&&ps()}}function wy(){ln=tl.current,ot(tl)}function Xs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,EF(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(ty(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&O0();break;case 3:Al(),ot(Jr),ot(Cr),uy();break;case 5:cy(n);break;case 4:Al();break;case 13:ot(gt);break;case 19:ot(gt);break;case 10:iy(n.type._context);break;case 22:case 23:wy()}r=r.return}if(rr=e,It=e=ts(e.current,null),gr=ln=t,Wt=0,Ru=null,vy=fp=oo=0,Kr=cu=null,$s!==null){for(t=0;t<$s.length;t++)if(r=$s[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}$s=null}return e}function _A(e,t){do{var r=It;try{if(ay(),i0.current=$0,B0){for(var n=yt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}B0=!1}if(so=0,Qt=Vt=yt=null,ou=!1,Iu=0,xy.current=null,r===null||r.return===null){Wt=1,Ru=t,It=null;break}e:{var i=e,s=r.return,o=r,c=t;if(t=gr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Nk(s);if(p!==null){p.flags&=-257,Tk(p,s,o,i,t),p.mode&1&&jk(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){jk(i,u,t),ky();break e}c=Error(de(426))}}else if(ut&&o.mode&1){var x=Nk(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Tk(x,s,o,i,t),ry(Cl(c,o));break e}}i=c=Cl(c,o),Wt!==4&&(Wt=2),cu===null?cu=[i]:cu.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=sA(i,c,t);bk(i,v);break e;case 1:o=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Zi===null||!Zi.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=oA(i,o,t);bk(i,k);break e}}i=i.return}while(i!==null)}jA(r)}catch(S){t=S,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function SA(){var e=U0.current;return U0.current=$0,e===null?$0:e}function ky(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),rr===null||!(oo&268435455)&&!(fp&268435455)||$i(rr,gr)}function H0(e,t){var r=Fe;Fe|=2;var n=SA();(rr!==e||gr!==t)&&(Ga=null,Xs(e,t));do try{qF();break}catch(a){_A(e,a)}while(!0);if(ay(),Fe=r,U0.current=n,It!==null)throw Error(de(261));return rr=null,gr=0,Wt}function qF(){for(;It!==null;)EA(It)}function JF(){for(;It!==null&&!kI();)EA(It)}function EA(e){var t=TA(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?jA(e):It=t,xy.current=null}function jA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=WF(r,t),r!==null){r.flags&=32767,It=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wt=6,It=null;return}}else if(r=VF(r,t,ln),r!==null){It=r;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Wt===0&&(Wt=5)}function Ps(e,t,r){var n=Ke,a=Rn.transition;try{Rn.transition=null,Ke=1,QF(e,t,r,n)}finally{Rn.transition=a,Ke=n}return null}function QF(e,t,r,n){do ml();while(Wi!==null);if(Fe&6)throw Error(de(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(OI(e,i),e===rr&&(It=rr=null,gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gf||(gf=!0,AA(j0,function(){return ml(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Rn.transition,Rn.transition=null;var s=Ke;Ke=1;var o=Fe;Fe|=4,xy.current=null,KF(e,r),bA(r,e),vF(zx),T0=!!Rx,zx=Rx=null,e.current=r,GF(r),_I(),Fe=o,Ke=s,Rn.transition=i}else e.current=r;if(gf&&(gf=!1,Wi=e,W0=a),i=e.pendingLanes,i===0&&(Zi=null),jI(r.stateNode),Zr(e,Tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(V0)throw V0=!1,e=iv,iv=null,e;return W0&1&&e.tag!==0&&ml(),i=e.pendingLanes,i&1?e===sv?uu++:(uu=0,sv=e):uu=0,ps(),null}function ml(){if(Wi!==null){var e=s4(W0),t=Rn.transition,r=Ke;try{if(Rn.transition=null,Ke=16>e?16:e,Wi===null)var n=!1;else{if(e=Wi,Wi=null,W0=0,Fe&6)throw Error(de(331));var a=Fe;for(Fe|=4,ke=e.current;ke!==null;){var i=ke,s=i.child;if(ke.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ke=u;ke!==null;){var d=ke;switch(d.tag){case 0:case 11:case 15:lu(8,d,i)}var f=d.child;if(f!==null)f.return=d,ke=f;else for(;ke!==null;){d=ke;var h=d.sibling,p=d.return;if(xA(d),d===u){ke=null;break}if(h!==null){h.return=p,ke=h;break}ke=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ke=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ke=s;else e:for(;ke!==null;){if(i=ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ke=v;break e}ke=i.return}}var y=e.current;for(ke=y;ke!==null;){s=ke;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ke=w;else e:for(s=y;ke!==null;){if(o=ke,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dp(9,o)}}catch(S){St(o,o.return,S)}if(o===s){ke=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,ke=k;break e}ke=o.return}}if(Fe=a,ps(),Na&&typeof Na.onPostCommitFiberRoot=="function")try{Na.onPostCommitFiberRoot(np,e)}catch{}n=!0}return n}finally{Ke=r,Rn.transition=t}}return!1}function $k(e,t,r){t=Cl(r,t),t=sA(e,t,1),e=Qi(e,t,1),t=zr(),e!==null&&(pd(e,1,t),Zr(e,t))}function St(e,t,r){if(e.tag===3)$k(e,e,r);else for(;t!==null;){if(t.tag===3){$k(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zi===null||!Zi.has(n))){e=Cl(r,e),e=oA(t,e,1),t=Qi(t,e,1),e=zr(),t!==null&&(pd(t,1,e),Zr(t,e));break}}t=t.return}}function ZF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zr(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(gr&r)===r&&(Wt===4||Wt===3&&(gr&130023424)===gr&&500>Tt()-yy?Xs(e,0):vy|=r),Zr(e,t)}function NA(e,t){t===0&&(e.mode&1?(t=sf,sf<<=1,!(sf&130023424)&&(sf=4194304)):t=1);var r=zr();e=li(e,t),e!==null&&(pd(e,t,r),Zr(e,r))}function eL(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),NA(e,r)}function tL(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(t),NA(e,r)}var TA;TA=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jr.current)Gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gr=!1,UF(e,t,r);Gr=!!(e.flags&131072)}else Gr=!1,ut&&t.flags&1048576&&O4(t,I0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;o0(e,t),e=t.pendingProps;var a=jl(t,Cr.current);pl(t,r),a=fy(null,t,n,e,a,r);var i=hy();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qr(n)?(i=!0,D0(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,oy(t),a.updater=up,t.stateNode=a,a._reactInternals=t,Yx(t,n,e,r),t=Jx(null,t,n,!0,i,r)):(t.tag=0,ut&&i&&ey(t),Mr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(o0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=nL(n),e=ta(n,e),a){case 0:t=qx(null,t,n,e,r);break e;case 1:t=Pk(null,t,n,e,r);break e;case 11:t=Ak(null,t,n,e,r);break e;case 14:t=Ck(null,t,n,ta(n.type,e),r);break e}throw Error(de(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ta(n,a),qx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ta(n,a),Pk(e,t,n,a,r);case 3:e:{if(dA(t),e===null)throw Error(de(387));n=t.pendingProps,i=t.memoizedState,a=i.element,R4(e,t),R0(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Cl(Error(de(423)),t),t=Ok(e,t,n,r,a);break e}else if(n!==a){a=Cl(Error(de(424)),t),t=Ok(e,t,n,r,a);break e}else for(mn=Ji(t.stateNode.containerInfo.firstChild),gn=t,ut=!0,na=null,r=F4(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nl(),n===a){t=ci(e,t,r);break e}Mr(e,t,n,r)}t=t.child}return t;case 5:return z4(t),e===null&&Hx(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Bx(n,a)?s=null:i!==null&&Bx(n,i)&&(t.flags|=32),uA(e,t),Mr(e,t,s,r),t.child;case 6:return e===null&&Hx(t),null;case 13:return fA(e,t,r);case 4:return ly(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tl(t,null,n,r):Mr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ta(n,a),Ak(e,t,n,a,r);case 7:return Mr(e,t,t.pendingProps,r),t.child;case 8:return Mr(e,t,t.pendingProps.children,r),t.child;case 12:return Mr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,et(F0,n._currentValue),n._currentValue=s,i!==null)if(da(i.value,s)){if(i.children===a.children&&!Jr.current){t=ci(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ei(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Kx(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(de(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Kx(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Mr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,pl(t,r),a=Bn(a),n=n(a),t.flags|=1,Mr(e,t,n,r),t.child;case 14:return n=t.type,a=ta(n,t.pendingProps),a=ta(n.type,a),Ck(e,t,n,a,r);case 15:return lA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ta(n,a),o0(e,t),t.tag=1,Qr(n)?(e=!0,D0(t)):e=!1,pl(t,r),iA(t,n,a),Yx(t,n,a,r),Jx(null,t,n,!0,e,r);case 19:return hA(e,t,r);case 22:return cA(e,t,r)}throw Error(de(156,t.tag))};function AA(e,t){return r4(e,t)}function rL(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,r,n){return new rL(e,t,r,n)}function _y(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nL(e){if(typeof e=="function")return _y(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U1)return 11;if(e===V1)return 14}return 2}function ts(e,t){var r=e.alternate;return r===null?(r=Fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function u0(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")_y(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ho:return qs(r.children,a,i,t);case $1:s=8,a|=8;break;case vx:return e=Fn(12,r,t,a|2),e.elementType=vx,e.lanes=i,e;case yx:return e=Fn(13,r,t,a),e.elementType=yx,e.lanes=i,e;case bx:return e=Fn(19,r,t,a),e.elementType=bx,e.lanes=i,e;case zT:return hp(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LT:s=10;break e;case RT:s=9;break e;case U1:s=11;break e;case V1:s=14;break e;case Li:s=16,n=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Fn(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function qs(e,t,r,n){return e=Fn(7,e,n,t),e.lanes=r,e}function hp(e,t,r,n){return e=Fn(22,e,n,t),e.elementType=zT,e.lanes=r,e.stateNode={isHidden:!1},e}function ig(e,t,r){return e=Fn(6,e,null,t),e.lanes=r,e}function sg(e,t,r){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aL(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Sy(e,t,r,n,a,i,s,o,c){return e=new aL(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oy(i),e}function iL(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function CA(e){if(!e)return is;e=e._reactInternals;e:{if(vo(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(Qr(r))return C4(e,r,t)}return t}function PA(e,t,r,n,a,i,s,o,c){return e=Sy(r,n,!0,e,a,i,s,o,c),e.context=CA(null),r=e.current,n=zr(),a=es(r),i=ei(n,a),i.callback=t??null,Qi(r,i,a),e.current.lanes=a,pd(e,a,n),Zr(e,n),e}function pp(e,t,r,n){var a=t.current,i=zr(),s=es(a);return r=CA(r),t.context===null?t.context=r:t.pendingContext=r,t=ei(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qi(a,t,s),e!==null&&(ca(e,a,s,i),a0(e,a,s)),s}function K0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ey(e,t){Uk(e,t),(e=e.alternate)&&Uk(e,t)}function sL(){return null}var OA=typeof reportError=="function"?reportError:function(e){console.error(e)};function jy(e){this._internalRoot=e}mp.prototype.render=jy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));pp(e,t,null,null)};mp.prototype.unmount=jy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lo(function(){pp(null,e,null,null)}),t[oi]=null}};function mp(e){this._internalRoot=e}mp.prototype.unstable_scheduleHydration=function(e){if(e){var t=c4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bi.length&&t!==0&&t<Bi[r].priority;r++);Bi.splice(r,0,e),r===0&&d4(e)}};function Ny(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vk(){}function oL(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=K0(s);i.call(u)}}var s=PA(t,n,e,0,null,!1,!1,"",Vk);return e._reactRootContainer=s,e[oi]=s.current,Cu(e.nodeType===8?e.parentNode:e),lo(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=K0(c);o.call(u)}}var c=Sy(e,0,!1,null,null,!1,!1,"",Vk);return e._reactRootContainer=c,e[oi]=c.current,Cu(e.nodeType===8?e.parentNode:e),lo(function(){pp(t,c,r,n)}),c}function xp(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var c=K0(s);o.call(c)}}pp(t,s,e,a)}else s=oL(r,t,e,a,n);return K0(s)}o4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xc(t.pendingLanes);r!==0&&(K1(t,r|1),Zr(t,Tt()),!(Fe&6)&&(Pl=Tt()+500,ps()))}break;case 13:lo(function(){var n=li(e,1);if(n!==null){var a=zr();ca(n,e,1,a)}}),Ey(e,1)}};G1=function(e){if(e.tag===13){var t=li(e,134217728);if(t!==null){var r=zr();ca(t,e,134217728,r)}Ey(e,134217728)}};l4=function(e){if(e.tag===13){var t=es(e),r=li(e,t);if(r!==null){var n=zr();ca(r,e,t,n)}Ey(e,t)}};c4=function(){return Ke};u4=function(e,t){var r=Ke;try{return Ke=e,t()}finally{Ke=r}};Cx=function(e,t,r){switch(t){case"input":if(_x(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=op(n);if(!a)throw Error(de(90));$T(n),_x(n,a)}}}break;case"textarea":VT(e,r);break;case"select":t=r.value,t!=null&&ul(e,!!r.multiple,t,!1)}};qT=by;JT=lo;var lL={usingClientEntryPoint:!1,Events:[gd,Xo,op,YT,XT,by]},Ac={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cL={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e4(e),e===null?null:e.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||sL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{np=xf.inject(cL),Na=xf}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lL;kn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ny(t))throw Error(de(200));return iL(e,t,null,r)};kn.createRoot=function(e,t){if(!Ny(e))throw Error(de(299));var r=!1,n="",a=OA;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Sy(e,1,!1,null,null,r,!1,n,a),e[oi]=t.current,Cu(e.nodeType===8?e.parentNode:e),new jy(t)};kn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=e4(t),e=e===null?null:e.stateNode,e};kn.flushSync=function(e){return lo(e)};kn.hydrate=function(e,t,r){if(!gp(t))throw Error(de(200));return xp(null,e,t,!0,r)};kn.hydrateRoot=function(e,t,r){if(!Ny(e))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=OA;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=PA(t,null,e,1,r??null,a,!1,i,s),e[oi]=t.current,Cu(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new mp(t)};kn.render=function(e,t,r){if(!gp(t))throw Error(de(200));return xp(null,e,t,!1,r)};kn.unmountComponentAtNode=function(e){if(!gp(e))throw Error(de(40));return e._reactRootContainer?(lo(function(){xp(null,null,e,!1,function(){e._reactRootContainer=null,e[oi]=null})}),!0):!1};kn.unstable_batchedUpdates=by;kn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gp(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return xp(e,t,r,!1,n)};kn.version="18.3.1-next-f1338f8080-20240426";function DA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DA)}catch(e){console.error(e)}}DA(),DT.exports=kn;var vp=DT.exports;const uL=Fa(vp);var Wk=vp;gx.createRoot=Wk.createRoot,gx.hydrateRoot=Wk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zu.apply(this,arguments)}var Hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hi||(Hi={}));const Hk="popstate";function dL(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return cv("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:G0(a)}return hL(t,r,null,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fL(){return Math.random().toString(36).substr(2,8)}function Kk(e,t){return{usr:e.state,key:e.key,idx:t}}function cv(e,t,r,n){return r===void 0&&(r=null),zu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xl(t):t,{state:r,key:t&&t.key||n||fL()})}function G0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hL(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Hi.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(zu({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=Hi.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:o,location:m.location,delta:v})}function h(x,v){o=Hi.Push;let y=cv(m.location,x,v);u=d()+1;let w=Kk(y,u),k=m.createHref(y);try{s.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(k)}i&&c&&c({action:o,location:m.location,delta:1})}function p(x,v){o=Hi.Replace;let y=cv(m.location,x,v);u=d();let w=Kk(y,u),k=m.createHref(y);s.replaceState(w,"",k),i&&c&&c({action:o,location:m.location,delta:0})}function g(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof x=="string"?x:G0(x);return y=y.replace(/ $/,"%20"),At(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return o},get location(){return e(a,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Hk,f),c=x,()=>{a.removeEventListener(Hk,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return s.go(x)}};return m}var Gk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gk||(Gk={}));function pL(e,t,r){return r===void 0&&(r="/"),mL(e,t,r)}function mL(e,t,r,n){let a=typeof t=="string"?Xl(t):t,i=Ty(a.pathname||"/",r);if(i==null)return null;let s=IA(e);gL(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=TL(i);o=EL(s[c],u)}return o}function IA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(At(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=rs([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(At(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IA(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:_L(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let c of FA(i.path))a(i,s,c)}),t}function FA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=FA(n.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function gL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:SL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xL=/^:[\w-]+$/,vL=3,yL=2,bL=1,wL=10,kL=-2,Yk=e=>e==="*";function _L(e,t){let r=e.split("/"),n=r.length;return r.some(Yk)&&(n+=kL),t&&(n+=yL),r.filter(a=>!Yk(a)).reduce((a,i)=>a+(xL.test(i)?vL:i===""?bL:wL),n)}function SL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function EL(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=jL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:rs([i,f.pathname]),pathnameBase:OL(rs([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=rs([i,f.pathnameBase]))}return s}function jL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function NL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),MA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function TL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return MA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ty(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function AL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Xl(e):e;return{pathname:r?r.startsWith("/")?r:CL(r,t):t,search:DL(n),hash:ML(a)}}function CL(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function og(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ay(e,t){let r=PL(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Cy(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Xl(e):(a=zu({},e),At(!a.pathname||!a.pathname.includes("?"),og("?","pathname","search",a)),At(!a.pathname||!a.pathname.includes("#"),og("#","pathname","hash",a)),At(!a.search||!a.search.includes("#"),og("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=AL(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const rs=e=>e.join("/").replace(/\/\/+/g,"/"),OL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ML=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const LA=["post","put","patch","delete"];new Set(LA);const FL=["get",...LA];new Set(FL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(this,arguments)}const Py=b.createContext(null),LL=b.createContext(null),ms=b.createContext(null),yp=b.createContext(null),bi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),RA=b.createContext(null);function RL(e,t){let{relative:r}=t===void 0?{}:t;ql()||At(!1);let{basename:n,navigator:a}=b.useContext(ms),{hash:i,pathname:s,search:o}=BA(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:rs([n,s])),a.createHref({pathname:c,search:o,hash:i})}function ql(){return b.useContext(yp)!=null}function ma(){return ql()||At(!1),b.useContext(yp).location}function zA(e){b.useContext(ms).static||b.useLayoutEffect(e)}function nr(){let{isDataRoute:e}=b.useContext(bi);return e?JL():zL()}function zL(){ql()||At(!1);let e=b.useContext(Py),{basename:t,future:r,navigator:n}=b.useContext(ms),{matches:a}=b.useContext(bi),{pathname:i}=ma(),s=JSON.stringify(Ay(a,r.v7_relativeSplatPath)),o=b.useRef(!1);return zA(()=>{o.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Cy(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:rs([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function bp(){let{matches:e}=b.useContext(bi),t=e[e.length-1];return t?t.params:{}}function BA(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(ms),{matches:a}=b.useContext(bi),{pathname:i}=ma(),s=JSON.stringify(Ay(a,n.v7_relativeSplatPath));return b.useMemo(()=>Cy(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function BL(e,t){return $L(e,t)}function $L(e,t,r,n){ql()||At(!1);let{navigator:a}=b.useContext(ms),{matches:i}=b.useContext(bi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=ma(),d;if(t){var f;let x=typeof t=="string"?Xl(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||At(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=pL(e,{pathname:p}),m=KL(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:rs([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:rs([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&m?b.createElement(yp.Provider,{value:{location:Bu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hi.Pop}},m):m}function UL(){let e=qL(),t=IL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:a},r):null,null)}const VL=b.createElement(UL,null);class WL extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(bi.Provider,{value:this.props.routeContext},b.createElement(RA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HL(e){let{routeContext:t,match:r,children:n}=e,a=b.useContext(Py);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(bi.Provider,{value:t},n)}function KL(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||At(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,g=!1,m=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||VL,c&&(u<0&&h===0?(QL("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),y=()=>{let w;return p?w=m:g?w=x:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,b.createElement(HL,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(WL,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var $A=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($A||{}),UA=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(UA||{});function GL(e){let t=b.useContext(Py);return t||At(!1),t}function YL(e){let t=b.useContext(LL);return t||At(!1),t}function XL(e){let t=b.useContext(bi);return t||At(!1),t}function VA(e){let t=XL(),r=t.matches[t.matches.length-1];return r.route.id||At(!1),r.route.id}function qL(){var e;let t=b.useContext(RA),r=YL(),n=VA();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function JL(){let{router:e}=GL($A.UseNavigateStable),t=VA(UA.UseNavigateStable),r=b.useRef(!1);return zA(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Bu({fromRouteId:t},i)))},[e,t])}const Xk={};function QL(e,t,r){Xk[e]||(Xk[e]=!0)}function ZL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Y0(e){let{to:t,replace:r,state:n,relative:a}=e;ql()||At(!1);let{future:i,static:s}=b.useContext(ms),{matches:o}=b.useContext(bi),{pathname:c}=ma(),u=nr(),d=Cy(t,Ay(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Be(e){At(!1)}function eR(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Hi.Pop,navigator:i,static:s=!1,future:o}=e;ql()&&At(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:s,future:Bu({v7_relativeSplatPath:!1},o)}),[c,o,i,s]);typeof n=="string"&&(n=Xl(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=b.useMemo(()=>{let x=Ty(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:b.createElement(ms.Provider,{value:u},b.createElement(yp.Provider,{children:r,value:m}))}function tR(e){let{children:t,location:r}=e;return BL(uv(t),r)}new Promise(()=>{});function uv(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,a)=>{if(!b.isValidElement(n))return;let i=[...t,a];if(n.type===b.Fragment){r.push.apply(r,uv(n.props.children,i));return}n.type!==Be&&At(!1),!n.props.index||!n.props.children||At(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=uv(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(this,arguments)}function rR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function nR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aR(e,t){return e.button===0&&(!t||t==="_self")&&!nR(e)}function fv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function iR(e,t){let r=fv(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const sR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oR="6";try{window.__reactRouterVersion=oR}catch{}const lR="startTransition",qk=PT[lR];function cR(e){let{basename:t,children:r,future:n,window:a}=e,i=b.useRef();i.current==null&&(i.current=dL({window:a,v5Compat:!0}));let s=i.current,[o,c]=b.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&qk?qk(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>s.listen(d),[s,d]),b.useEffect(()=>ZL(n),[n]),b.createElement(eR,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const uR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wp=b.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=rR(t,sR),{basename:p}=b.useContext(ms),g,m=!1;if(typeof u=="string"&&dR.test(u)&&(g=u,uR))try{let w=new URL(window.location.href),k=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Ty(k.pathname,p);k.origin===w.origin&&S!=null?u=S+k.search+k.hash:m=!0}catch{}let x=RL(u,{relative:a}),v=fR(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||v(w)}return b.createElement("a",dv({},h,{href:g||x,onClick:m||i?n:y,ref:r,target:c}))});var Jk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jk||(Jk={}));var Qk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qk||(Qk={}));function fR(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,c=nr(),u=ma(),d=BA(e,{relative:s});return b.useCallback(f=>{if(aR(f,r)){f.preventDefault();let h=n!==void 0?n:G0(u)===G0(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,d,n,a,r,e,i,s,o])}function hR(e){let t=b.useRef(fv(e)),r=b.useRef(!1),n=ma(),a=b.useMemo(()=>iR(n.search,r.current?null:t.current),[n.search]),i=nr(),s=b.useCallback((o,c)=>{const u=fv(typeof o=="function"?o(a):o);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}const pR={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.getsnova.com"},WA=typeof import.meta<"u"&&pR&&"https://api.getsnova.com"||(typeof window<"u"?window.location.origin.replace(":5173",":5000"):"http://localhost:5000"),Ol="access_token",Dl="user_id";function mR(){return typeof localStorage<"u"&&localStorage.getItem(Ol)||typeof sessionStorage<"u"&&sessionStorage.getItem(Ol)||""}function HA(e){try{typeof localStorage<"u"&&localStorage.setItem(Ol,e||""),typeof sessionStorage<"u"&&sessionStorage.setItem(Ol,e||"")}catch{}}function gR(){return typeof localStorage<"u"&&localStorage.getItem(Dl)||typeof sessionStorage<"u"&&sessionStorage.getItem(Dl)||""}function hv(e){const t=e==null?"":String(e);try{typeof localStorage<"u"&&localStorage.setItem(Dl,t),typeof sessionStorage<"u"&&sessionStorage.setItem(Dl,t)}catch{}}function X0({access_token:e,token:t,user_id:r}={}){const n=e||t||"";n&&HA(n),r!==void 0&&hv(r)}function xR(e={}){var r;const t=e.access_token||e.token||e.accessToken||"";t&&HA(t),((r=e.user)==null?void 0:r.id)!=null&&hv(e.user.id),e.user_id!=null&&hv(e.user_id)}function vR(){try{typeof localStorage<"u"&&(localStorage.removeItem(Ol),localStorage.removeItem(Dl)),typeof sessionStorage<"u"&&(sessionStorage.removeItem(Ol),sessionStorage.removeItem(Dl))}catch{}}function yR(e){return/^https?:\/\//i.test(e)?e:(e.startsWith("/api/")||(e="/api"+(e.startsWith("/")?"":"/")+e),`${WA}${e}`)}function bR(e){if(e==null)return!1;if(typeof e=="string")try{return JSON.parse(e),!0}catch{return!1}return typeof e=="object"&&!(typeof FormData<"u"&&e instanceof FormData)}async function Fs(e,t={}){const r=yR(e),n=mR(),a=gR(),i={Accept:"application/json",...t.headers||{}};t.body!==void 0&&bR(t.body)&&(i["Content-Type"]=i["Content-Type"]||"application/json",typeof t.body!="string"&&(t.body=JSON.stringify(t.body))),n&&!i.Authorization&&(i.Authorization=`Bearer ${n}`),a&&!i["X-User-Id"]&&(i["X-User-Id"]=a);const s={credentials:"include",...t,headers:i},o=await fetch(r,s);if(!o.ok){if(o.status===405&&!t.__retriedSlash&&!r.includes("?")){const m=r.endsWith("/")?r.replace(/\/+$/,""):`${r}/`;if(m&&m!==r)return Fs(m,{...t,__retriedSlash:!0})}const f=(o.headers.get("content-type")||"").includes("application/json"),h=f?await o.json().catch(()=>({})):await o.text().catch(()=>""),p=f&&(h.detail||h.message||h.msg)||(typeof h=="string"?h:"")||`HTTP ${o.status}`,g=new Error(p);throw g.status=o.status,g.payload=h,g}return(o.headers.get("content-type")||"").includes("application/json")?o.json():o.text()}const Oe={baseURL:WA,get:(e,{params:t}={})=>{if(t&&typeof t=="object"){const r=new URLSearchParams(Object.entries(t).filter(([a,i])=>i!=null&&i!=="")).toString(),n=r?`${e}${e.includes("?")?"&":"?"}${r}`:e;return Fs(n,{method:"GET"})}return Fs(e,{method:"GET"})},post:(e,t,r={})=>Fs(e,{method:"POST",body:t,...r}),put:(e,t,r={})=>Fs(e,{method:"PUT",body:t,...r}),delete:(e,t={})=>Fs(e,{method:"DELETE",...t})};async function wR(e,t={}){return Fs(e,t)}const KA=Object.freeze(Object.defineProperty({__proto__:null,clearAuth:vR,default:Oe,fetchWithAuth:wR,saveTokensFromLogin:xR,setAuth:X0},Symbol.toStringTag,{value:"Module"})),GA=b.createContext(null);function kR({children:e}){const[t,r]=b.useState(null),[n,a]=b.useState(!1);b.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token")||sessionStorage.getItem("access_token"))try{const c=await Oe.get("/api/auth/me");c!=null&&c.id&&(X0({user_id:c.id}),r(c))}catch{s()}a(!0)})()},[]);async function i(o,c){const u=await Oe.post("/api/auth/login",{email:o,password:c}),d=(u==null?void 0:u.access_token)||(u==null?void 0:u.token)||(u==null?void 0:u.accessToken);if(!d)throw new Error("Login sin token");localStorage.setItem("access_token",d);const f=await Oe.get("/api/auth/me");return f!=null&&f.id&&(X0({access_token:d,user_id:f.id}),r(f)),!0}function s(){localStorage.removeItem("access_token"),localStorage.removeItem("user_id"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("user_id"),r(null)}return l.jsx(GA.Provider,{value:{user:t,ready:n,login:i,logout:s},children:e})}function kp(){return b.useContext(GA)}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Zk=e=>{const t=SR(e);return t.charAt(0).toUpperCase()+t.slice(1)},YA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),ER=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},c)=>b.createElement("svg",{ref:c,...jR,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:YA("lucide",a),...!i&&!ER(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(NR,{ref:i,iconNode:t,className:YA(`lucide-${_R(Zk(e))}`,`lucide-${e}`,n),...a}));return r.displayName=Zk(e),r};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oy=xe("arrow-left",TR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dy=xe("arrow-right",AR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],PR=xe("book-open",CR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],DR=xe("boxes",OR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],My=xe("building-2",MR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],FR=xe("calendar-clock",IR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],XA=xe("calendar-days",LR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q0=xe("calendar",RR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qA=xe("chart-column",zR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JA=xe("check",BR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$u=xe("chevron-down",$R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_p=xe("chevron-left",UR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vd=xe("chevron-right",VR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HR=xe("circle-check-big",WR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yd=xe("circle-check",KR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e_=xe("circle-user-round",GR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],J0=xe("clipboard-list",YR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q0=xe("clock",XR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],JR=xe("cloud-upload",qR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],ZR=xe("columns-2",QR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],QA=xe("dollar-sign",ez);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rz=xe("download",tz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ZA=xe("external-link",nz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3.072",key:"n6s66f"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m6.69 16.479 1.29 4.88a.5.5 0 0 1-.698.591l-1.843-.849a1 1 0 0 0-.88.001l-1.846.85a.5.5 0 0 1-.693-.593l1.29-4.88",key:"1e6yvx"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],iz=xe("file-badge",az);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],oz=xe("file-down",sz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Aa=xe("file-text",lz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],uz=xe("folder-kanban",cz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],fz=xe("folder-open",dz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],e3=xe("funnel",hz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mz=xe("globe",pz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],xz=xe("hash",gz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],yz=xe("history",vz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],wz=xe("hotel",bz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],_z=xe("hourglass",kz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Iy=xe("image",Sz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],jz=xe("landmark",Ez);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Tz=xe("layout-dashboard",Nz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],t3=xe("link",Az);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Pz=xe("list-todo",Cz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],Dz=xe("list-tree",Oz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sp=xe("loader-circle",Mz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fz=xe("log-out",Iz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rz=xe("mail",Lz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],r3=xe("map-pin",zz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],$z=xe("menu",Bz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M5 12h14",key:"1ays0h"}]],Vz=xe("minus",Uz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Hz=xe("moon",Wz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],Gz=xe("package-x",Kz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Xz=xe("package",Yz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],Jz=xe("paint-bucket",qz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],Zz=xe("paintbrush",Qz);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Z0=xe("paperclip",e7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],r7=xe("pause",t7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],n3=xe("pen-line",n7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],wi=xe("pencil",a7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],s7=xe("phone",i7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],d0=xe("play",o7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],en=xe("plus",l7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Fy=xe("printer",c7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],d7=xe("qr-code",u7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],h7=xe("receipt",f7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],m7=xe("refresh-ccw",p7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],x7=xe("repeat",g7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],a3=xe("rotate-ccw",v7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ep=xe("save",y7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],w7=xe("scroll-text",b7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ly=xe("search",k7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],S7=xe("settings-2",_7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],j7=xe("sun",E7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],T7=xe("table-2",N7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],i3=xe("tag",A7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],s3=xe("thermometer",C7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],O7=xe("thumbs-down",P7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],M7=xe("thumbs-up",D7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wn=xe("trash-2",I7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],L7=xe("trending-up",F7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],z7=xe("triangle-alert",R7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jp=xe("upload",B7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],o3=xe("user-round",$7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],l3=xe("users",U7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],yo=xe("wrench",V7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pr=xe("x",W7),c3=b.createContext({theme:"system",setTheme:()=>{},toggleTheme:()=>{}});function H7(){return typeof window>"u"?!1:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function t_(e){const t=document.documentElement,r=e==="dark"||e==="system"&&H7();t.classList.toggle("dark",r),t.style.colorScheme=r?"dark":"light";const n=document.querySelector('meta[name="theme-color"]');n&&n.setAttribute("content",r?"#0a0a0b":"#f6f7fb")}function K7({children:e}){const[t,r]=b.useState(()=>localStorage.getItem("theme_pref")||"system");b.useEffect(()=>{t_(t),localStorage.setItem("theme_pref",t)},[t]),b.useEffect(()=>{var s;if(t!=="system")return;const a=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>t_("system");return(s=a.addEventListener)==null||s.call(a,"change",i),()=>{var o;return(o=a.removeEventListener)==null?void 0:o.call(a,"change",i)}},[t]);const n=b.useMemo(()=>({theme:t,setTheme:r,toggleTheme:()=>r(a=>a==="dark"?"light":"dark")}),[t]);return l.jsx(c3.Provider,{value:n,children:e})}function G7(){return b.useContext(c3)}function Y7({collapsed:e=!1}){const{theme:t,toggleTheme:r}=G7(),n=t==="dark";return l.jsxs("button",{type:"button",onClick:r,title:n?"Cambiar a modo claro":"Cambiar a modo oscuro",className:`w-full flex items-center gap-3 px-2 py-2 rounded-md text-sm transition
                  border bg-[var(--btn-bg)] border-[var(--border-1)] text-[var(--text-1)]
                  hover:bg-[var(--surface-2)]
                  ${e?"justify-center":""}`,children:[n?l.jsx(j7,{size:18}):l.jsx(Hz,{size:18}),!e&&l.jsx("span",{className:"font-medium",children:n?"Light mode":"Dark mode"})]})}const X7=[{to:"/dashboard",label:"Dashboard",icon:Tz},{to:"/todo",label:"To Do",icon:Pz},{to:"/inventory",label:"Inventory",icon:Xz},{to:"/vendors",label:"Vendors",icon:My},{to:"/quotes",label:"Quotes",icon:Aa},{to:"/invoices",label:"Invoices",icon:h7},{to:"/assets",label:"Assets",icon:yo},{to:"/projects",label:"Projects",icon:uz},{to:"/users",label:"Users",icon:l3},{to:"/paint",label:"Paint",icon:Zz},{to:"/schedule",label:"Schedule",icon:q0},{to:"/licenses-permits",label:"Licenses & Permits",icon:w7},{to:"/pms",label:"PMs",icon:J0},{to:"/room-status",label:"Room Status",icon:wz},{to:"/inspections",label:"Inspections",icon:qA},{to:"/documents",label:"Documents",icon:fz},{to:"/manuals",label:"Manuals",icon:PR},{to:"/calendar",label:"Calendar",icon:q0}];function q7({collapsed:e,setCollapsed:t}){const{pathname:r}=ma(),{user:n,logout:a}=kp(),i=nr(),[s,o]=b.useState(!1);b.useEffect(()=>{localStorage.setItem("sidebar_collapsed",e?"1":"0")},[e]);const c=()=>{a(),i("/login",{replace:!0})};return b.useEffect(()=>{o(!1)},[r]),l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"lg:hidden fixed top-3 left-3 z-50",children:l.jsx("button",{onClick:()=>o(!s),className:`bg-[var(--sidebar-bg)] border border-[var(--border-1)] 
                     p-2 rounded-md shadow-sm text-[var(--text-1)]`,children:s?l.jsx(Pr,{size:20}):l.jsx($z,{size:20})})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-40 lg:hidden",onClick:()=>o(!1)}),l.jsxs("aside",{className:`
          fixed left-0 top-0 h-screen
          bg-[var(--sidebar-bg)] text-[var(--text-1)] border-[var(--border-1)] border-r
          w-[var(--sidebar-w)]
          transition-all duration-300 ease-in-out z-50
          ${s?"translate-x-0":"-translate-x-full"} 
          lg:translate-x-0
        `,children:[l.jsxs("div",{className:"flex items-center justify-between h-14 border-b px-2 border-[var(--border-1)]",children:[e?l.jsx("span",{className:"w-full text-center font-semibold text-xs text-[var(--text-1)]",children:"HE"}):l.jsx("span",{className:"font-semibold text-sm tracking-wide text-[var(--text-1)]",children:"Hotel Engineering"}),l.jsx("button",{onClick:()=>t(u=>!u),className:"hidden lg:block rounded p-1 hover:bg-[var(--surface-2)]","aria-label":"toggle sidebar",title:e?"Expandir":"Colapsar",children:e?l.jsx(vd,{size:18}):l.jsx(_p,{size:18})})]}),l.jsx("nav",{className:"p-2 space-y-1 overflow-y-auto h-[calc(100vh-150px)]",children:X7.map(u=>{const d=u.icon,f=r===u.to||r.startsWith(u.to+"/");return l.jsxs(wp,{to:u.to,title:u.label,className:`flex items-center gap-3 px-2 py-2 rounded-md text-sm transition
                            hover:bg-[var(--surface-2)]
                            ${f?"bg-[var(--surface-2)] font-medium":"text-[var(--text-1)]"}
                            ${e?"justify-center":""}
                            `,children:[l.jsx(d,{size:20}),!e&&l.jsx("span",{children:u.label})]},u.to)})}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 border-t border-[var(--border-1)] bg-[var(--sidebar-bg)]",children:[l.jsx("div",{className:"px-2 py-2",children:l.jsx(Y7,{collapsed:e})}),l.jsxs("div",{className:`flex items-center ${e?"justify-center":"justify-between"} px-2 py-3`,children:[e?l.jsx(e_,{size:22,className:"opacity-80",title:(n==null?void 0:n.name)||"Usuario"}):l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx(e_,{size:22,className:"opacity-80"}),l.jsxs("div",{className:"truncate",children:[l.jsx("div",{className:"text-sm font-medium truncate",children:(n==null?void 0:n.name)||"Usuario"}),l.jsx("div",{className:"text-[11px] opacity-70 truncate",children:(n==null?void 0:n.email)||""})]})]}),l.jsxs("button",{onClick:c,className:`rounded px-2 py-1 text-xs bg-[var(--accent-red)] 
                         text-white hover:opacity-90 flex items-center gap-1`,title:"Logout",children:[l.jsx(Fz,{size:14}),!e&&l.jsx("span",{children:"Logout"})]})]})]})]})]})}function J7(e){try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=atob(t);return JSON.parse(r)}catch{return null}}function Q7(e){if(!e)return!1;const t=J7(e);if(!t||typeof t.exp!="number")return!1;const r=Math.floor(Date.now()/1e3);return t.exp>r}function qe({children:e}){const t=ma(),r=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");return Q7(r)?e:(localStorage.removeItem("access_token"),localStorage.removeItem("user_id"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("user_id"),l.jsx(Y0,{to:"/login",replace:!0,state:{from:t}}))}function Z7(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const e9=e=>{switch(e){case"success":return n9;case"info":return i9;case"warning":return a9;case"error":return s9;default:return null}},t9=Array(12).fill(0),r9=({visible:e,className:t})=>fe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},fe.createElement("div",{className:"sonner-spinner"},t9.map((r,n)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),n9=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),a9=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),i9=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),s9=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),o9=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),l9=()=>{const[e,t]=fe.useState(document.hidden);return fe.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let pv=1;class c9{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:pv++,s=this.toasts.find(c=>c.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:o,title:n}):c):this.addToast({title:n,...a,dismissible:o,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,s;const o=a.then(async u=>{if(s=["resolve",u],fe.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(d9(u)&&!u.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,h=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,g=typeof f=="object"&&!fe.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(u instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!fe.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...g})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(u):r.success,h=typeof r.description=="function"?await r.description(u):r.description,g=typeof f=="object"&&!fe.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:h,...g})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,p=typeof d=="object"&&!fe.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...p})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||pv++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wr=new c9,u9=(e,t)=>{const r=(t==null?void 0:t.id)||pv++;return Wr.addToast({title:e,...t,id:r}),r},d9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",f9=u9,h9=()=>Wr.toasts,p9=()=>Wr.getActiveToasts();Object.assign(f9,{success:Wr.success,info:Wr.info,warning:Wr.warning,error:Wr.error,custom:Wr.custom,message:Wr.message,promise:Wr.promise,dismiss:Wr.dismiss,loading:Wr.loading},{getHistory:h9,getToasts:p9});Z7("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vf(e){return e.label!==void 0}const m9=3,g9="24px",x9="16px",r_=4e3,v9=356,y9=14,b9=45,w9=200;function ba(...e){return e.filter(Boolean).join(" ")}function k9(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const _9=e=>{var t,r,n,a,i,s,o,c,u;const{invert:d,toast:f,unstyled:h,interacting:p,setHeights:g,visibleToasts:m,heights:x,index:v,toasts:y,expanded:w,removeToast:k,defaultRichColors:S,closeButton:E,style:j,cancelButtonStyle:C,actionButtonStyle:T,className:M="",descriptionClassName:D="",duration:A,position:_,gap:N,expandByDefault:O,classNames:K,icons:I,closeButtonAriaLabel:Y="Close toast"}=e,[G,q]=fe.useState(null),[ce,F]=fe.useState(null),[z,H]=fe.useState(!1),[L,X]=fe.useState(!1),[ee,he]=fe.useState(!1),[ne,ie]=fe.useState(!1),[Se,ae]=fe.useState(!1),[Le,Ee]=fe.useState(0),[tt,De]=fe.useState(0),ye=fe.useRef(f.duration||A||r_),Xt=fe.useRef(null),Bt=fe.useRef(null),La=v===0,Ci=v+1<=m,br=f.type,xa=f.dismissible!==!1,En=f.className||"",To=f.descriptionClassName||"",Pi=fe.useMemo(()=>x.findIndex(Te=>Te.toastId===f.id)||0,[x,f.id]),mc=fe.useMemo(()=>{var Te;return(Te=f.closeButton)!=null?Te:E},[f.closeButton,E]),va=fe.useMemo(()=>f.duration||A||r_,[f.duration,A]),gc=fe.useRef(0),Ra=fe.useRef(0),xc=fe.useRef(0),za=fe.useRef(null),[Yd,Xd]=_.split("-"),vc=fe.useMemo(()=>x.reduce((Te,Pt,qt)=>qt>=Pi?Te:Te+Pt.height,0),[x,Pi]),qd=l9(),Pm=f.invert||d,Ao=br==="loading";Ra.current=fe.useMemo(()=>Pi*N+vc,[Pi,vc]),fe.useEffect(()=>{ye.current=va},[va]),fe.useEffect(()=>{H(!0)},[]),fe.useEffect(()=>{const Te=Bt.current;if(Te){const Pt=Te.getBoundingClientRect().height;return De(Pt),g(qt=>[{toastId:f.id,height:Pt,position:f.position},...qt]),()=>g(qt=>qt.filter(Or=>Or.toastId!==f.id))}},[g,f.id]),fe.useLayoutEffect(()=>{if(!z)return;const Te=Bt.current,Pt=Te.style.height;Te.style.height="auto";const qt=Te.getBoundingClientRect().height;Te.style.height=Pt,De(qt),g(Or=>Or.find($t=>$t.toastId===f.id)?Or.map($t=>$t.toastId===f.id?{...$t,height:qt}:$t):[{toastId:f.id,height:qt,position:f.position},...Or])},[z,f.title,f.description,g,f.id,f.jsx,f.action,f.cancel]);const Xn=fe.useCallback(()=>{X(!0),Ee(Ra.current),g(Te=>Te.filter(Pt=>Pt.toastId!==f.id)),setTimeout(()=>{k(f)},w9)},[f,k,g,Ra]);fe.useEffect(()=>{if(f.promise&&br==="loading"||f.duration===1/0||f.type==="loading")return;let Te;return w||p||qd?(()=>{if(xc.current<gc.current){const Or=new Date().getTime()-gc.current;ye.current=ye.current-Or}xc.current=new Date().getTime()})():(()=>{ye.current!==1/0&&(gc.current=new Date().getTime(),Te=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Xn()},ye.current))})(),()=>clearTimeout(Te)},[w,p,f,br,qd,Xn]),fe.useEffect(()=>{f.delete&&(Xn(),f.onDismiss==null||f.onDismiss.call(f,f))},[Xn,f.delete]);function Jd(){var Te;if(I!=null&&I.loading){var Pt;return fe.createElement("div",{className:ba(K==null?void 0:K.loader,f==null||(Pt=f.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":br==="loading"},I.loading)}return fe.createElement(r9,{className:ba(K==null?void 0:K.loader,f==null||(Te=f.classNames)==null?void 0:Te.loader),visible:br==="loading"})}const Om=f.icon||(I==null?void 0:I[br])||e9(br);var Qd,ks;return fe.createElement("li",{tabIndex:0,ref:Bt,className:ba(M,En,K==null?void 0:K.toast,f==null||(t=f.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[br],f==null||(r=f.classNames)==null?void 0:r[br]),"data-sonner-toast":"","data-rich-colors":(Qd=f.richColors)!=null?Qd:S,"data-styled":!(f.jsx||f.unstyled||h),"data-mounted":z,"data-promise":!!f.promise,"data-swiped":Se,"data-removed":L,"data-visible":Ci,"data-y-position":Yd,"data-x-position":Xd,"data-index":v,"data-front":La,"data-swiping":ee,"data-dismissible":xa,"data-type":br,"data-invert":Pm,"data-swipe-out":ne,"data-swipe-direction":ce,"data-expanded":!!(w||O&&z),"data-testid":f.testId,style:{"--index":v,"--toasts-before":v,"--z-index":y.length-v,"--offset":`${L?Le:Ra.current}px`,"--initial-height":O?"auto":`${tt}px`,...j,...f.style},onDragEnd:()=>{he(!1),q(null),za.current=null},onPointerDown:Te=>{Te.button!==2&&(Ao||!xa||(Xt.current=new Date,Ee(Ra.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(he(!0),za.current={x:Te.clientX,y:Te.clientY})))},onPointerUp:()=>{var Te,Pt,qt;if(ne||!xa)return;za.current=null;const Or=Number(((Te=Bt.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Co=Number(((Pt=Bt.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((qt=Xt.current)==null?void 0:qt.getTime()),Vr=G==="x"?Or:Co,Po=Math.abs(Vr)/$t;if(Math.abs(Vr)>=b9||Po>.11){Ee(Ra.current),f.onDismiss==null||f.onDismiss.call(f,f),F(G==="x"?Or>0?"right":"left":Co>0?"down":"up"),Xn(),ie(!0);return}else{var Dr,sn;(Dr=Bt.current)==null||Dr.style.setProperty("--swipe-amount-x","0px"),(sn=Bt.current)==null||sn.style.setProperty("--swipe-amount-y","0px")}ae(!1),he(!1),q(null)},onPointerMove:Te=>{var Pt,qt,Or;if(!za.current||!xa||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;const $t=Te.clientY-za.current.y,Vr=Te.clientX-za.current.x;var Po;const Dr=(Po=e.swipeDirections)!=null?Po:k9(_);!G&&(Math.abs(Vr)>1||Math.abs($t)>1)&&q(Math.abs(Vr)>Math.abs($t)?"x":"y");let sn={x:0,y:0};const Zd=Ba=>1/(1.5+Math.abs(Ba)/20);if(G==="y"){if(Dr.includes("top")||Dr.includes("bottom"))if(Dr.includes("top")&&$t<0||Dr.includes("bottom")&&$t>0)sn.y=$t;else{const Ba=$t*Zd($t);sn.y=Math.abs(Ba)<Math.abs($t)?Ba:$t}}else if(G==="x"&&(Dr.includes("left")||Dr.includes("right")))if(Dr.includes("left")&&Vr<0||Dr.includes("right")&&Vr>0)sn.x=Vr;else{const Ba=Vr*Zd(Vr);sn.x=Math.abs(Ba)<Math.abs(Vr)?Ba:Vr}(Math.abs(sn.x)>0||Math.abs(sn.y)>0)&&ae(!0),(qt=Bt.current)==null||qt.style.setProperty("--swipe-amount-x",`${sn.x}px`),(Or=Bt.current)==null||Or.style.setProperty("--swipe-amount-y",`${sn.y}px`)}},mc&&!f.jsx&&br!=="loading"?fe.createElement("button",{"aria-label":Y,"data-disabled":Ao,"data-close-button":!0,onClick:Ao||!xa?()=>{}:()=>{Xn(),f.onDismiss==null||f.onDismiss.call(f,f)},className:ba(K==null?void 0:K.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(ks=I==null?void 0:I.close)!=null?ks:o9):null,(br||f.icon||f.promise)&&f.icon!==null&&((I==null?void 0:I[br])!==null||f.icon)?fe.createElement("div",{"data-icon":"",className:ba(K==null?void 0:K.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Jd():null,f.type!=="loading"?Om:null):null,fe.createElement("div",{"data-content":"",className:ba(K==null?void 0:K.content,f==null||(i=f.classNames)==null?void 0:i.content)},fe.createElement("div",{"data-title":"",className:ba(K==null?void 0:K.title,f==null||(s=f.classNames)==null?void 0:s.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?fe.createElement("div",{"data-description":"",className:ba(D,To,K==null?void 0:K.description,f==null||(o=f.classNames)==null?void 0:o.description)},typeof f.description=="function"?f.description():f.description):null),fe.isValidElement(f.cancel)?f.cancel:f.cancel&&vf(f.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:Te=>{vf(f.cancel)&&xa&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Te),Xn())},className:ba(K==null?void 0:K.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,fe.isValidElement(f.action)?f.action:f.action&&vf(f.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Te=>{vf(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Te),!Te.defaultPrevented&&Xn())},className:ba(K==null?void 0:K.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function n_(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function S9(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,s=i?"--mobile-offset":"--offset",o=i?x9:g9;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=o:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}const E9=fe.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:d,mobileOffset:f,theme:h="light",richColors:p,duration:g,style:m,visibleToasts:x=m9,toastOptions:v,dir:y=n_(),gap:w=y9,icons:k,containerAriaLabel:S="Notifications"}=t,[E,j]=fe.useState([]),C=fe.useMemo(()=>n?E.filter(z=>z.toasterId===n):E.filter(z=>!z.toasterId),[E,n]),T=fe.useMemo(()=>Array.from(new Set([i].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,i]),[M,D]=fe.useState([]),[A,_]=fe.useState(!1),[N,O]=fe.useState(!1),[K,I]=fe.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=fe.useRef(null),G=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=fe.useRef(null),ce=fe.useRef(!1),F=fe.useCallback(z=>{j(H=>{var L;return(L=H.find(X=>X.id===z.id))!=null&&L.delete||Wr.dismiss(z.id),H.filter(({id:X})=>X!==z.id)})},[]);return fe.useEffect(()=>Wr.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{j(H=>H.map(L=>L.id===z.id?{...L,delete:!0}:L))});return}setTimeout(()=>{uL.flushSync(()=>{j(H=>{const L=H.findIndex(X=>X.id===z.id);return L!==-1?[...H.slice(0,L),{...H[L],...z},...H.slice(L+1)]:[z,...H]})})})}),[E]),fe.useEffect(()=>{if(h!=="system"){I(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:H})=>{I(H?"dark":"light")})}catch{z.addListener(({matches:L})=>{try{I(L?"dark":"light")}catch(X){console.error(X)}})}},[h]),fe.useEffect(()=>{E.length<=1&&_(!1)},[E]),fe.useEffect(()=>{const z=H=>{var L;if(s.every(he=>H[he]||H.code===he)){var ee;_(!0),(ee=Y.current)==null||ee.focus()}H.code==="Escape"&&(document.activeElement===Y.current||(L=Y.current)!=null&&L.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[s]),fe.useEffect(()=>{if(Y.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,ce.current=!1)}},[Y.current]),fe.createElement("section",{ref:r,"aria-label":`${S} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((z,H)=>{var L;const[X,ee]=z.split("-");return C.length?fe.createElement("ol",{key:z,dir:y==="auto"?n_():y,tabIndex:-1,ref:Y,className:u,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":X,"data-x-position":ee,style:{"--front-toast-height":`${((L=M[0])==null?void 0:L.height)||0}px`,"--width":`${v9}px`,"--gap":`${w}px`,...m,...S9(d,f)},onBlur:he=>{ce.current&&!he.currentTarget.contains(he.relatedTarget)&&(ce.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||ce.current||(ce.current=!0,q.current=he.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{N||_(!1)},onDragEnd:()=>_(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},C.filter(he=>!he.position&&H===0||he.position===z).map((he,ne)=>{var ie,Se;return fe.createElement(_9,{key:he.id,icons:k,index:ne,toast:he,defaultRichColors:p,duration:(ie=v==null?void 0:v.duration)!=null?ie:g,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:a,visibleToasts:x,closeButton:(Se=v==null?void 0:v.closeButton)!=null?Se:c,interacting:N,position:z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,closeButtonAriaLabel:v==null?void 0:v.closeButtonAriaLabel,removeToast:F,toasts:C.filter(ae=>ae.position==he.position),heights:M.filter(ae=>ae.position==he.position),setHeights:D,expandByDefault:o,gap:w,expanded:A,swipeDirections:t.swipeDirections})})):null}))});function j9(){var p,g;const{login:e}=kp(),t=nr(),n=((g=(p=ma().state)==null?void 0:p.from)==null?void 0:g.pathname)||"/dashboard",[a,i]=b.useState("admin@example.com"),[s,o]=b.useState("Admin#2025"),[c,u]=b.useState(!1),[d,f]=b.useState(""),h=async m=>{m.preventDefault(),u(!0),f("");try{await e(a,s),t(n,{replace:!0})}catch(x){f((x==null?void 0:x.message)||"Login error")}finally{u(!1)}};return l.jsxs("div",{className:`min-h-screen flex items-center justify-center 
                 bg-zinc-50 dark:bg-[#121212] text-zinc-800 dark:text-zinc-100 
                 transition-colors duration-300 page-fade-in`,children:[l.jsxs("form",{onSubmit:h,className:`w-full max-w-sm sm:max-w-md p-8 rounded-2xl 
                   border border-zinc-200 dark:border-zinc-800 
                   bg-white/70 dark:bg-zinc-900/60 
                   shadow-lg backdrop-blur-sm transition-all`,children:[l.jsx("h1",{className:"text-2xl font-semibold mb-6 text-center text-[#0B5150] dark:text-[rgb(243,255,255)]",children:"Sign in"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1 opacity-80",children:"Email"}),l.jsx("input",{className:`w-full px-3 py-2 rounded-xl border border-zinc-300 
                         dark:bg-zinc-800 dark:border-zinc-700 
                         focus:ring-2 focus:ring-[#0B5150] dark:focus:ring-[#0B5150] 
                         outline-none transition`,type:"email",value:a,onChange:m=>i(m.target.value),autoComplete:"username",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1 opacity-80",children:"Password"}),l.jsx("input",{className:`w-full px-3 py-2 rounded-xl border border-zinc-300 
                         dark:bg-zinc-800 dark:border-zinc-700 
                         focus:ring-2 focus:ring-[#0B5150] dark:focus:ring-[#0B5150] 
                         outline-none transition`,type:"password",value:s,onChange:m=>o(m.target.value),autoComplete:"current-password",required:!0})]}),d&&l.jsx("div",{className:"text-red-600 text-sm mt-1 text-center",children:String(d)})]}),l.jsx("button",{disabled:c,className:`w-full mt-6 px-4 py-2 rounded-2xl font-medium 
                     bg-[#0B5150] hover:bg-[#0d6664] text-black 
                     dark:bg-[#0B5150] dark:hover:bg-[#0d6664] dark:text-white 
                     disabled:opacity-60 transition-all shadow-sm`,type:"submit",children:c?"Signing in...":"Sign in"}),l.jsxs("p",{className:"text-xs text-center text-zinc-500 dark:text-zinc-400 mt-4",children:[" ",new Date().getFullYear()," Hotel Engineering App"]})]}),l.jsx("style",{children:`
        .page-fade-in {
          animation: login-fade .4s ease-out;
        }
        @keyframes login-fade {
          from { opacity: 0; transform: translateY(6px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function a_({stats:e=[]}){return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:e.map(t=>l.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-white dark:bg-[#1d1f24] dark:border-zinc-700 shadow-sm p-4 flex flex-col items-center justify-center",children:[l.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:t.label}),l.jsx("p",{className:"text-3xl font-semibold text-[#0B5150] mt-1",children:t.value})]},t.label))})}function u3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=u3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function wt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=u3(e))&&(n&&(n+=" "),n+=t);return n}var Np={},d3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(d3);var Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ry);var zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(zy);var Tp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,s="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];o?u==="\\"&&i+1<a?(i++,s+=r[i]):u===o?o="":s+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,i++}return s&&n.push(s),n}e.toPath=t})(Tp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d3,r=Ry,n=zy,a=Tp;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Np);var N9=Np.get;const Uu=Fa(N9);var f3={exports:{}},Qe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=Symbol.for("react.transitional.element"),$y=Symbol.for("react.portal"),Ap=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),Op=Symbol.for("react.consumer"),Dp=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),Lp=Symbol.for("react.memo"),Rp=Symbol.for("react.lazy"),T9=Symbol.for("react.view_transition"),A9=Symbol.for("react.client.reference");function Hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case By:switch(e=e.type,e){case Ap:case Pp:case Cp:case Ip:case Fp:case T9:return e;default:switch(e=e&&e.$$typeof,e){case Dp:case Mp:case Rp:case Lp:return e;case Op:return e;default:return t}}case $y:return t}}}Qe.ContextConsumer=Op;Qe.ContextProvider=Dp;Qe.Element=By;Qe.ForwardRef=Mp;Qe.Fragment=Ap;Qe.Lazy=Rp;Qe.Memo=Lp;Qe.Portal=$y;Qe.Profiler=Pp;Qe.StrictMode=Cp;Qe.Suspense=Ip;Qe.SuspenseList=Fp;Qe.isContextConsumer=function(e){return Hn(e)===Op};Qe.isContextProvider=function(e){return Hn(e)===Dp};Qe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===By};Qe.isForwardRef=function(e){return Hn(e)===Mp};Qe.isFragment=function(e){return Hn(e)===Ap};Qe.isLazy=function(e){return Hn(e)===Rp};Qe.isMemo=function(e){return Hn(e)===Lp};Qe.isPortal=function(e){return Hn(e)===$y};Qe.isProfiler=function(e){return Hn(e)===Pp};Qe.isStrictMode=function(e){return Hn(e)===Cp};Qe.isSuspense=function(e){return Hn(e)===Ip};Qe.isSuspenseList=function(e){return Hn(e)===Fp};Qe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ap||e===Pp||e===Cp||e===Ip||e===Fp||typeof e=="object"&&e!==null&&(e.$$typeof===Rp||e.$$typeof===Lp||e.$$typeof===Dp||e.$$typeof===Op||e.$$typeof===Mp||e.$$typeof===A9||e.getModuleId!==void 0)};Qe.typeOf=Hn;f3.exports=Qe;var C9=f3.exports,Yr=e=>e===0?0:e>0?1:-1,fa=e=>typeof e=="number"&&e!=+e,Vs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Me=e=>(typeof e=="number"||e instanceof Number)&&!fa(e),ui=e=>Me(e)||typeof e=="string",P9=0,Vu=e=>{var t=++P9;return"".concat(e||"").concat(t)},xn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(t)&&typeof t!="string")return n;var i;if(Vs(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return fa(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},h3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function jr(e,t,r){return Me(e)&&Me(t)?e+r*(t-e):t}function p3(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Uu(n,t))===r)}var Ht=e=>e===null||typeof e>"u",bd=e=>Ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),O9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Uy(e){if(typeof e!="string")return!1;var t=O9;return t.includes(e)}var D9=["viewBox","children"],i_=["points","pathLength"],lg={svg:D9,polygon:i_,polyline:i_},Vy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Uy(a)&&(n[a]=i=>r[a](r,i))}),n},M9=(e,t,r)=>n=>(e(t,r,n),null),I9=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Uy(a)&&typeof i=="function"&&(n||(n={}),n[a]=M9(i,t,r))}),n},F9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function m3(e){if(typeof e!="string")return!1;var t=F9;return t.includes(e)}function Jl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return m3(n)});return Object.fromEntries(t)}var s_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",o_=null,cg=null,g3=e=>{if(e===o_&&Array.isArray(cg))return cg;var t=[];return b.Children.forEach(e,r=>{Ht(r)||(C9.isFragment(r)?t=t.concat(g3(r.props.children)):t.push(r))}),cg=t,o_=e,t};function x3(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>s_(a)):n=[s_(t)],g3(e).forEach(a=>{var i=Uu(a,"type.displayName")||Uu(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var v3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,L9=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(lg==null?void 0:lg[n]))!==null&&a!==void 0?a:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||m3(t)),c=!!r&&Uy(t);return s||o||c},Kt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;L9((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},R9=["children","width","height","viewBox","className","style","title","desc"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function z9(e,t){if(e==null)return{};var r,n,a=B9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function B9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y3=b.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:c,desc:u}=e,d=z9(e,R9),f=i||{width:n,height:a,x:0,y:0},h=wt("recharts-surface",s);return b.createElement("svg",mv({},Kt(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,c),b.createElement("desc",null,u),r)}),$9=["children","className"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}function U9(e,t){if(e==null)return{};var r,n,a=V9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ha=b.forwardRef((e,t)=>{var{children:r,className:n}=e,a=U9(e,$9),i=wt("recharts-layer",n);return b.createElement("g",gv({className:i},Kt(a,!0),{ref:t}),r)}),W9=b.createContext(null);function Ze(e){return function(){return e}}const b3=Math.cos,eh=Math.sin,ga=Math.sqrt,th=Math.PI,zp=2*th,xv=Math.PI,vv=2*xv,Os=1e-6,H9=vv-Os;function w3(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function K9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return w3;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class G9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?w3:K9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Os)if(!(Math.abs(f*c-u*d)>Os)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-o,m=c*c+u*u,x=p*p+g*g,v=Math.sqrt(m),y=Math.sqrt(h),w=i*Math.tan((xv-Math.acos((m+h-x)/(2*v*y)))/2),k=w/y,S=w/v;Math.abs(k-1)>Os&&this._append`L${t+k*d},${r+k*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Os||Math.abs(this._y1-d)>Os)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%vv+vv),h>H9?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Os&&this._append`A${n},${n},0,${+(h>=xv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Wy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new G9(t)}function Hy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function k3(e){this._context=e}k3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bp(e){return new k3(e)}function _3(e){return e[0]}function S3(e){return e[1]}function E3(e,t){var r=Ze(!0),n=null,a=Bp,i=null,s=Wy(o);e=typeof e=="function"?e:e===void 0?_3:Ze(e),t=typeof t=="function"?t:t===void 0?S3:Ze(t);function o(c){var u,d=(c=Hy(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ze(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ze(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ze(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function yf(e,t,r){var n=null,a=Ze(!0),i=null,s=Bp,o=null,c=Wy(u);e=typeof e=="function"?e:e===void 0?_3:Ze(+e),t=typeof t=="function"?t:Ze(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?S3:Ze(+r);function u(f){var h,p,g,m=(f=Hy(f)).length,x,v=!1,y,w=new Array(m),k=new Array(m);for(i==null&&(o=s(y=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===v)if(v=!v)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=p;--g)o.point(w[g],k[g]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+e(x,h,f),k[h]=+t(x,h,f),o.point(n?+n(x,h,f):w[h],r?+r(x,h,f):k[h]))}if(y)return o=null,y+""||null}function d(){return E3().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ze(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class j3{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Y9(e){return new j3(e,!0)}function X9(e){return new j3(e,!1)}const Ky={draw(e,t){const r=ga(t/th);e.moveTo(r,0),e.arc(0,0,r,0,zp)}},q9={draw(e,t){const r=ga(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},N3=ga(1/3),J9=N3*2,Q9={draw(e,t){const r=ga(t/J9),n=r*N3;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Z9={draw(e,t){const r=ga(t),n=-r/2;e.rect(n,n,r,r)}},eB=.8908130915292852,T3=eh(th/10)/eh(7*th/10),tB=eh(zp/10)*T3,rB=-b3(zp/10)*T3,nB={draw(e,t){const r=ga(t*eB),n=tB*r,a=rB*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=zp*i/5,o=b3(s),c=eh(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},ug=ga(3),aB={draw(e,t){const r=-ga(t/(ug*3));e.moveTo(0,r*2),e.lineTo(-ug*r,-r),e.lineTo(ug*r,-r),e.closePath()}},jn=-.5,Nn=ga(3)/2,yv=1/ga(12),iB=(yv/2+1)*3,sB={draw(e,t){const r=ga(t/iB),n=r/2,a=r*yv,i=n,s=r*yv+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(jn*n-Nn*a,Nn*n+jn*a),e.lineTo(jn*i-Nn*s,Nn*i+jn*s),e.lineTo(jn*o-Nn*c,Nn*o+jn*c),e.lineTo(jn*n+Nn*a,jn*a-Nn*n),e.lineTo(jn*i+Nn*s,jn*s-Nn*i),e.lineTo(jn*o+Nn*c,jn*c-Nn*o),e.closePath()}};function oB(e,t){let r=null,n=Wy(a);e=typeof e=="function"?e:Ze(e||Ky),t=typeof t=="function"?t:Ze(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ze(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ze(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function rh(){}function nh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function A3(e){this._context=e}A3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lB(e){return new A3(e)}function C3(e){this._context=e}C3.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cB(e){return new C3(e)}function P3(e){this._context=e}P3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uB(e){return new P3(e)}function O3(e){this._context=e}O3.prototype={areaStart:rh,areaEnd:rh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dB(e){return new O3(e)}function l_(e){return e<0?-1:1}function c_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(l_(i)+l_(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function u_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function ah(e){this._context=e}ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dg(this,this._t0,u_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dg(this,u_(this,r=c_(this,e,t)),r);break;default:dg(this,this._t0,r=c_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function D3(e){this._context=new M3(e)}(D3.prototype=Object.create(ah.prototype)).point=function(e,t){ah.prototype.point.call(this,t,e)};function M3(e){this._context=e}M3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function fB(e){return new ah(e)}function hB(e){return new D3(e)}function I3(e){this._context=e}I3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=d_(e),a=d_(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function d_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function pB(e){return new I3(e)}function $p(e,t){this._context=e,this._t=t}$p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mB(e){return new $p(e,.5)}function gB(e){return new $p(e,0)}function xB(e){return new $p(e,1)}function Ml(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function bv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function vB(e,t){return e[t]}function yB(e){const t=[];return t.key=e,t}function bB(){var e=Ze([]),t=bv,r=Ml,n=vB;function a(i){var s=Array.from(e.apply(this,arguments),yB),o,c=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=Hy(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ze(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ze(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?bv:typeof i=="function"?i:Ze(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ml,a):r},a}function wB(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ml(e,t)}}function kB(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ml(e,t)}}function _B(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],x=m[n][1]||0,v=m[n-1][1]||0;p+=x-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ml(e,t)}}var SB=["type","size","sizeType"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wv.apply(null,arguments)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return(t=jB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=NB(e,"string");return typeof t=="symbol"?t:t+""}function NB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TB(e,t){if(e==null)return{};var r,n,a=AB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var F3={symbolCircle:Ky,symbolCross:q9,symbolDiamond:Q9,symbolSquare:Z9,symbolStar:nB,symbolTriangle:aB,symbolWye:sB},CB=Math.PI/180,PB=e=>{var t="symbol".concat(bd(e));return F3[t]||Ky},OB=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*CB;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},DB=(e,t)=>{F3["symbol".concat(bd(e))]=t},L3=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=TB(e,SB),i=h_(h_({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=PB(s),p=oB().type(h).size(OB(r,n,s));return p()},{className:c,cx:u,cy:d}=i,f=Kt(i,!0);return u===+u&&d===+d&&r===+r?b.createElement("path",wv({},f,{className:wt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};L3.registerSymbol=DB;var R3={},z3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(z3);var Gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Gy);var B3={},Up={},$3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})($3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$3;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Up);var U3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(U3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Up,r=U3;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(B3);var V3={},W3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Np;function r(n){return function(a){return t.get(a,n)}}e.property=r})(W3);var H3={},fg={},hg={},Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Yy);var Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Xy);var qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(qy);var p_;function MB(){return p_||(p_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy(),r=Yy,n=Xy,a=qy;function i(f,h,p){return typeof p!="function"?t.isMatch(f,h):s(f,h,function g(m,x,v,y,w,k){const S=p(m,x,v,y,w,k);return S!==void 0?!!S:s(m,x,g,k)},new Map)}function s(f,h,p,g){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,p,g);case"function":return Object.keys(h).length>0?s(f,{...h},p,g):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,p,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,g);if(h instanceof Map)return c(f,h,p,g);if(h instanceof Set)return d(f,h,p,g);const m=Object.keys(h);if(f==null)return m.length===0;if(m.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let x=0;x<m.length;x++){const v=m[x];if(!n.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,p,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[m,x]of h.entries()){const v=f.get(m);if(p(v,x,m,f,h,g)===!1)return!1}return!0}function u(f,h,p,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const m=new Set;for(let x=0;x<h.length;x++){const v=h[x];let y=!1;for(let w=0;w<f.length;w++){if(m.has(w))continue;const k=f[w];let S=!1;if(p(k,v,x,f,h,g)&&(S=!0),S){m.add(w),y=!0;break}}if(!y)return!1}return!0}function d(f,h,p,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,g):!1}e.isMatchWith=i,e.isSetMatch=d}(hg)),hg}var m_;function Jy(){return m_||(m_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MB();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(fg)),fg}var K3={},Qy={},G3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(G3);var Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Zy);var eb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",m="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",y="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",S="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",C="[object BigInt64Array]",T="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=m,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=T,e.float64ArrayTag=M,e.functionTag=f,e.int16ArrayTag=E,e.int32ArrayTag=j,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=y,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(eb);var Y3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Y3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G3,r=Zy,n=eb,a=Xy,i=Y3;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,g=void 0){const m=g==null?void 0:g(d,f,h,p);if(m!==void 0)return m;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const x=new Array(d.length);p.set(d,x);for(let v=0;v<d.length;v++)x[v]=o(d[v],v,h,p,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;p.set(d,x);for(const[v,y]of d)x.set(v,o(y,v,h,p,g));return x}if(d instanceof Set){const x=new Set;p.set(d,x);for(const v of d)x.add(o(v,void 0,h,p,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,x);for(let v=0;v<d.length;v++)x[v]=o(d[v],v,h,p,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,x),c(x,d,h,p,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return p.set(d,x),c(x,d,h,p,g),x}if(d instanceof Blob){const x=new Blob([d],{type:d.type});return p.set(d,x),c(x,d,h,p,g),x}if(d instanceof Error){const x=new d.constructor;return p.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,h,p,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return p.set(d,x),c(x,d,h,p,g),x}return d}function c(d,f,h=d,p,g){const m=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<m.length;x++){const v=m[x],y=Object.getOwnPropertyDescriptor(d,v);(y==null||y.writable)&&(d[v]=o(f[v],v,h,p,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(Qy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(K3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy(),r=K3;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(H3);var X3={},q3={},J3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qy,r=eb;function n(a,i){return t.cloneDeepWith(a,(s,o,c,u)=>{const d=i==null?void 0:i(s,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(J3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J3;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(q3);var Q3={},tb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(tb);var Z3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zy;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Z3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry,r=tb,n=Z3,a=Tp;function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(Q3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy(),r=zy,n=q3,a=Np,i=Q3;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(X3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gy,r=W3,n=H3,a=X3;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(V3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3,r=Gy,n=B3,a=V3;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(R3);var IB=R3.uniqBy;const g_=Fa(IB);function FB(e,t,r){return t===!0?g_(e,r):typeof t=="function"?g_(e,t):e}var eC={exports:{}},tC={},rC={exports:{}},nC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=b;function LB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RB=typeof Object.is=="function"?Object.is:LB,zB=Il.useState,BB=Il.useEffect,$B=Il.useLayoutEffect,UB=Il.useDebugValue;function VB(e,t){var r=t(),n=zB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return $B(function(){a.value=r,a.getSnapshot=t,pg(a)&&i({inst:a})},[e,r,t]),BB(function(){return pg(a)&&i({inst:a}),e(function(){pg(a)&&i({inst:a})})},[e]),UB(r),r}function pg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!RB(e,r)}catch{return!0}}function WB(e,t){return t()}var HB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?WB:VB;nC.useSyncExternalStore=Il.useSyncExternalStore!==void 0?Il.useSyncExternalStore:HB;rC.exports=nC;var KB=rC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp=b,GB=KB;function YB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XB=typeof Object.is=="function"?Object.is:YB,qB=GB.useSyncExternalStore,JB=Vp.useRef,QB=Vp.useEffect,ZB=Vp.useMemo,e$=Vp.useDebugValue;tC.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=JB(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=ZB(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,XB(d,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=qB(e,i[0],i[1]);return QB(function(){s.hasValue=!0,s.value=o},[o]),e$(o),o};eC.exports=tC;var t$=eC.exports,rb=b.createContext(null),r$=e=>e,ar=()=>{var e=b.useContext(rb);return e?e.store.dispatch:r$},f0=()=>{},n$=()=>f0,a$=(e,t)=>e===t;function Ce(e){var t=b.useContext(rb);return t$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:n$,t?t.store.getState:f0,t?t.store.getState:f0,t?e:f0,a$)}function i$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function s$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function o$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var x_=e=>Array.isArray(e)?e:[e];function l$(e){const t=Array.isArray(e[0])?e[0]:e;return o$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function c$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var u$=class{constructor(e){this.value=e}deref(){return this.value}},d$=typeof WeakRef<"u"?WeakRef:u$,f$=0,v_=1;function bf(){return{s:f$,v:void 0,o:null,p:null}}function aC(e,t={}){let r=bf();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const x=m.get(g);x===void 0?(o=bf(),m.set(g,o)):o=x}else{let m=o.p;m===null&&(o.p=m=new Map);const x=m.get(g);x===void 0?(o=bf(),m.set(g,o)):o=x}}const u=o;let d;if(o.s===v_)d=o.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new d$(d):d}return u.s=v_,u.v=d,d}return s.clearCache=()=>{r=bf(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function h$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),i$(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=aC,argsMemoizeOptions:g=[]}=d,m=x_(h),x=x_(g),v=l$(a),y=f(function(){return i++,u.apply(null,arguments)},...m),w=p(function(){s++;const S=c$(v,arguments);return o=y.apply(null,S),o},...x);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var re=h$(aC),p$=Object.assign((e,t=re)=>{s$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>p$}),iC={},sC={},oC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(oC);var lC={},nb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(nb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(lC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oC,r=lC,n=Tp;function a(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const u=(p,g)=>{let m=p;for(let x=0;x<g.length&&m!=null;++x)m=m[g[x]];return m},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let m=0;m<f.length;m++){const x=t.compareValues(p.criteria[m],g.criteria[m],o[m]);if(x!==0)return x}return 0}).map(p=>p.original)}e.orderBy=a})(sC);var cC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})(cC);var ab={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tb,r=Up,n=Yy,a=qy;function i(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],s):!1}e.isIterateeCall=i})(ab);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sC,r=cC,n=ab;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(iC);var m$=iC.sortBy;const Wp=Fa(m$);var uC=e=>e.legend.settings,g$=e=>e.legend.size,x$=e=>e.legend.payload;re([x$,uC],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Wp(n,r):n});var wf=1;function v$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>wf||Math.abs(s.left-t.left)>wf||Math.abs(s.top-t.top)>wf||Math.abs(s.width-t.width)>wf)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function cr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var y$=typeof Symbol=="function"&&Symbol.observable||"@@observable",y_=y$,mg=()=>Math.random().toString(36).substring(7).split("").join("."),b$={INIT:`@@redux/INIT${mg()}`,REPLACE:`@@redux/REPLACE${mg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mg()}`},ih=b$;function ib(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function dC(e,t,r){if(typeof e!="function")throw new Error(cr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(cr(1));return r(dC)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((x,v)=>{s.set(v,x)}))}function d(){if(c)throw new Error(cr(3));return a}function f(x){if(typeof x!="function")throw new Error(cr(4));if(c)throw new Error(cr(5));let v=!0;u();const y=o++;return s.set(y,x),function(){if(v){if(c)throw new Error(cr(6));v=!1,u(),s.delete(y),i=null}}}function h(x){if(!ib(x))throw new Error(cr(7));if(typeof x.type>"u")throw new Error(cr(8));if(typeof x.type!="string")throw new Error(cr(17));if(c)throw new Error(cr(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=s).forEach(y=>{y()}),x}function p(x){if(typeof x!="function")throw new Error(cr(10));n=x,h({type:ih.REPLACE})}function g(){const x=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(cr(11));function y(){const k=v;k.next&&k.next(d())}return y(),{unsubscribe:x(y)}},[y_](){return this}}}return h({type:ih.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[y_]:g}}function w$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ih.INIT})>"u")throw new Error(cr(12));if(typeof r(void 0,{type:ih.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cr(13))})}function fC(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{w$(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=s[f],g=h(p,o);if(typeof g>"u")throw o&&o.type,new Error(cr(14));u[f]=g,c=c||g!==p}return c=c||n.length!==Object.keys(s).length,c?u:s}}function sh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function k$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(cr(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(s));return i=sh(...o)(a.dispatch),{...a,dispatch:i}}}function hC(e){return ib(e)&&"type"in e&&typeof e.type=="string"}var pC=Symbol.for("immer-nothing"),b_=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function aa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fl=Object.getPrototypeOf;function co(e){return!!e&&!!e[bn]}function di(e){var t;return e?mC(e)||Array.isArray(e)||!!e[b_]||!!((t=e.constructor)!=null&&t[b_])||wd(e)||Kp(e):!1}var _$=Object.prototype.constructor.toString();function mC(e){if(!e||typeof e!="object")return!1;const t=Fl(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===_$}function oh(e,t){Hp(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Hp(e){const t=e[bn];return t?t.type_:Array.isArray(e)?1:wd(e)?2:Kp(e)?3:0}function kv(e,t){return Hp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gC(e,t,r){const n=Hp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function S$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function wd(e){return e instanceof Map}function Kp(e){return e instanceof Set}function Ds(e){return e.copy_||e.base_}function _v(e,t){if(wd(e))return new Map(e);if(Kp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=mC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[bn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Fl(e),n)}else{const n=Fl(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function sb(e,t=!1){return Gp(e)||co(e)||!di(e)||(Hp(e)>1&&Object.defineProperties(e,{set:{value:kf},add:{value:kf},clear:{value:kf},delete:{value:kf}}),Object.freeze(e),t&&Object.values(e).forEach(r=>sb(r,!0))),e}function kf(){aa(2)}function Gp(e){return Object.isFrozen(e)}var E$={};function uo(e){const t=E$[e];return t||aa(0,e),t}var Wu;function xC(){return Wu}function j$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function w_(e,t){t&&(uo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sv(e){Ev(e),e.drafts_.forEach(N$),e.drafts_=null}function Ev(e){e===Wu&&(Wu=e.parent_)}function k_(e){return Wu=j$(Wu,e)}function N$(e){const t=e[bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function __(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[bn].modified_&&(Sv(t),aa(4)),di(e)&&(e=lh(t,e),t.parent_||ch(t,e)),t.patches_&&uo("Patches").generateReplacementPatches_(r[bn].base_,e,t.patches_,t.inversePatches_)):e=lh(t,r,[]),Sv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pC?e:void 0}function lh(e,t,r){if(Gp(t))return t;const n=t[bn];if(!n)return oh(t,(a,i)=>S_(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ch(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),oh(i,(o,c)=>S_(e,n,a,o,c,r,s)),ch(e,a,!1),r&&e.patches_&&uo("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function S_(e,t,r,n,a,i,s){if(co(a)){const o=i&&t&&t.type_!==3&&!kv(t.assigned_,n)?i.concat(n):void 0,c=lh(e,a,o);if(gC(r,n,c),co(c))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(di(a)&&!Gp(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;lh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(wd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ch(e,a)}}function ch(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sb(t,r)}function T$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:xC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=ob;r&&(a=[n],i=Hu);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var ob={get(e,t){if(t===bn)return e;const r=Ds(e);if(!kv(r,t))return A$(e,r,t);const n=r[t];return e.finalized_||!di(n)?n:n===gg(e.base_,t)?(xg(e),e.copy_[t]=Nv(n,e)):n},has(e,t){return t in Ds(e)},ownKeys(e){return Reflect.ownKeys(Ds(e))},set(e,t,r){const n=vC(Ds(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=gg(Ds(e),t),i=a==null?void 0:a[bn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(S$(r,a)&&(r!==void 0||kv(e.base_,t)))return!0;xg(e),jv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,xg(e),jv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ds(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){aa(11)},getPrototypeOf(e){return Fl(e.base_)},setPrototypeOf(){aa(12)}},Hu={};oh(ob,(e,t)=>{Hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,r){return ob.set.call(this,e[0],t,r,e[0])};function gg(e,t){const r=e[bn];return(r?Ds(r):e)[t]}function A$(e,t,r){var a;const n=vC(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function vC(e,t){if(!(t in e))return;let r=Fl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fl(r)}}function jv(e){e.modified_||(e.modified_=!0,e.parent_&&jv(e.parent_))}function xg(e){e.copy_||(e.copy_=_v(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var C$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&aa(6),n!==void 0&&typeof n!="function"&&aa(7);let a;if(di(t)){const i=k_(this),s=Nv(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?Sv(i):Ev(i)}return w_(i,n),__(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===pC&&(a=void 0),this.autoFreeze_&&sb(a,!0),n){const i=[],s=[];uo("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else aa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){di(e)||aa(8),co(e)&&(e=ti(e));const t=k_(this),r=Nv(e,void 0);return r[bn].isManual_=!0,Ev(t),r}finishDraft(e,t){const r=e&&e[bn];(!r||!r.isManual_)&&aa(9);const{scope_:n}=r;return w_(n,t),__(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=uo("Patches").applyPatches_;return co(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Nv(e,t){const r=wd(e)?uo("MapSet").proxyMap_(e,t):Kp(e)?uo("MapSet").proxySet_(e,t):T$(e,t);return(t?t.scope_:xC()).drafts_.push(r),r}function ti(e){return co(e)||aa(10,e),yC(e)}function yC(e){if(!di(e)||Gp(e))return e;const t=e[bn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_v(e,t.scope_.immer_.useStrictShallowCopy_)}else r=_v(e,!0);return oh(r,(n,a)=>{gC(r,n,yC(a))}),t&&(t.finalized_=!1),r}var P$=new C$,bC=P$.produce;function wC(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var O$=wC(),D$=wC,M$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sh:sh.apply(null,arguments)};function Un(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(vn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>hC(n)&&n.type===e,r}var kC=class Jc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Jc.prototype)}static get[Symbol.species](){return Jc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Jc(...t[0].concat(this)):new Jc(...t.concat(this))}};function E_(e){return di(e)?bC(e,()=>{}):e}function _f(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function I$(e){return typeof e=="boolean"}var F$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new kC;return r&&(I$(r)?s.push(O$):s.push(D$(r.extraArgument))),s},L$="RTK_autoBatch",j_=e=>t=>{setTimeout(t,e)},R$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:j_(10):e.type==="callback"?e.queueNotification:j_(e.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[L$]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},z$=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new kC(e);return n&&a.push(R$(typeof n=="object"?n:void 0)),a};function B$(e){const t=F$(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(ib(r))o=fC(r);else throw new Error(vn(1));let c;typeof n=="function"?c=n(t):c=t();let u=sh;a&&(u=M$({trace:!1,...typeof a=="object"&&a}));const d=k$(...c),f=z$(d);let h=typeof s=="function"?s(f):f();const p=u(...h);return dC(o,i,p)}function _C(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(vn(28));if(o in t)throw new Error(vn(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function $$(e){return typeof e=="function"}function U$(e,t){let[r,n,a]=_C(t),i;if($$(e))i=()=>E_(e());else{const o=E_(e);i=()=>o}function s(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(co(d)){const p=f(d,c);return p===void 0?d:p}else{if(di(d))return bC(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=i,s}var V$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",W$=(e=21)=>{let t="",r=e;for(;r--;)t+=V$[Math.random()*64|0];return t},H$=Symbol.for("rtk-slice-createasyncthunk");function K$(e,t){return`${e}/${t}`}function G$({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[H$];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(vn(11));const o=(typeof a.reducers=="function"?a.reducers(X$()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,S){const E=typeof k=="string"?k:k.type;if(!E)throw new Error(vn(12));if(E in u.sliceCaseReducersByType)throw new Error(vn(13));return u.sliceCaseReducersByType[E]=S,d},addMatcher(k,S){return u.sliceMatchers.push({matcher:k,reducer:S}),d},exposeAction(k,S){return u.actionCreators[k]=S,d},exposeCaseReducer(k,S){return u.sliceCaseReducersByName[k]=S,d}};c.forEach(k=>{const S=o[k],E={reducerName:k,type:K$(i,k),createNotation:typeof a.reducers=="function"};J$(S)?Z$(E,S,d,t):q$(E,S,d)});function f(){const[k={},S=[],E=void 0]=typeof a.extraReducers=="function"?_C(a.extraReducers):[a.extraReducers],j={...k,...u.sliceCaseReducersByType};return U$(a.initialState,C=>{for(let T in j)C.addCase(T,j[T]);for(let T of u.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of S)C.addMatcher(T.matcher,T.reducer);E&&C.addDefaultCase(E)})}const h=k=>k,p=new Map,g=new WeakMap;let m;function x(k,S){return m||(m=f()),m(k,S)}function v(){return m||(m=f()),m.getInitialState()}function y(k,S=!1){function E(C){let T=C[k];return typeof T>"u"&&S&&(T=_f(g,E,v)),T}function j(C=h){const T=_f(p,S,()=>new WeakMap);return _f(T,C,()=>{const M={};for(const[D,A]of Object.entries(a.selectors??{}))M[D]=Y$(A,C,()=>_f(g,C,v),S);return M})}return{reducerPath:k,getSelectors:j,get selectors(){return j(E)},selectSlice:E}}const w={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...y(s),injectInto(k,{reducerPath:S,...E}={}){const j=S??s;return k.inject({reducerPath:j,reducer:x},E),{...w,...y(j,!0)}}};return w}}function Y$(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var Sn=G$();function X$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function q$({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!Q$(n))throw new Error(vn(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Un(e,s):Un(e))}function J$(e){return e._reducerDefinitionType==="asyncThunk"}function Q$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Z$({type:e,reducerName:t},r,n,a){if(!a)throw new Error(vn(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Sf,pending:o||Sf,rejected:c||Sf,settled:u||Sf})}function Sf(){}var eU="task",SC="listener",EC="completed",lb="cancelled",tU=`task-${lb}`,rU=`task-${EC}`,Tv=`${SC}-${lb}`,nU=`${SC}-${EC}`,Yp=class{constructor(e){Mm(this,"name","TaskAbortError");Mm(this,"message");this.code=e,this.message=`${eU} ${lb} (reason: ${e})`}},cb=(e,t)=>{if(typeof e!="function")throw new TypeError(vn(32))},uh=()=>{},jC=(e,t=uh)=>(e.catch(t),e),NC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Js=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qs=e=>{if(e.aborted){const{reason:t}=e;throw new Yp(t)}};function TC(e,t){let r=uh;return new Promise((n,a)=>{const i=()=>a(new Yp(e.reason));if(e.aborted){i();return}r=NC(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=uh})}var aU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yp?"cancelled":"rejected",error:r}}finally{t==null||t()}},dh=e=>t=>jC(TC(e,t).then(r=>(Qs(e),r))),AC=e=>{const t=dh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:gl}=Object,N_={},Xp="listenerMiddleware",iU=(e,t)=>{const r=n=>NC(e,()=>Js(n,e.reason));return(n,a)=>{cb(n);const i=new AbortController;r(i);const s=aU(async()=>{Qs(e),Qs(i.signal);const o=await n({pause:dh(i.signal),delay:AC(i.signal),signal:i.signal});return Qs(i.signal),o},()=>Js(i,rU));return a!=null&&a.autoJoin&&t.push(s.catch(uh)),{result:dh(e)(s),cancel(){Js(i,tU)}}}},sU=(e,t)=>{const r=async(n,a)=>{Qs(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await TC(t,Promise.race(o));return Qs(t),c}finally{i()}};return(n,a)=>jC(r(n,a))},CC=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Un(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(vn(21));return cb(i),{predicate:a,type:t,effect:i}},PC=gl(e=>{const{type:t,predicate:r,effect:n}=CC(e);return{id:W$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(vn(22))}}},{withTypes:()=>PC}),T_=(e,t)=>{const{type:r,effect:n,predicate:a}=CC(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Av=e=>{e.pending.forEach(t=>{Js(t,Tv)})},oU=e=>()=>{e.forEach(Av),e.clear()},A_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},OC=gl(Un(`${Xp}/add`),{withTypes:()=>OC}),lU=Un(`${Xp}/removeAll`),DC=gl(Un(`${Xp}/remove`),{withTypes:()=>DC}),cU=(...e)=>{console.error(`${Xp}/error`,...e)},kd=(e={})=>{const t=new Map,{extra:r,onError:n=cU}=e;cb(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Av(d)}),i=d=>{const f=T_(t,d)??PC(d);return a(f)};gl(i,{withTypes:()=>i});const s=d=>{const f=T_(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Av(f)),!!f};gl(s,{withTypes:()=>s});const o=async(d,f,h,p)=>{const g=new AbortController,m=sU(i,g.signal),x=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,gl({},h,{getOriginalState:p,condition:(v,y)=>m(v,y).then(Boolean),take:m,delay:AC(g.signal),pause:dh(g.signal),extra:r,signal:g.signal,fork:iU(g.signal,x),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,y,w)=>{v!==g&&(Js(v,Tv),w.delete(v))})},cancel:()=>{Js(g,Tv),d.pending.delete(g)},throwIfCancelled:()=>{Qs(g.signal)}})))}catch(v){v instanceof Yp||A_(n,v,{raisedBy:"effect"})}finally{await Promise.all(x),Js(g,nU),d.pending.delete(g)}},c=oU(t);return{middleware:d=>f=>h=>{if(!hC(h))return f(h);if(OC.match(h))return i(h.payload);if(lU.match(h)){c();return}if(DC.match(h))return s(h.payload);let p=d.getState();const g=()=>{if(p===N_)throw new Error(vn(23));return p};let m;try{if(m=f(h),t.size>0){const x=d.getState(),v=Array.from(t.values());for(const y of v){let w=!1;try{w=y.predicate(h,x,p)}catch(k){w=!1,A_(n,k,{raisedBy:"predicate"})}w&&o(y,h,d,g)}}}finally{p=N_}return m},startListening:i,stopListening:s,clearListeners:c}};function vn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MC=Sn({name:"chartLayout",initialState:uU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dU,setLayout:fU,setChartSize:hU,setScale:pU}=MC.actions,mU=MC.reducer;function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=xU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xU(e){var t=vU(e,"string");return typeof t=="symbol"?t:t+""}function vU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fh=Math.PI/180,yU=e=>e*180/Math.PI,Ft=(e,t,r,n)=>({x:e+Math.cos(-fh*n)*r,y:t+Math.sin(-fh*n)*r}),IC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bU=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},wU=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=bU({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:s,angle:yU(c),angleInRadian:c}},kU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},_U=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},SU=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=wU({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:c,endAngle:u}=kU(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?P_(P_({},t),{},{radius:a,angle:_U(d,t)}):null};function FC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return(t=jU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jU(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vt(e,t,r){return Ht(e)||Ht(t)?r:ui(t)?Uu(e,t,r):typeof t=="function"?t(e):r}var TU=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Yr(d-u)!==Yr(f-d)){var p=[];if(Yr(f-d)===Yr(a[1]-a[0])){h=f;var g=d+a[1]-a[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var m=f+a[1]-a[0];p[0]=Math.min(d,(m+d)/2),p[1]=Math.max(d,(m+d)/2)}var x=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){({index:s}=r[c]);break}}else{var v=Math.min(u,f),y=Math.max(u,f);if(e>(v+d)/2&&e<=(y+d)/2){({index:s}=r[c]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},AU=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Me(e[i]))return In(In({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Me(e[s]))return In(In({},e),{},{[s]:e[s]+(a||0)})}return e},gs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",D_=1e-4,CU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-D_,i=Math.max(n[0],n[1])+D_,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},PU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=fa(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},OU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=fa(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},DU={sign:PU,expand:wB,none:Ml,silhouette:kB,wiggle:_B,positive:OU},MU=(e,t,r)=>{var n=DU[r],a=bB().keys(t).value((i,s)=>+vt(i,s,0)).order(bv).offset(n);return a(e)};function M_(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ht(a[t.dataKey])){var o=p3(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=vt(a,Ht(s)?t.dataKey:s);return Ht(c)?null:t.scale(c)}var IU=e=>{var t=e.flat(2).filter(Me);return[Math.min(...t),Math.max(...t)]},FU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],LU=(e,t,r)=>{if(e!=null)return FU(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((c,u)=>{var d=FC(u,t,r),f=IU(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},I_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cv=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Wp(t,d=>d.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function L_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return In(In({},t),{},{dataKey:r,payload:n,value:a,name:i})}function qp(e,t){if(e)return String(e);if(typeof t=="string")return t}function RU(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?SU({x:e,y:t},n):null}var zU=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return In(In(In({},n),Ft(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:c}=n;return In(In(In({},n),Ft(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},BU=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ki=e=>e.layout.width,_i=e=>e.layout.height,$U=e=>e.layout.scale,LC=e=>e.layout.margin,Jp=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qp=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),RC="data-recharts-item-index",zC="data-recharts-item-data-key",_d=60;function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HU=e=>e.brush.height;function KU(e){var t=Qp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:_d;return r+a}return r},0)}function GU(e){var t=Qp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:_d;return r+a}return r},0)}function YU(e){var t=Jp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function XU(e){var t=Jp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ir=re([ki,_i,LC,HU,KU,GU,YU,XU,uC,g$],(e,t,r,n,a,i,s,o,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=Ef(Ef({},f),d),p=h.bottom;h.bottom+=n,h=AU(h,c,u);var g=e-h.left-h.right,m=t-h.top-h.bottom;return Ef(Ef({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(m,0)})}),qU=re(ir,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));re(ki,_i,(e,t)=>({x:0,y:0,width:e,height:t}));var JU=b.createContext(null),Si=()=>b.useContext(JU)!=null,Zp=e=>e.brush,em=re([Zp,ir,LC],(e,t,r)=>({height:e.height,x:Me(e.x)?e.x:t.left,y:Me(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Me(e.width)?e.width:t.width})),ub=()=>{var e,t=Si(),r=Ce(qU),n=Ce(em),a=(e=Ce(Zp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},QU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ZU=()=>{var e;return(e=Ce(ir))!==null&&e!==void 0?e:QU},eV=()=>Ce(ki),tV=()=>Ce(_i),Xe=e=>e.layout.layoutType,db=()=>Ce(Xe),rV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},BC=Sn({name:"legend",initialState:rV,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ti(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Ome,setLegendSettings:Dme,addLegendPayload:$C,removeLegendPayload:UC}=BC.actions,nV=BC.reducer;function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(null,arguments)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){aV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aV(e,t,r){return(t=iV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oV(e){return Array.isArray(e)&&ui(e[0])&&ui(e[1])?e.join(" ~ "):e}var lV=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var S={padding:0,margin:0},E=(o?Wp(i,o):i).map((j,C)=>{if(j.type==="none")return null;var T=j.formatter||s||oV,{value:M,name:D}=j,A=M,_=D;if(T){var N=T(M,D,j,C,i);if(Array.isArray(N))[A,_]=N;else if(N!=null)A=N;else return null}var O=vg({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:O},ui(_)?b.createElement("span",{className:"recharts-tooltip-item-name"},_):null,ui(_)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},A),b.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:S},E)}return null},g=vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=vg({margin:0},a),x=!Ht(d),v=x?d:"",y=wt("recharts-default-tooltip",c),w=wt("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(v=f(d,i));var k=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Pv({className:y,style:g},k),b.createElement("p",{className:w,style:m},b.isValidElement(v)?v:"".concat(v)),p())},Cc="recharts-tooltip-wrapper",cV={visibility:"hidden"};function uV(e){var{coordinate:t,translateX:r,translateY:n}=e;return wt(Cc,{["".concat(Cc,"-right")]:Me(r)&&t&&Me(t.x)&&r>=t.x,["".concat(Cc,"-left")]:Me(r)&&t&&Me(t.x)&&r<t.x,["".concat(Cc,"-bottom")]:Me(n)&&t&&Me(t.y)&&n>=t.y,["".concat(Cc,"-top")]:Me(n)&&t&&Me(t.y)&&n<t.y})}function B_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&Me(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var p=d,g=h;return p<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var m=f+o,x=h+u;return m>x?Math.max(d,h):Math.max(f,h)}function dV(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fV(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=B_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=B_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=dV({translateX:d,translateY:f,useTranslate3d:o})):u=cV,{cssProperties:u,cssClasses:uV({translateX:d,translateY:f,coordinate:r})}}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){Ov(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ov(e,t,r){return(t=hV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mV extends b.PureComponent{constructor(){super(...arguments),Ov(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ov(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:m,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:y,cssProperties:w}=fV({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:p}),k=v?{}:jf(jf({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=jf(jf({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:S,ref:x},i)}}var gV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ql={devToolsEnabled:!1,isSsr:gV()},VC=()=>Ce(e=>e.rootProps.accessibilityLayer);function pa(e){return Number.isFinite(e)}function Ll(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){xV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xV(e,t,r){return(t=vV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vV(e){var t=yV(e,"string");return typeof t=="symbol"?t:t+""}function yV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W_={curveBasisClosed:cB,curveBasisOpen:uB,curveBasis:lB,curveBumpX:Y9,curveBumpY:X9,curveLinearClosed:dB,curveLinear:Bp,curveMonotoneX:fB,curveMonotoneY:hB,curveNatural:pB,curveStep:mB,curveStepAfter:xB,curveStepBefore:gB},Nf=e=>pa(e.x)&&pa(e.y),Pc=e=>e.x,Oc=e=>e.y,bV=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(bd(e));return(r==="curveMonotone"||r==="curveBump")&&t?W_["".concat(r).concat(t==="vertical"?"Y":"X")]:W_[r]||Bp},wV=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=bV(t,a),o=i?r.filter(Nf):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>Nf(f)):n,d=o.map((f,h)=>V_(V_({},f),{},{base:u[h]}));return a==="vertical"?c=yf().y(Oc).x1(Pc).x0(f=>f.base.x):c=yf().x(Pc).y1(Oc).y0(f=>f.base.y),c.defined(Nf).curve(s),c(d)}return a==="vertical"&&Me(n)?c=yf().y(Oc).x1(Pc).x0(n):Me(n)?c=yf().x(Pc).y1(Oc).y0(n):c=E3().x(Pc).y(Oc),c.defined(Nf).curve(s),c(o)},fb=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?wV(e):n;return b.createElement("path",Dv({},Jl(e),Vy(e),{className:wt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},kV=["x","y","top","left","width","height","className"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _V(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){SV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SV(e,t,r){return(t=EV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NV(e,t){if(e==null)return{};var r,n,a=TV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AV=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),CV=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,c=NV(e,kV),u=_V({x:t,y:r,top:n,left:a,width:i,height:s},c);return!Me(t)||!Me(r)||!Me(i)||!Me(s)||!Me(n)||!Me(a)?null:b.createElement("path",Mv({},Kt(u,!0),{className:wt("recharts-cross",o),d:AV(t,r,i,s,n,a)}))};function PV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){DV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t,r){return(t=MV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(e,t){var r=OV({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function FV(){}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){LV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LV(e,t,r){return(t=RV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RV(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),WC=(e,t,r)=>e.map(n=>"".concat(BV(n)," ").concat(t,"ms ").concat(r)).join(","),$V=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ku=(e,t)=>Object.keys(t).reduce((r,n)=>Y_(Y_({},r),{},{[n]:e(n,t[n])}),{});function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){UV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=WV(e,"string");return typeof t=="symbol"?t:t+""}function WV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hh=(e,t,r)=>e+(t-e)*r,Iv=e=>{var{from:t,to:r}=e;return t!==r},HC=(e,t,r)=>{var n=Ku((a,i)=>{if(Iv(i)){var[s,o]=e(i.from,i.to,i.velocity);return hr(hr({},i),{},{from:s,velocity:o})}return i},t);return r<1?Ku((a,i)=>Iv(i)?hr(hr({},i),{},{velocity:hh(i.velocity,n[a].velocity,r),from:hh(i.from,n[a].from,r)}):i,t):HC(e,n,r-1)};function HV(e,t,r,n,a,i){var s,o=n.reduce((h,p)=>hr(hr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Ku((h,p)=>p.from,o),u=()=>!Object.values(o).filter(Iv).length,d=null,f=h=>{s||(s=h);var p=h-s,g=p/r.dt;o=HC(r,o,g),a(hr(hr(hr({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function KV(e,t,r,n,a,i,s){var o=null,c=a.reduce((f,h)=>hr(hr({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,p=Ku((m,x)=>hh(...x,r(h)),c);if(i(hr(hr(hr({},e),t),p)),h<1)o=s.setTimeout(d);else{var g=Ku((m,x)=>hh(...x,r(1)),c);i(hr(hr(hr({},e),t),g))}};return()=>(o=s.setTimeout(d),()=>{o()})}const GV=(e,t,r,n,a,i)=>{var s=$V(e,t);return r.isStepper===!0?HV(e,t,r,s,a,i):KV(e,t,r,n,s,a,i)};var ph=1e-4,KC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],GC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),q_=(e,t)=>r=>{var n=KC(e,t);return GC(n,r)},YV=(e,t)=>r=>{var n=KC(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return GC(a,r)},J_=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([t,n,r,a]=s);var u=q_(t,r),d=q_(n,a),f=YV(t,r),h=g=>g>1?1:g<0?0:g,p=g=>{for(var m=g>1?1:g,x=m,v=0;v<8;++v){var y=u(x)-m,w=f(x);if(Math.abs(y-m)<ph||w<ph)return d(x);x=h(x-y/w)}return d(x)};return p.isStepper=!1,p},XV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,c)=>{var u=-(s-o)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-o)<ph&&Math.abs(f)<ph?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},qV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return J_(e);case"spring":return XV();default:if(e.split("(")[0]==="cubic-bezier")return J_(e)}return typeof e=="function"?e:null};function JV(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class QV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function ZV(){return JV(new QV)}var eW=b.createContext(ZV);function tW(e,t){var r=b.useContext(eW);return b.useMemo(()=>t??r(e),[e,t,r])}var rW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Q_={t:0},yg={t:1};function tm(e){var t=Kn(e,rW),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=tW(t.animationId,t.animationManager),[f,h]=b.useState(r?Q_:yg),p=b.useRef(null);return b.useEffect(()=>{r||h(yg)},[r]),b.useEffect(()=>{if(!r||!n)return FV;var g=GV(Q_,yg,qV(i),a,h,d.getTimeoutController()),m=()=>{p.current=g()};return d.start([c,s,m,a,o]),()=>{d.stop(),p.current&&p.current(),o()}},[r,n,a,i,s,c,o,d]),u(f.t)}function rm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(Vu(t)),n=b.useRef(e);return n.current!==e&&(r.current=Vu(t),n.current=e),r.current}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}var tS=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+n-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},sW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YC=e=>{var t=Kn(e,sW),r=b.useRef(null),[n,a]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t,x=b.useRef(o),v=b.useRef(c),y=b.useRef(i),w=b.useRef(s),k=b.useMemo(()=>({x:i,y:s,width:o,height:c,radius:u}),[i,s,o,c,u]),S=rm(k,"rectangle-");if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var E=wt("recharts-rectangle",d);if(!m)return b.createElement("path",mh({},Kt(t,!0),{className:E,d:tS(i,s,o,c,u)}));var j=x.current,C=v.current,T=y.current,M=w.current,D="0px ".concat(n===-1?1:n,"px"),A="".concat(n,"px 0px"),_=WC(["strokeDasharray"],h,typeof f=="string"?f:void 0);return b.createElement(tm,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:m,begin:p},N=>{var O=jr(j,o,N),K=jr(C,c,N),I=jr(T,i,N),Y=jr(M,s,N);r.current&&(x.current=O,v.current=K,y.current=I,w.current=Y);var G;return g?N>0?G={transition:_,strokeDasharray:A}:G={strokeDasharray:D}:G={strokeDasharray:A},b.createElement("path",mh({},Kt(t,!0),{className:E,d:tS(I,Y,O,K,u),ref:r,style:eS(eS({},G),t.style)}))})};function XC(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Ft(t,r,n,a),o=Ft(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(null,arguments)}var oW=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/fh,f=c?a:a+i*d,h=Ft(t,r,u,f),p=Ft(t,r,n,f),g=c?a-i*d:a,m=Ft(t,r,u*Math.cos(d*fh),g);return{center:h,circleTangency:p,lineTangency:m,theta:d}},qC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=oW(i,s),c=i+o,u=Ft(t,r,a,i),d=Ft(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Ft(t,r,n,i),p=Ft(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},lW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Yr(u-c),{circleTangency:f,lineTangency:h,theta:p}=Tf({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:m,theta:x}=Tf({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),v=o?Math.abs(c-u):Math.abs(c-u)-p-x;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):qC({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var y="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:k,theta:S}=Tf({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:E,lineTangency:j,theta:C}=Tf({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),T=o?Math.abs(c-u):Math.abs(c-u)-S-C;if(T<0&&i===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y},cW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JC=e=>{var t=Kn(e,cW),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=wt("recharts-sector",f),p=i-a,g=xn(s,p,0,!0),m;return g>0&&Math.abs(u-d)<360?m=lW({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):m=qC({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),b.createElement("path",Fv({},Kt(t,!0),{className:h,d:m}))};function uW(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Ft(o,c,u,f),p=Ft(o,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return XC(t);return[{x:n,y:a},{x:i,y:s}]}var QC={},ZC={},eP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(eP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ZC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ab,r=ZC;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=s;return c}e.range=n})(QC);var dW=QC.range;const tP=Fa(dW);function ns(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hb(e){let t,r,n;e.length!==2?(t=ns,r=(o,c)=>ns(e(o),c),n=(o,c)=>e(o)-c):(t=e===ns||e===fW?e:hW,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=a(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:a,center:s,right:i}}function hW(){return 0}function rP(e){return e===null?NaN:+e}function*pW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const mW=hb(ns),Sd=mW.right;hb(rP).center;class rS extends Map{constructor(t,r=vW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nS(this,t))}has(t){return super.has(nS(this,t))}set(t,r){return super.set(gW(this,t),r)}delete(t){return super.delete(xW(this,t))}}function nS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function xW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function vW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function yW(e=ns){if(e===ns)return nP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bW=Math.sqrt(50),wW=Math.sqrt(10),kW=Math.sqrt(2);function gh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=bW?10:i>=wW?5:i>=kW?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?gh(e,t,r*2):[o,c,u]}function Lv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?gh(t,e,r):gh(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function Rv(e,t,r){return t=+t,e=+e,r=+r,gh(e,t,r)[2]}function zv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Rv(t,e,r):Rv(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function aS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?nP:yW(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));aP(e,t,p,g,a)}const i=e[t];let s=r,o=n;for(Dc(e,r,t),a(e[n],i)>0&&Dc(e,r,n);s<o;){for(Dc(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Dc(e,r,o):(++o,Dc(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Dc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _W(e,t,r){if(e=Float64Array.from(pW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return iS(e);if(t>=1)return aS(e);var n,a=(n-1)*t,i=Math.floor(a),s=aS(aP(e,i).subarray(0,i+1)),o=iS(e.subarray(i+1));return s+(o-s)*(a-i)}}function SW(e,t,r=rP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function EW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ei(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bv=Symbol("implicit");function pb(){var e=new rS,t=[],r=[],n=Bv;function a(i){let s=e.get(i);if(s===void 0){if(n!==Bv)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rS;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return pb(t,r).unknown(n)},Gn.apply(a,arguments),a}function mb(){var e=pb().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-c+u*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,s=i*(1-c),o&&(g=Math.round(g),s=Math.round(s));var x=EW(h).map(function(v){return g+i*v});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return mb(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Gn.apply(f(),arguments)}function iP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iP(t())},e}function jW(){return iP(mb.apply(null,arguments).paddingInner(1))}function gb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ed(){}var Gu=.7,xh=1/Gu,xl="\\s*([+-]?\\d+)\\s*",Yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NW=/^#([0-9a-f]{3,8})$/,TW=new RegExp(`^rgb\\(${xl},${xl},${xl}\\)$`),AW=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),CW=new RegExp(`^rgba\\(${xl},${xl},${xl},${Yu}\\)$`),PW=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${Yu}\\)$`),OW=new RegExp(`^hsl\\(${Yu},${Ca},${Ca}\\)$`),DW=new RegExp(`^hsla\\(${Yu},${Ca},${Ca},${Yu}\\)$`),sS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gb(Ed,Xu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oS,formatHex:oS,formatHex8:MW,formatHsl:IW,formatRgb:lS,toString:lS});function oS(){return this.rgb().formatHex()}function MW(){return this.rgb().formatHex8()}function IW(){return oP(this).formatHsl()}function lS(){return this.rgb().formatRgb()}function Xu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cS(t):r===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Af(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Af(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TW.exec(e))?new Xr(t[1],t[2],t[3],1):(t=AW.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=CW.exec(e))?Af(t[1],t[2],t[3],t[4]):(t=PW.exec(e))?Af(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OW.exec(e))?fS(t[1],t[2]/100,t[3]/100,1):(t=DW.exec(e))?fS(t[1],t[2]/100,t[3]/100,t[4]):sS.hasOwnProperty(e)?cS(sS[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function cS(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function Af(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xr(e,t,r,n)}function FW(e){return e instanceof Ed||(e=Xu(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function $v(e,t,r,n){return arguments.length===1?FW(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gb(Xr,$v,sP(Ed,{brighter(e){return e=e==null?xh:Math.pow(xh,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gu:Math.pow(Gu,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(Zs(this.r),Zs(this.g),Zs(this.b),vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uS,formatHex:uS,formatHex8:LW,formatRgb:dS,toString:dS}));function uS(){return`#${Ws(this.r)}${Ws(this.g)}${Ws(this.b)}`}function LW(){return`#${Ws(this.r)}${Ws(this.g)}${Ws(this.b)}${Ws((isNaN(this.opacity)?1:this.opacity)*255)}`}function dS(){const e=vh(this.opacity);return`${e===1?"rgb(":"rgba("}${Zs(this.r)}, ${Zs(this.g)}, ${Zs(this.b)}${e===1?")":`, ${e})`}`}function vh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ws(e){return e=Zs(e),(e<16?"0":"")+e.toString(16)}function fS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ia(e,t,r,n)}function oP(e){if(e instanceof ia)return new ia(e.h,e.s,e.l,e.opacity);if(e instanceof Ed||(e=Xu(e)),!e)return new ia;if(e instanceof ia)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new ia(s,o,c,e.opacity)}function RW(e,t,r,n){return arguments.length===1?oP(e):new ia(e,t,r,n??1)}function ia(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gb(ia,RW,sP(Ed,{brighter(e){return e=e==null?xh:Math.pow(xh,e),new ia(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gu:Math.pow(Gu,e),new ia(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xr(bg(e>=240?e-240:e+120,a,n),bg(e,a,n),bg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ia(hS(this.h),Cf(this.s),Cf(this.l),vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vh(this.opacity);return`${e===1?"hsl(":"hsla("}${hS(this.h)}, ${Cf(this.s)*100}%, ${Cf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hS(e){return e=(e||0)%360,e<0?e+360:e}function Cf(e){return Math.max(0,Math.min(1,e||0))}function bg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const xb=e=>()=>e;function zW(e,t){return function(r){return e+r*t}}function BW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $W(e){return(e=+e)==1?lP:function(t,r){return r-t?BW(t,r,e):xb(isNaN(t)?r:t)}}function lP(e,t){var r=t-e;return r?zW(e,r):xb(isNaN(e)?t:e)}const pS=function e(t){var r=$W(t);function n(a,i){var s=r((a=$v(a)).r,(i=$v(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=lP(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function UW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function VW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function WW(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Zl(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function HW(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function yh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function KW(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Zl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Uv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wg=new RegExp(Uv.source,"g");function GW(e){return function(){return e}}function YW(e){return function(t){return e(t)+""}}function XW(e,t){var r=Uv.lastIndex=wg.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Uv.exec(e))&&(a=wg.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:yh(n,a)})),r=wg.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?YW(c[0].x):GW(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Zl(e,t){var r=typeof t,n;return t==null||r==="boolean"?xb(t):(r==="number"?yh:r==="string"?(n=Xu(t))?(t=n,pS):XW:t instanceof Xu?pS:t instanceof Date?HW:VW(t)?UW:Array.isArray(t)?WW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?KW:yh)(e,t)}function vb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function qW(e,t){t===void 0&&(t=e,e=Zl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function JW(e){return function(){return e}}function bh(e){return+e}var mS=[0,1];function Lr(e){return e}function Vv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:JW(isNaN(t)?NaN:.5)}function QW(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ZW(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Vv(a,n),i=r(s,i)):(n=Vv(n,a),i=r(i,s)),function(o){return i(n(o))}}function eH(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Vv(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=Sd(e,o,1,n)-1;return i[c](a[c](o))}}function jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nm(){var e=mS,t=mS,r=Zl,n,a,i,s=Lr,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Lr&&(s=QW(e[0],e[h-1])),o=h>2?eH:ZW,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=o(t,e.map(n),yh)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,bh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=vb,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Lr,d()):s!==Lr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function yb(){return nm()(Lr,Lr)}function tH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Rl(e){return e=wh(Math.abs(e)),e?e[1]:NaN}function rH(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function nH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var aH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qu(e){if(!(t=aH.exec(e)))throw new Error("invalid format: "+e);var t;return new bb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qu.prototype=bb.prototype;function bb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iH(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var cP;function sH(e,t){var r=wh(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(cP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+wh(e,Math.max(0,t+i-1))[0]}function gS(e,t){var r=wh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gS(e*100,t),r:gS,s:sH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vS(e){return e}var yS=Array.prototype.map,bS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oH(e){var t=e.grouping===void 0||e.thousands===void 0?vS:rH(yS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?vS:nH(yS.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qu(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,x=f.zero,v=f.width,y=f.comma,w=f.precision,k=f.trim,S=f.type;S==="n"?(y=!0,S="g"):xS[S]||(w===void 0&&(w=12),k=!0,S="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var E=m==="$"?r:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=m==="$"?n:/[%p]/.test(S)?s:"",C=xS[S],T=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(D){var A=E,_=j,N,O,K;if(S==="c")_=C(D)+_,D="";else{D=+D;var I=D<0||1/D<0;if(D=isNaN(D)?c:C(Math.abs(D),w),k&&(D=iH(D)),I&&+D==0&&g!=="+"&&(I=!1),A=(I?g==="("?g:o:g==="-"||g==="("?"":g)+A,_=(S==="s"?bS[8+cP/3]:"")+_+(I&&g==="("?")":""),T){for(N=-1,O=D.length;++N<O;)if(K=D.charCodeAt(N),48>K||K>57){_=(K===46?a+D.slice(N+1):D.slice(N))+_,D=D.slice(0,N);break}}}y&&!x&&(D=t(D,1/0));var Y=A.length+D.length+_.length,G=Y<v?new Array(v-Y+1).join(h):"";switch(y&&x&&(D=t(G+D,G.length?v-_.length:1/0),G=""),p){case"<":D=A+D+_+G;break;case"=":D=A+G+D+_;break;case"^":D=G.slice(0,Y=G.length>>1)+A+D+_+G.slice(Y);break;default:D=G+A+D+_;break}return i(D)}return M.toString=function(){return f+""},M}function d(f,h){var p=u((f=qu(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Rl(h)/3)))*3,m=Math.pow(10,-g),x=bS[8+g/3];return function(v){return p(m*v)+x}}return{format:u,formatPrefix:d}}var Pf,wb,uP;lH({thousands:",",grouping:[3],currency:["$",""]});function lH(e){return Pf=oH(e),wb=Pf.format,uP=Pf.formatPrefix,Pf}function cH(e){return Math.max(0,-Rl(Math.abs(e)))}function uH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rl(t)/3)))*3-Rl(Math.abs(e)))}function dH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rl(t)-Rl(e))+1}function dP(e,t,r,n){var a=zv(e,t,r),i;switch(n=qu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=uH(a,s))&&(n.precision=i),uP(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dH(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=cH(a))&&(n.precision=i-(n.type==="%")*2);break}}return wb(n)}function xs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return dP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=Rv(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function fP(){var e=yb();return e.copy=function(){return jd(e,fP())},Gn.apply(e,arguments),xs(e)}function hP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,bh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hP(e).unknown(t)},e=arguments.length?Array.from(e,bh):[0,1],xs(r)}function pP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function wS(e){return Math.log(e)}function kS(e){return Math.exp(e)}function fH(e){return-Math.log(-e)}function hH(e){return-Math.exp(-e)}function pH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mH(e){return e===10?pH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _S(e){return(t,r)=>-e(-t,r)}function kb(e){const t=e(wS,kS),r=t.domain;let n=10,a,i;function s(){return a=gH(n),i=mH(n),r()[0]<0?(a=_S(a),i=_S(i),e(fH,hH)):e(wS,kS),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const x=o==null?10:+o;let v=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}v.length*2<x&&(v=Lv(u,d,x))}else v=Lv(h,p,Math.min(p-h,x)).map(i);return f?v.reverse():v},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qu(c)).precision==null&&(c.trim=!0),c=wb(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pP(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function mP(){const e=kb(nm()).domain([1,10]);return e.copy=()=>jd(e,mP()).base(e.base()),Gn.apply(e,arguments),e}function SS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ES(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _b(e){var t=1,r=e(SS(t),ES(t));return r.constant=function(n){return arguments.length?e(SS(t=+n),ES(t)):t},xs(r)}function gP(){var e=_b(nm());return e.copy=function(){return jd(e,gP()).constant(e.constant())},Gn.apply(e,arguments)}function jS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vH(e){return e<0?-e*e:e*e}function Sb(e){var t=e(Lr,Lr),r=1;function n(){return r===1?e(Lr,Lr):r===.5?e(xH,vH):e(jS(r),jS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},xs(t)}function Eb(){var e=Sb(nm());return e.copy=function(){return jd(e,Eb()).exponent(e.exponent())},Gn.apply(e,arguments),e}function yH(){return Eb.apply(null,arguments).exponent(.5)}function NS(e){return Math.sign(e)*e*e}function bH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xP(){var e=yb(),t=[0,1],r=!1,n;function a(i){var s=bH(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(NS(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,bh)).map(NS)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gn.apply(a,arguments),xs(a)}function vP(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=SW(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Sd(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ns),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return vP().domain(e).range(t).unknown(n)},Gn.apply(i,arguments)}function yP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Sd(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return yP().domain([e,t]).range(a).unknown(i)},Gn.apply(xs(s),arguments)}function bP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Sd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return bP().domain(e).range(t).unknown(r)},Gn.apply(a,arguments)}const kg=new Date,_g=new Date;function Gt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>Gt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(kg.setTime(+i),_g.setTime(+s),e(kg),e(_g),Math.floor(r(kg,_g))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const kh=Gt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kh);kh.range;const Qa=1e3,Ln=Qa*60,Za=Ln*60,fi=Za*24,jb=fi*7,TS=fi*30,Sg=fi*365,Hs=Gt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getUTCSeconds());Hs.range;const Nb=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qa)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());Nb.range;const Tb=Gt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());Tb.range;const Ab=Gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qa-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getHours());Ab.range;const Cb=Gt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCHours());Cb.range;const Nd=Gt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/fi,e=>e.getDate()-1);Nd.range;const am=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>e.getUTCDate()-1);am.range;const wP=Gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>Math.floor(e/fi));wP.range;function bo(e){return Gt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/jb)}const im=bo(0),_h=bo(1),wH=bo(2),kH=bo(3),zl=bo(4),_H=bo(5),SH=bo(6);im.range;_h.range;wH.range;kH.range;zl.range;_H.range;SH.range;function wo(e){return Gt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/jb)}const sm=wo(0),Sh=wo(1),EH=wo(2),jH=wo(3),Bl=wo(4),NH=wo(5),TH=wo(6);sm.range;Sh.range;EH.range;jH.range;Bl.range;NH.range;TH.range;const Pb=Gt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Pb.range;const Ob=Gt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ob.range;const hi=Gt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hi.range;const pi=Gt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});pi.range;function kP(e,t,r,n,a,i){const s=[[Hs,1,Qa],[Hs,5,5*Qa],[Hs,15,15*Qa],[Hs,30,30*Qa],[i,1,Ln],[i,5,5*Ln],[i,15,15*Ln],[i,30,30*Ln],[a,1,Za],[a,3,3*Za],[a,6,6*Za],[a,12,12*Za],[n,1,fi],[n,2,2*fi],[r,1,jb],[t,1,TS],[t,3,3*TS],[e,1,Sg]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=hb(([,,x])=>x).right(s,h);if(p===s.length)return e.every(zv(u/Sg,d/Sg,f));if(p===0)return kh.every(Math.max(zv(u,d,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[o,c]}const[AH,CH]=kP(pi,Ob,sm,wP,Cb,Tb),[PH,OH]=kP(hi,Pb,im,Nd,Ab,Nb);function Eg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function DH(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Ic(a),d=Fc(a),f=Ic(i),h=Fc(i),p=Ic(s),g=Fc(s),m=Ic(o),x=Fc(o),v=Ic(c),y=Fc(c),w={a:I,A:Y,b:G,B:q,c:null,d:MS,e:MS,f:rK,g:fK,G:pK,H:ZH,I:eK,j:tK,L:_P,m:nK,M:aK,p:ce,q:F,Q:LS,s:RS,S:iK,u:sK,U:oK,V:lK,w:cK,W:uK,x:null,X:null,y:dK,Y:hK,Z:mK,"%":FS},k={a:z,A:H,b:L,B:X,c:null,d:IS,e:IS,f:yK,g:AK,G:PK,H:gK,I:xK,j:vK,L:EP,m:bK,M:wK,p:ee,q:he,Q:LS,s:RS,S:kK,u:_K,U:SK,V:EK,w:jK,W:NK,x:null,X:null,y:TK,Y:CK,Z:OK,"%":FS},S={a:M,A:D,b:A,B:_,c:N,d:OS,e:OS,f:XH,g:PS,G:CS,H:DS,I:DS,j:HH,L:YH,m:WH,M:KH,p:T,q:VH,Q:JH,s:QH,S:GH,u:RH,U:zH,V:BH,w:LH,W:$H,x:O,X:K,y:PS,Y:CS,Z:UH,"%":qH};w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),k.x=E(r,k),k.X=E(n,k),k.c=E(t,k);function E(ne,ie){return function(Se){var ae=[],Le=-1,Ee=0,tt=ne.length,De,ye,Xt;for(Se instanceof Date||(Se=new Date(+Se));++Le<tt;)ne.charCodeAt(Le)===37&&(ae.push(ne.slice(Ee,Le)),(ye=AS[De=ne.charAt(++Le)])!=null?De=ne.charAt(++Le):ye=De==="e"?" ":"0",(Xt=ie[De])&&(De=Xt(Se,ye)),ae.push(De),Ee=Le+1);return ae.push(ne.slice(Ee,Le)),ae.join("")}}function j(ne,ie){return function(Se){var ae=Mc(1900,void 0,1),Le=C(ae,ne,Se+="",0),Ee,tt;if(Le!=Se.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(ie&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Ee=jg(Mc(ae.y,0,1)),tt=Ee.getUTCDay(),Ee=tt>4||tt===0?Sh.ceil(Ee):Sh(Ee),Ee=am.offset(Ee,(ae.V-1)*7),ae.y=Ee.getUTCFullYear(),ae.m=Ee.getUTCMonth(),ae.d=Ee.getUTCDate()+(ae.w+6)%7):(Ee=Eg(Mc(ae.y,0,1)),tt=Ee.getDay(),Ee=tt>4||tt===0?_h.ceil(Ee):_h(Ee),Ee=Nd.offset(Ee,(ae.V-1)*7),ae.y=Ee.getFullYear(),ae.m=Ee.getMonth(),ae.d=Ee.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),tt="Z"in ae?jg(Mc(ae.y,0,1)).getUTCDay():Eg(Mc(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(tt+5)%7:ae.w+ae.U*7-(tt+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,jg(ae)):Eg(ae)}}function C(ne,ie,Se,ae){for(var Le=0,Ee=ie.length,tt=Se.length,De,ye;Le<Ee;){if(ae>=tt)return-1;if(De=ie.charCodeAt(Le++),De===37){if(De=ie.charAt(Le++),ye=S[De in AS?ie.charAt(Le++):De],!ye||(ae=ye(ne,Se,ae))<0)return-1}else if(De!=Se.charCodeAt(ae++))return-1}return ae}function T(ne,ie,Se){var ae=u.exec(ie.slice(Se));return ae?(ne.p=d.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function M(ne,ie,Se){var ae=p.exec(ie.slice(Se));return ae?(ne.w=g.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function D(ne,ie,Se){var ae=f.exec(ie.slice(Se));return ae?(ne.w=h.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function A(ne,ie,Se){var ae=v.exec(ie.slice(Se));return ae?(ne.m=y.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function _(ne,ie,Se){var ae=m.exec(ie.slice(Se));return ae?(ne.m=x.get(ae[0].toLowerCase()),Se+ae[0].length):-1}function N(ne,ie,Se){return C(ne,t,ie,Se)}function O(ne,ie,Se){return C(ne,r,ie,Se)}function K(ne,ie,Se){return C(ne,n,ie,Se)}function I(ne){return s[ne.getDay()]}function Y(ne){return i[ne.getDay()]}function G(ne){return c[ne.getMonth()]}function q(ne){return o[ne.getMonth()]}function ce(ne){return a[+(ne.getHours()>=12)]}function F(ne){return 1+~~(ne.getMonth()/3)}function z(ne){return s[ne.getUTCDay()]}function H(ne){return i[ne.getUTCDay()]}function L(ne){return c[ne.getUTCMonth()]}function X(ne){return o[ne.getUTCMonth()]}function ee(ne){return a[+(ne.getUTCHours()>=12)]}function he(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ie=E(ne+="",w);return ie.toString=function(){return ne},ie},parse:function(ne){var ie=j(ne+="",!1);return ie.toString=function(){return ne},ie},utcFormat:function(ne){var ie=E(ne+="",k);return ie.toString=function(){return ne},ie},utcParse:function(ne){var ie=j(ne+="",!0);return ie.toString=function(){return ne},ie}}}var AS={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,MH=/^%/,IH=/[\\^$*+?|[\]().{}]/g;function ze(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function FH(e){return e.replace(IH,"\\$&")}function Ic(e){return new RegExp("^(?:"+e.map(FH).join("|")+")","i")}function Fc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LH(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RH(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zH(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function BH(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $H(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CS(e,t,r){var n=sr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function PS(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function UH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function VH(e,t,r){var n=sr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function WH(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function OS(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HH(e,t,r){var n=sr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function DS(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function KH(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function GH(e,t,r){var n=sr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function YH(e,t,r){var n=sr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function XH(e,t,r){var n=sr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qH(e,t,r){var n=MH.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function JH(e,t,r){var n=sr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function QH(e,t,r){var n=sr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function MS(e,t){return ze(e.getDate(),t,2)}function ZH(e,t){return ze(e.getHours(),t,2)}function eK(e,t){return ze(e.getHours()%12||12,t,2)}function tK(e,t){return ze(1+Nd.count(hi(e),e),t,3)}function _P(e,t){return ze(e.getMilliseconds(),t,3)}function rK(e,t){return _P(e,t)+"000"}function nK(e,t){return ze(e.getMonth()+1,t,2)}function aK(e,t){return ze(e.getMinutes(),t,2)}function iK(e,t){return ze(e.getSeconds(),t,2)}function sK(e){var t=e.getDay();return t===0?7:t}function oK(e,t){return ze(im.count(hi(e)-1,e),t,2)}function SP(e){var t=e.getDay();return t>=4||t===0?zl(e):zl.ceil(e)}function lK(e,t){return e=SP(e),ze(zl.count(hi(e),e)+(hi(e).getDay()===4),t,2)}function cK(e){return e.getDay()}function uK(e,t){return ze(_h.count(hi(e)-1,e),t,2)}function dK(e,t){return ze(e.getFullYear()%100,t,2)}function fK(e,t){return e=SP(e),ze(e.getFullYear()%100,t,2)}function hK(e,t){return ze(e.getFullYear()%1e4,t,4)}function pK(e,t){var r=e.getDay();return e=r>=4||r===0?zl(e):zl.ceil(e),ze(e.getFullYear()%1e4,t,4)}function mK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ze(t/60|0,"0",2)+ze(t%60,"0",2)}function IS(e,t){return ze(e.getUTCDate(),t,2)}function gK(e,t){return ze(e.getUTCHours(),t,2)}function xK(e,t){return ze(e.getUTCHours()%12||12,t,2)}function vK(e,t){return ze(1+am.count(pi(e),e),t,3)}function EP(e,t){return ze(e.getUTCMilliseconds(),t,3)}function yK(e,t){return EP(e,t)+"000"}function bK(e,t){return ze(e.getUTCMonth()+1,t,2)}function wK(e,t){return ze(e.getUTCMinutes(),t,2)}function kK(e,t){return ze(e.getUTCSeconds(),t,2)}function _K(e){var t=e.getUTCDay();return t===0?7:t}function SK(e,t){return ze(sm.count(pi(e)-1,e),t,2)}function jP(e){var t=e.getUTCDay();return t>=4||t===0?Bl(e):Bl.ceil(e)}function EK(e,t){return e=jP(e),ze(Bl.count(pi(e),e)+(pi(e).getUTCDay()===4),t,2)}function jK(e){return e.getUTCDay()}function NK(e,t){return ze(Sh.count(pi(e)-1,e),t,2)}function TK(e,t){return ze(e.getUTCFullYear()%100,t,2)}function AK(e,t){return e=jP(e),ze(e.getUTCFullYear()%100,t,2)}function CK(e,t){return ze(e.getUTCFullYear()%1e4,t,4)}function PK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bl(e):Bl.ceil(e),ze(e.getUTCFullYear()%1e4,t,4)}function OK(){return"+0000"}function FS(){return"%"}function LS(e){return+e}function RS(e){return Math.floor(+e/1e3)}var Do,NP,TP;DK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DK(e){return Do=DH(e),NP=Do.format,Do.parse,TP=Do.utcFormat,Do.utcParse,Do}function MK(e){return new Date(e)}function IK(e){return e instanceof Date?+e:+new Date(+e)}function Db(e,t,r,n,a,i,s,o,c,u){var d=yb(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),y=u("%b %d"),w=u("%B"),k=u("%Y");function S(E){return(c(E)<E?p:o(E)<E?g:s(E)<E?m:i(E)<E?x:n(E)<E?a(E)<E?v:y:r(E)<E?w:k)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?h(Array.from(E,IK)):h().map(MK)},d.ticks=function(E){var j=h();return e(j[0],j[j.length-1],E??10)},d.tickFormat=function(E,j){return j==null?S:u(j)},d.nice=function(E){var j=h();return(!E||typeof E.range!="function")&&(E=t(j[0],j[j.length-1],E??10)),E?h(pP(j,E)):d},d.copy=function(){return jd(d,Db(e,t,r,n,a,i,s,o,c,u))},d}function FK(){return Gn.apply(Db(PH,OH,hi,Pb,im,Nd,Ab,Nb,Hs,NP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LK(){return Gn.apply(Db(AH,CH,pi,Ob,sm,am,Cb,Tb,Hs,TP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var e=0,t=1,r,n,a,i,s=Lr,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(Zl),u.rangeRound=d(vb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function vs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AP(){var e=xs(om()(Lr));return e.copy=function(){return vs(e,AP())},Ei.apply(e,arguments)}function CP(){var e=kb(om()).domain([1,10]);return e.copy=function(){return vs(e,CP()).base(e.base())},Ei.apply(e,arguments)}function PP(){var e=_b(om());return e.copy=function(){return vs(e,PP()).constant(e.constant())},Ei.apply(e,arguments)}function Mb(){var e=Sb(om());return e.copy=function(){return vs(e,Mb()).exponent(e.exponent())},Ei.apply(e,arguments)}function RK(){return Mb.apply(null,arguments).exponent(.5)}function OP(){var e=[],t=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Sd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ns),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>_W(e,i/n))},r.copy=function(){return OP(t).domain(e)},Ei.apply(r,arguments)}function lm(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=Lr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?o:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(x){var v,y,w;return arguments.length?([v,y,w]=x,u=qW(m,[v,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(Zl),p.rangeRound=g(vb),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function DP(){var e=xs(lm()(Lr));return e.copy=function(){return vs(e,DP())},Ei.apply(e,arguments)}function MP(){var e=kb(lm()).domain([.1,1,10]);return e.copy=function(){return vs(e,MP()).base(e.base())},Ei.apply(e,arguments)}function IP(){var e=_b(lm());return e.copy=function(){return vs(e,IP()).constant(e.constant())},Ei.apply(e,arguments)}function Ib(){var e=Sb(lm());return e.copy=function(){return vs(e,Ib()).exponent(e.exponent())},Ei.apply(e,arguments)}function zK(){return Ib.apply(null,arguments).exponent(.5)}const Qc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mb,scaleDiverging:DP,scaleDivergingLog:MP,scaleDivergingPow:Ib,scaleDivergingSqrt:zK,scaleDivergingSymlog:IP,scaleIdentity:hP,scaleImplicit:Bv,scaleLinear:fP,scaleLog:mP,scaleOrdinal:pb,scalePoint:jW,scalePow:Eb,scaleQuantile:vP,scaleQuantize:yP,scaleRadial:xP,scaleSequential:AP,scaleSequentialLog:CP,scaleSequentialPow:Mb,scaleSequentialQuantile:OP,scaleSequentialSqrt:RK,scaleSequentialSymlog:PP,scaleSqrt:yH,scaleSymlog:gP,scaleThreshold:bP,scaleTime:FK,scaleUtc:LK,tickFormat:dP},Symbol.toStringTag,{value:"Module"}));var ys=e=>e.chartData,Fb=re([ys],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Lb=(e,t,r,n)=>n?Fb(e):ys(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(pa(t)&&pa(r))return!0}return!1}function zS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function BK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(pa(r))a=r;else if(typeof r=="function")return;if(pa(n))i=n;else if(typeof n=="function")return;var s=[a,i];if($l(s))return s}}function $K(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($l(n))return zS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(Me(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&I_.test(a)){var c=I_.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Me(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&F_.test(i)){var d=F_.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if($l(h))return t==null?h:zS(h,t,r)}}}var ec=1e9,UK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zb,dt=!0,Vn="[DecimalError] ",eo=Vn+"Invalid argument: ",Rb=Vn+"Exponent out of range: ",tc=Math.floor,Ms=Math.pow,VK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pn,Jt=1e7,st=7,FP=9007199254740991,Eh=tc(FP/st),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*st;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return ri(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return Je(ri(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Lt(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(pn))throw Error(Vn+"NaN");if(r.s<1)throw Error(Vn+(r.s?"NaN":"-Infinity"));return r.eq(pn)?new n(0):(dt=!1,t=ri(Ju(r,i),Ju(e,i),i),dt=!0,Je(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zP(t,e):LP(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Vn+"NaN");return r.s?(dt=!1,t=ri(r,e,0,1).times(e),dt=!0,r.minus(t)):Je(new n(r),a)};_e.naturalExponential=_e.exp=function(){return RP(this)};_e.naturalLogarithm=_e.ln=function(){return Ju(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LP(t,e):zP(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(eo+e);if(t=Lt(a)+1,n=a.d.length-1,r=n*st+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Vn+"NaN")}for(e=Lt(o),dt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=ja(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=tc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ri(o,i,s+2)).times(.5),ja(i.d).slice(0,s)===(t=ja(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Je(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return dt=!0,Je(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,i,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Jt|0,t=o/Jt|0;i[a]=(i[a]+t)%Jt|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,dt?Je(e,f.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ma(e,0,ec),t===void 0?t=n.rounding:Ma(t,0,8),Je(r,e+Lt(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=fo(n,!0):(Ma(e,0,ec),t===void 0?t=a.rounding:Ma(t,0,8),n=Je(new a(n),e+1,t),r=fo(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?fo(a):(Ma(e,0,ec),t===void 0?t=i.rounding:Ma(t,0,8),n=Je(new i(a),e+Lt(a)+1,t),r=fo(n.abs(),!1,e+Lt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return Je(new t(e),Lt(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(pn);if(o=new c(o),!o.s){if(e.s<1)throw Error(Vn+"Infinity");return o}if(o.eq(pn))return o;if(n=c.precision,e.eq(pn))return Je(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=FP){for(a=new c(pn),t=Math.ceil(n/st+4),dt=!1;r%2&&(a=a.times(o),$S(a.d,t)),r=tc(r/2),r!==0;)o=o.times(o),$S(o.d,t);return dt=!0,e.s<0?new c(pn).div(a):Je(a,n)}}else if(i<0)throw Error(Vn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,dt=!1,a=e.times(Ju(o,n+u)),dt=!0,a=RP(a),a.s=i,a};_e.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Lt(a),n=fo(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ma(e,1,ec),t===void 0?t=i.rounding:Ma(t,0,8),a=Je(new i(a),e,t),r=Lt(a),n=fo(a,e<=r||r<=i.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ma(e,1,ec),t===void 0?t=n.rounding:Ma(t,0,8)),Je(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Lt(e),r=e.constructor;return fo(e,t<=r.toExpNeg||t>=r.toExpPos)};function LP(e,t){var r,n,a,i,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),dt?Je(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(f/st),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Jt|0,c[i]%=Jt;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,dt?Je(t,f):t}function Ma(e,t,r){if(e!==~~e||e<t||e>r)throw Error(eo+e)}function ja(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=st-n.length,r&&(i+=zi(r)),i+=n;s=e[t],n=s+"",r=st-n.length,r&&(i+=zi(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ri=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Jt|0,s=i/Jt|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Jt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,d,f,h,p,g,m,x,v,y,w,k,S,E,j,C,T=n.constructor,M=n.s==a.s?1:-1,D=n.d,A=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Vn+"Division by zero");for(c=n.e-a.e,j=A.length,S=D.length,p=new T(M),g=p.d=[],u=0;A[u]==(D[u]||0);)++u;if(A[u]>(D[u]||0)&&--c,i==null?y=i=T.precision:s?y=i+(Lt(n)-Lt(a))+1:y=i,y<0)return new T(0);if(y=y/st+2|0,u=0,j==1)for(d=0,A=A[0],y++;(u<S||d)&&y--;u++)w=d*Jt+(D[u]||0),g[u]=w/A|0,d=w%A|0;else{for(d=Jt/(A[0]+1)|0,d>1&&(A=e(A,d),D=e(D,d),j=A.length,S=D.length),k=j,m=D.slice(0,j),x=m.length;x<j;)m[x++]=0;C=A.slice(),C.unshift(0),E=A[0],A[1]>=Jt/2&&++E;do d=0,o=t(A,m,j,x),o<0?(v=m[0],j!=x&&(v=v*Jt+(m[1]||0)),d=v/E|0,d>1?(d>=Jt&&(d=Jt-1),f=e(A,d),h=f.length,x=m.length,o=t(f,m,h,x),o==1&&(d--,r(f,j<h?C:A,h))):(d==0&&(o=d=1),f=A.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),o==-1&&(x=m.length,o=t(A,m,j,x),o<1&&(d++,r(m,j<x?C:A,x))),x=m.length):o===0&&(d++,m=[0]),g[u++]=d,o&&m[0]?m[x++]=D[k]||0:(m=[D[k]],x=1);while((k++<S||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Je(p,s?i+Lt(p)+1:i)}}();function RP(e,t){var r,n,a,i,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(Lt(e)>16)throw Error(Rb+Lt(e));if(!e.s)return new d(pn);for(dt=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ms(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(pn),d.precision=o;;){if(a=Je(a.times(e),o),r=r.times(++c),s=i.plus(ri(a,r,o)),ja(s.d).slice(0,o)===ja(i.d).slice(0,o)){for(;u--;)i=Je(i.times(i),o);return d.precision=f,t==null?(dt=!0,Je(i,f)):i}i=s}}function Lt(e){for(var t=e.e*st,r=e.d[0];r>=10;r/=10)t++;return t}function Ng(e,t,r){if(t>e.LN10.sd())throw dt=!0,r&&(e.precision=r),Error(Vn+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function Ju(e,t){var r,n,a,i,s,o,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(Vn+(p.s?"NaN":"-Infinity"));if(p.eq(pn))return new m(0);if(t==null?(dt=!1,u=x):u=t,p.eq(10))return t==null&&(dt=!0),Ng(m,u);if(u+=h,m.precision=u,r=ja(g),n=r.charAt(0),i=Lt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ja(p.d),n=r.charAt(0),f++;i=Lt(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Ng(m,u+2,x).times(i+""),p=Ju(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(dt=!0,Je(p,x)):p;for(o=s=p=ri(p.minus(pn),p.plus(pn),u),d=Je(p.times(p),u),a=3;;){if(s=Je(s.times(d),u),c=o.plus(ri(s,new m(a),u)),ja(c.d).slice(0,u)===ja(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Ng(m,u+2,x).times(i+""))),o=ri(o,new m(f),u),m.precision=x,t==null?(dt=!0,Je(o,x)):o;o=c,a+=2}}function BS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=tc(r/st),e.d=[],n=(r+1)%st,r<0&&(n+=st),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=st;n<a;)e.d.push(+t.slice(n,n+=st));t=t.slice(n),n=st-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),dt&&(e.e>Eh||e.e<-Eh))throw Error(Rb+r)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,r){var n,a,i,s,o,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=st,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/st),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=st,a=n-st+s}if(r!==void 0&&(i=Ms(10,s-a-1),o=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Ms(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Lt(e),f.length=1,t=t-i-1,f[0]=Ms(10,(st-t%st)%st),e.e=tc(-t/st)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ms(10,st-n),f[d]=a>0?(u/Ms(10,s-a)%Ms(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Jt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Jt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(dt&&(e.e>Eh||e.e<-Eh))throw Error(Rb+Lt(e));return e}function zP(e,t){var r,n,a,i,s,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),dt?Je(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),a=Math.max(Math.ceil(p/st),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,a=f.length-o;a>0;--a)c[o++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Jt-1;--c[i],c[a]+=Jt}c[a]-=f[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,dt?Je(t,p):t):new h(0)}function fo(e,t,r){var n,a=Lt(e),i=ja(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+zi(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+zi(-a-1)+i,r&&(n=r-s)>0&&(i+=zi(n))):a>=s?(i+=zi(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+zi(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=zi(n))),e.s<0?"-"+i:i}function $S(e,t){if(e.length>t)return e.length=t,!0}function BP(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(eo+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return BS(s,i.toString())}else if(typeof i!="string")throw Error(eo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,VK.test(i))BS(s,i);else throw Error(eo+i)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=BP,a.config=a.set=WK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function WK(e){if(!e||typeof e!="object")throw Error(Vn+"Object expected");var t,r,n,a=["precision",1,ec,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(tc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(eo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(eo+r+": "+n);return this}var zb=BP(UK);pn=new zb(1);const We=zb;var HK=e=>e,$P={},UP=e=>e===$P,US=e=>function t(){return arguments.length===0||arguments.length===1&&UP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},VP=(e,t)=>e===1?t:US(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==$P).length;return i>=e?t(...n):VP(e-i,US(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>UP(d)?o.shift():d);return t(...u,...o)}))}),cm=e=>VP(e.length,e),Wv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},KK=cm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),GK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return HK;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},Hv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),WP=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function HP(e){var t;return e===0?t=1:t=Math.floor(new We(e).abs().log(10).toNumber())+1,t}function KP(e,t,r){for(var n=new We(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}cm((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});cm((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});cm((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var GP=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},YP=(e,t,r)=>{if(e.lte(0))return new We(0);var n=HP(e.toNumber()),a=new We(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new We(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?new We(c.toNumber()):new We(Math.ceil(c.toNumber()))},YK=(e,t,r)=>{var n=new We(1),a=new We(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new We(10).pow(HP(e)-1),a=new We(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new We(Math.floor(e)))}else e===0?a=new We(Math.floor((t-1)/2)):r||(a=new We(Math.floor(e)));var s=Math.floor((t-1)/2),o=GK(KK(c=>a.add(new We(c-s).mul(n)).toNumber()),Wv);return o(0,t)},XP=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var s=YP(new We(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new We(0):(o=new We(t).add(r).div(2),o=o.sub(new We(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new We(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?XP(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new We(c).mul(s)),tickMax:o.add(new We(u).mul(s))})};function XK(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=GP([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...Wv(0,n-1).map(()=>1/0)]:[...Wv(0,n-1).map(()=>-1/0),o];return t>r?Hv(c):c}if(s===o)return YK(s,n,a);var{step:u,tickMin:d,tickMax:f}=XP(s,o,i,a,0),h=KP(d,f.add(new We(.1).mul(u)),u);return t>r?Hv(h):h}function qK(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=GP([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),c=YP(new We(s).sub(i).div(o-1),a,0),u=[...KP(new We(i),new We(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Hv(u):u}var JK=WP(XK),QK=WP(qK),ZK=e=>e.rootProps.barCategoryGap,Td=e=>e.rootProps.stackOffset,Bb=e=>e.options.chartName,$b=e=>e.rootProps.syncId,qP=e=>e.rootProps.syncMethod,Ub=e=>e.options.eventEmitter,Xa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},eG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xa.angleAxisId,includeHidden:!1,name:void 0,reversed:Xa.reversed,scale:Xa.scale,tick:Xa.tick,tickCount:void 0,ticks:void 0,type:Xa.type,unit:void 0},tG={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:cn.type,unit:void 0},rG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nG={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:"category",unit:void 0},Vb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?rG:eG,Wb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?nG:tG,dm=e=>e.polarOptions,Hb=re([ki,_i,ir],IC),JP=re([dm,Hb],(e,t)=>{if(e!=null)return xn(e.innerRadius,t,0)}),QP=re([dm,Hb],(e,t)=>{if(e!=null)return xn(e.outerRadius,t,t*.8)}),aG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},ZP=re([dm],aG);re([Vb,ZP],um);var e5=re([Hb,JP,QP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});re([Wb,e5],um);var t5=re([Xe,dm,JP,QP,ki,_i],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:xn(s,a,a/2),cy:xn(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ht=(e,t)=>t,Ad=(e,t,r)=>r;function r5(e){return e==null?void 0:e.id}var Yt=e=>{var t=Xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rc=e=>e.tooltip.settings.axisId,or=e=>{var t=Yt(e),r=rc(e);return Cd(e,t,r)},n5=re([or],e=>e==null?void 0:e.dataKey);function a5(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=r5(o);u.forEach((f,h)=>{var p=i==null||a?h:String(vt(f,i,null)),g=vt(f,o.dataKey,0),m;s.has(p)?m=s.get(p):m={},Object.assign(m,{[d]:g}),s.set(p,m)})}}),Array.from(s.values())}function Kb(e){return e.stackId!=null&&e.dataKey!=null}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kv=[0,"auto"],i5={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lG=(e,t)=>e.cartesianAxis.xAxis[t],ji=(e,t)=>{var r=lG(e,t);return r??i5},s5={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Kv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_d},cG=(e,t)=>e.cartesianAxis.yAxis[t],Ni=(e,t)=>{var r=cG(e,t);return r??s5},uG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Gb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??uG},Ct=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);case"zAxis":return Gb(e,r);case"angleAxis":return Vb(e,r);case"radiusAxis":return Wb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dG=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cd=(e,t,r)=>{switch(t){case"xAxis":return ji(e,r);case"yAxis":return Ni(e,r);case"angleAxis":return Vb(e,r);case"radiusAxis":return Wb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},o5=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Yb(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var l5=e=>e.graphicalItems.cartesianItems,fG=re([ht,Ad],Yb),Xb=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Pd=re([l5,Ct,fG],Xb),c5=re([Pd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Kb)),u5=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),d5=re([Pd],u5),qb=e=>e.map(t=>t.data).filter(Boolean).flat(1),hG=re([Pd],qb),Jb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Qb=re([hG,Lb],Jb),Zb=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:vt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:vt(a,n)}))):e.map(n=>({value:n})),fm=re([Qb,Ct,Pd],Zb);function f5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ko(e){return e.filter(t=>ui(t)||t instanceof Date).map(Number).filter(t=>fa(t)===!1)}function pG(e,t,r){return!r||typeof t!="number"||fa(t)?[]:r.length?ko(r.flatMap(n=>{var a=vt(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!pa(i)||!pa(s)))return[t-i,t+s]})):[]}var mG=re([c5,Lb,or],a5),h5=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,c=o.map(r5);return[s,{stackedData:MU(e,c,r),graphicalItems:o}]}))},gG=re([mG,c5,Td],h5),p5=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=LU(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},xG=re([gG,ys,ht],p5),m5=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var o,c,u=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>f5(a,f)),d=vt(i,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:pG(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:vt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),hm=e=>e.errorBars,g5=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>f5(r,n));re([d5,hm,ht],g5);var vG=re([Qb,Ct,d5,hm,ht],m5);function yG(e){var{value:t}=e;if(ui(t)||t instanceof Date)return t}var WS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ko(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bG=(e,t,r)=>{var n=e.map(yG).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&h3(n))?tP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},ew=e=>{var t;if(e==null||!("domain"in e))return Kv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ko(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Kv},Nh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},x5=e=>e.referenceElements.dots,nc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),wG=re([x5,ht,Ad],nc),v5=e=>e.referenceElements.areas,kG=re([v5,ht,Ad],nc),y5=e=>e.referenceElements.lines,_G=re([y5,ht,Ad],nc),b5=(e,t)=>{var r=ko(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},SG=re(wG,ht,b5),w5=(e,t)=>{var r=ko(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},EG=re([kG,ht],w5),k5=(e,t)=>{var r=ko(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jG=re(_G,ht,k5),NG=re(SG,jG,EG,(e,t,r)=>Nh(e,r,t)),_5=re([Ct],ew),tw=(e,t,r,n,a,i,s)=>{var o=BK(t,e.allowDataOverflow);if(o!=null)return o;var c=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",u=c?Nh(r,a,WS(n)):Nh(a,WS(n));return $K(t,u,e.allowDataOverflow)},TG=re([Ct,_5,xG,vG,NG,Xe,ht],tw),AG=[0,1],rw=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=gs(t,i);return u&&o==null?tP(0,r.length):c==="category"?bG(n,e,u):a==="expand"?AG:s}},nw=re([Ct,Xe,Qb,fm,Td,ht,TG],rw),S5=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(bd(i));return o in Qc?o:"point"}}},ac=re([Ct,Xe,o5,Bb,ht],S5);function CG(e){if(e!=null){if(e in Qc)return Qc[e]();var t="scale".concat(bd(e));if(t in Qc)return Qc[t]()}}function aw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=CG(t);if(a!=null){var i=a.domain(r).range(n);return CU(i),i}}}var iw=(e,t,r)=>{var n=ew(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$l(e))return JK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return QK(e,t.tickCount,t.allowDecimals)}},sw=re([nw,Cd,ac],iw),ow=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$l(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},PG=re([Ct,nw,sw,ht],ow),OG=re(fm,Ct,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ko(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),E5=re(OG,Xe,ZK,ir,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!pa(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=xn(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),DG=(e,t)=>{var r=ji(e,t);return r==null||typeof r.padding!="string"?0:E5(e,"xAxis",t,r.padding)},MG=(e,t)=>{var r=Ni(e,t);return r==null||typeof r.padding!="string"?0:E5(e,"yAxis",t,r.padding)},IG=re(ji,DG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),FG=re(Ni,MG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),LG=re([ir,IG,em,Zp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),RG=re([ir,Xe,FG,em,Zp,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Od=(e,t,r,n)=>{var a;switch(t){case"xAxis":return LG(e,r,n);case"yAxis":return RG(e,r,n);case"zAxis":return(a=Gb(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return ZP(e);case"radiusAxis":return e5(e,r);default:return}},j5=re([Ct,Od],um),pm=re([Ct,ac,PG,j5],aw);re([Pd,hm,ht],g5);function N5(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var mm=(e,t)=>t,gm=(e,t,r)=>r,zG=re(Jp,mm,gm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(N5)),BG=re(Qp,mm,gm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(N5)),T5=(e,t)=>({width:e.width,height:t.height}),$G=(e,t)=>{var r=typeof t.width=="number"?t.width:_d;return{width:r,height:e.height}};re(ir,ji,T5);var UG=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},VG=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},WG=re(_i,ir,zG,mm,gm,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=T5(t,o);s==null&&(s=UG(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),HG=re(ki,ir,BG,mm,gm,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=$G(t,o);s==null&&(s=VG(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),KG=(e,t)=>{var r=ji(e,t);if(r!=null)return WG(e,r.orientation,r.mirror)};re([ir,ji,KG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}});var GG=(e,t)=>{var r=Ni(e,t);if(r!=null)return HG(e,r.orientation,r.mirror)};re([ir,Ni,GG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}});re(ir,Ni,(e,t)=>{var r=typeof t.width=="number"?t.width:_d;return{width:r,height:e.height}});var A5=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=gs(e,n),c=t.map(u=>u.value);if(s&&o&&i==="category"&&a&&h3(c))return c}},lw=re([Xe,fm,Ct,ht],A5),C5=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=gs(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},cw=re([Xe,fm,Cd,ht],C5);re([Xe,dG,ac,pm,lw,cw,Od,sw,ht],(e,t,r,n,a,i,s,o,c)=>{if(t==null)return null;var u=gs(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}});var YG=(e,t,r,n,a,i,s,o,c)=>{if(!(t==null||n==null)){var u=gs(e,c),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Yr(i[0]-i[1])*2*g:g;var m=f||a;if(m){var x=m.map((v,y)=>{var w=s?s.indexOf(v):v;return{index:y,coordinate:n(w)+g,value:v,offset:g}});return x.filter(v=>!fa(v.coordinate))}return u&&o?o.map((v,y)=>({coordinate:n(v)+g,value:v,index:y,offset:g})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+g,value:v,offset:g})):n.domain().map((v,y)=>({coordinate:n(v)+g,value:s?s[v]:v,index:y,offset:g}))}};re([Xe,Cd,ac,pm,sw,Od,lw,cw,ht],YG);var XG=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=gs(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Yr(n[0]-n[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},P5=re([Xe,Cd,pm,Od,lw,cw,ht],XG),O5=re(Ct,pm,(e,t)=>{if(!(e==null||t==null))return jh(jh({},e),{},{scale:t})}),qG=re([Ct,ac,nw,j5],aw);re((e,t,r)=>Gb(e,r),qG,(e,t)=>{if(!(e==null||t==null))return jh(jh({},e),{},{scale:t})});var JG=re([Xe,Jp,Qp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),D5=e=>e.options.defaultTooltipEventType,M5=e=>e.options.validateTooltipEventTypes;function I5(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function uw(e,t){var r=D5(e),n=M5(e);return I5(t,r,n)}function QG(e){return Ce(t=>uw(t,e))}var F5=(e,t)=>{var r,n=Number(t);if(!(fa(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ZG=e=>e.tooltip.settings,Ui={active:!1,index:null,dataKey:void 0,coordinate:void 0},eY={itemInteraction:{click:Ui,hover:Ui},axisInteraction:{click:Ui,hover:Ui},keyboardInteraction:Ui,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},L5=Sn({name:"tooltip",initialState:eY,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ti(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:tY,removeTooltipEntrySettings:rY,setTooltipSettingsState:nY,setActiveMouseOverItemIndex:R5,mouseLeaveItem:aY,mouseLeaveChart:z5,setActiveClickItemIndex:iY,setMouseOverAxisIndex:B5,setMouseClickAxisIndex:sY,setSyncInteraction:Gv,setKeyboardInteraction:Yv}=L5.actions,oY=L5.reducer;function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){lY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t,r){return(t=cY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=uY(e,"string");return typeof t=="symbol"?t:t+""}function uY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dY(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function fY(e){return e.index!=null}var $5=(e,t,r,n)=>{if(t==null)return Ui;var a=dY(e,t,r);if(a==null)return Ui;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(fY(a)){if(i)return Of(Of({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Of(Of({},Ui),{},{coordinate:a.coordinate})},dw=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!pa(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},U5=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},V5=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},Dd=e=>e.options.tooltipPayloadSearcher,ic=e=>e.tooltip;function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return(t=pY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gY(e,t){return e??t}var W5=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:m,settings:x}=p,v=gY(m,o),y=Array.isArray(v)?FC(v,u,d):v,w=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:n,k=x==null?void 0:x.nameKey,S;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&s==="axis"?S=p3(y,n,a):S=i(y,t,c,k),Array.isArray(S))S.forEach(j=>{var C=GS(GS({},x),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(L_({tooltipEntrySettings:C,dataKey:j.dataKey,payload:j.payload,value:vt(j.payload,j.dataKey),name:j.name}))});else{var E;h.push(L_({tooltipEntrySettings:x,dataKey:w,payload:S,value:vt(S,w),name:(E=vt(S,k))!==null&&E!==void 0?E:x==null?void 0:x.name}))}return h},f)}},fw=re([or,Xe,o5,Bb,Yt],S5),xY=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),vY=re([Yt,rc],Yb),Md=re([xY,or,vY],Xb),yY=re([Md],e=>e.filter(Kb)),bY=re([Md],qb),sc=re([bY,ys],Jb),wY=re([yY,ys,or],a5),hw=re([sc,or,Md],Zb),kY=re([or],ew),_Y=re([Md],e=>e.filter(Kb)),SY=re([wY,_Y,Td],h5),EY=re([SY,ys,Yt],p5),jY=re([Md],u5),NY=re([sc,or,jY,hm,Yt],m5),TY=re([x5,Yt,rc],nc),AY=re([TY,Yt],b5),CY=re([v5,Yt,rc],nc),PY=re([CY,Yt],w5),OY=re([y5,Yt,rc],nc),DY=re([OY,Yt],k5),MY=re([AY,DY,PY],Nh),IY=re([or,kY,EY,NY,MY,Xe,Yt],tw),H5=re([or,Xe,sc,hw,Td,Yt,IY],rw),FY=re([H5,or,fw],iw),LY=re([or,H5,FY,Yt],ow),K5=e=>{var t=Yt(e),r=rc(e),n=!1;return Od(e,t,r,n)},G5=re([or,K5],um),Y5=re([or,fw,LY,G5],aw),RY=re([Xe,hw,or,Yt],A5),zY=re([Xe,hw,or,Yt],C5),BY=(e,t,r,n,a,i,s,o)=>{if(t){var{type:c}=t,u=gs(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Yr(a[0]-a[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},Ti=re([Xe,or,fw,Y5,K5,RY,zY,Yt],BY),pw=re([D5,M5,ZG],(e,t,r)=>I5(r.shared,e,t)),X5=e=>e.tooltip.settings.trigger,mw=e=>e.tooltip.settings.defaultIndex,xm=re([ic,pw,X5,mw],$5),Ul=re([xm,sc],dw),q5=re([Ti,Ul],F5),$Y=re([xm],e=>{if(e)return e.dataKey}),J5=re([ic,pw,X5,mw],V5),UY=re([ki,_i,Xe,ir,Ti,mw,J5,Dd],U5),VY=re([xm,UY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),WY=re([xm],e=>e.active),HY=re([J5,Ul,ys,n5,q5,Dd,pw],W5),KY=re([HY],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){GY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GY(e,t,r){return(t=YY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qY=()=>Ce(or),JY=()=>{var e=qY(),t=Ce(Ti),r=Ce(Y5);return Cv(XS(XS({},e),{},{scale:r}),t)},QY=()=>Ce(Bb),gw=(e,t)=>t,Q5=(e,t,r)=>r,xw=(e,t,r,n)=>n,ZY=re(Ti,e=>Wp(e,t=>t.coordinate)),vw=re([ic,gw,Q5,xw],$5),Z5=re([vw,sc],dw),eX=(e,t,r)=>{if(t!=null){var n=ic(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eO=re([ic,gw,Q5,xw],V5),Th=re([ki,_i,Xe,ir,Ti,xw,eO,Dd],U5),tX=re([vw,Th],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tO=re(Ti,Z5,F5),rX=re([eO,Z5,ys,n5,tO,Dd,gw],W5),nX=re([vw],e=>({isActive:e.active,activeIndex:e.index})),aX=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var c=RU(e.chartX,e.chartY,t,r,o);if(c){var u=BU(c,t),d=TU(u,s,i,n,a),f=zU(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){iX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lX(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,g;if(u==="ScatterChart")p=d,g=CV;else if(u==="BarChart")p=PV(s,d,a,i),g=YC;else if(s==="radial"){var{cx:m,cy:x,radius:v,startAngle:y,endAngle:w}=XC(d);p={cx:m,cy:x,startAngle:y,endAngle:w,innerRadius:v,outerRadius:v},g=JC}else p={points:uW(s,d,a)},g=fb;var k=typeof o=="object"&&"className"in o?o.className:void 0,S=Df(Df(Df(Df({stroke:"#ccc",pointerEvents:"none"},a),p),Kt(o,!1)),{},{payload:f,payloadIndex:h,className:wt("recharts-tooltip-cursor",k)});return b.isValidElement(o)?b.cloneElement(o,S):b.createElement(g,S)}function cX(e){var t=JY(),r=ZU(),n=db(),a=QY();return b.createElement(lX,Xv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var rO=b.createContext(null),uX=()=>b.useContext(rO),nO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],v=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var k=x.length,S;for(w=0;w<k;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),v){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];x[w].fn.apply(x[w].context,y)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,x=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&x.push(g[m]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(nO);var dX=nO.exports;const fX=Fa(dX);var Qu=new fX,qv="recharts.syncEvent.tooltip",JS="recharts.syncEvent.brush";function aO(e,t){if(t){var r=Number.parseInt(t,10);if(!fa(r))return e==null?void 0:e[r]}}var hX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iO=Sn({name:"options",initialState:hX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pX=iO.reducer,{createEventEmitter:mX}=iO.actions;function gX(e){return e.tooltip.syncInteraction}var xX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sO=Sn({name:"chartData",initialState:xX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:QS,setDataStartEndIndexes:vX,setComputedData:Mme}=sO.actions,yX=sO.reducer,bX=["x","y"];function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){wX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wX(e,t,r){return(t=kX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SX(e,t){if(e==null)return{};var r,n,a=EX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oO=()=>{};function jX(){var e=Ce($b),t=Ce(Ub),r=ar(),n=Ce(qP),a=Ce(Ti),i=db(),s=ub(),o=Ce(c=>c.rootProps.className);b.useEffect(()=>{if(e==null)return oO;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var p=d.payload.coordinate,{x:g,y:m}=p,x=SX(p,bX),v=Ss(Ss(Ss({},x),typeof g=="number"&&{x:Math.max(s.x,Math.min(g,s.x+s.width))}),typeof m=="number"&&{y:Math.max(s.y,Math.min(m,s.y+s.height))}),y=Ss(Ss({},d),{},{payload:Ss(Ss({},d.payload),{},{coordinate:v})});r(y)}else r(d);return}if(a!=null){var w;if(typeof n=="function"){var k={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(a,k);w=a[S]}else n==="value"&&(w=a.find(_=>String(_.value)===d.payload.label));var{coordinate:E}=d.payload;if(w==null||d.payload.active===!1||E==null||s==null){r(Gv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:C}=E,T=Math.min(j,s.x+s.width),M=Math.min(C,s.y+s.height),D={x:i==="horizontal"?w.coordinate:T,y:i==="horizontal"?M:w.coordinate},A=Gv({active:d.payload.active,coordinate:D,dataKey:d.payload.dataKey,index:String(w.index),label:d.payload.label});r(A)}}};return Qu.on(qv,c),()=>{Qu.off(qv,c)}},[o,r,t,e,n,a,i,s])}function NX(){var e=Ce($b),t=Ce(Ub),r=ar();b.useEffect(()=>{if(e==null)return oO;var n=(a,i,s)=>{t!==s&&e===a&&r(vX(i))};return Qu.on(JS,n),()=>{Qu.off(JS,n)}},[r,t,e])}function TX(){var e=ar();b.useEffect(()=>{e(mX())},[e]),jX(),NX()}function AX(e,t,r,n,a,i){var s=Ce(h=>eX(h,e,t)),o=Ce(Ub),c=Ce($b),u=Ce(qP),d=Ce(gX),f=d==null?void 0:d.active;b.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=Gv({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});Qu.emit(qv,c,h,o)}},[f,r,s,a,n,o,c,u,i])}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return(t=PX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e){return e.dataKey}function MX(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(lV,t)}var rE=[],IX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ql.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function FX(e){var t=Kn(e,IX),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:g,cursor:m,shared:x,trigger:v,defaultIndex:y,portal:w,axisId:k}=t,S=ar(),E=typeof y=="number"?String(y):y;b.useEffect(()=>{S(nY({shared:x,trigger:v,axisId:k,active:r,defaultIndex:E}))},[S,x,v,k,r,E]);var j=ub(),C=VC(),T=QG(x),{activeIndex:M,isActive:D}=Ce(L=>nX(L,T,v,E)),A=Ce(L=>rX(L,T,v,E)),_=Ce(L=>tO(L,T,v,E)),N=Ce(L=>tX(L,T,v,E)),O=A,K=uX(),I=r??D,[Y,G]=v$([O,I]),q=T==="axis"?_:void 0;AX(T,v,N,q,M,I);var ce=w??K;if(ce==null)return null;var F=O??rE;I||(F=rE),o&&F.length&&(F=FB(O.filter(L=>L.value!=null&&(L.hide!==!0||t.includeHidden)),d,DX));var z=F.length>0,H=b.createElement(mV,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:I,coordinate:N,hasPayload:z,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:j,wrapperStyle:g,lastBoundingBox:Y,innerRef:G,hasPortalFromProps:!!w},MX(s,tE(tE({},t),{},{payload:F,label:q,active:I,coordinate:N,accessibilityLayer:C})));return b.createElement(b.Fragment,null,vp.createPortal(H,ce),I&&b.createElement(cX,{cursor:m,tooltipEventType:T,coordinate:N,payload:O,index:M}))}var lO={},cO={},uO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),m()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},m=()=>{g(),s=void 0,o=null},x=()=>{d()},v=function(...y){if(a!=null&&a.aborted)return;s=this,o=y;const w=h==null;p(),c&&w&&d()};return v.schedule=p,v.cancel=m,v.flush=x,a==null||a.addEventListener("abort",m,{once:!0}),v}e.debounce=t})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uO;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...m){d=n.apply(this,m),f=null},a,{edges:u}),p=function(...m){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,m),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,m),d)},g=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cO;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(lO);var LX=lO.throttle;const RX=Fa(LX);var Tg=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(n){zX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yw=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:g={}}=e,m=b.useRef(null),x=b.useRef();x.current=p,b.useImperativeHandle(t,()=>m.current);var[v,y]=b.useState({containerWidth:n.width,containerHeight:n.height}),w=b.useCallback((S,E)=>{y(j=>{var C=Math.round(S),T=Math.round(E);return j.containerWidth===C&&j.containerHeight===T?j:{containerWidth:C,containerHeight:T}})},[]);b.useEffect(()=>{var S=T=>{var M,{width:D,height:A}=T[0].contentRect;w(D,A),(M=x.current)===null||M===void 0||M.call(x,D,A)};d>0&&(S=RX(S,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(S),{width:j,height:C}=m.current.getBoundingClientRect();return w(j,C),E.observe(m.current),()=>{E.disconnect()}},[w,d]);var k=b.useMemo(()=>{var{containerWidth:S,containerHeight:E}=v;if(S<0||E<0)return null;Tg(Vs(a)||Vs(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Tg(!r||r>0,"The aspect(%s) must be greater than zero.",r);var j=Vs(a)?S:a,C=Vs(i)?E:i;return r&&r>0&&(j?C=j/r:C&&(j=C*r),c&&C>c&&(C=c)),Tg(j>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,C,a,i,s,o,r),b.Children.map(u,T=>b.cloneElement(T,{width:j,height:C,style:Ag({width:j,height:C},T.props.style)}))},[r,u,i,c,o,s,v,a]);return b.createElement("div",{id:f?"".concat(f):void 0,className:wt("recharts-responsive-container",h),style:Ag(Ag({},g),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:m},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),Id=e=>null;Id.displayName="Cell";function UX(e,t,r){return(t=VX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class HX{constructor(t){UX(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){GX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qX={cacheSize:2e3,enableCache:!0},dO=KX({},qX),iE=new HX(dO.cacheSize),JX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sE="recharts_measurement_span";function QX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var oE=(e,t)=>{try{var r=document.getElementById(sE);r||(r=document.createElement("span"),r.setAttribute("id",sE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,JX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},lE=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ql.isSsr)return{width:0,height:0};if(!dO.enableCache)return oE(t,r);var n=QX(t,r),a=iE.get(n);if(a)return a;var i=oE(t,r);return iE.set(n,i),i},cE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tq=Object.keys(fO),rl="NaN";function rq(e,t){return e*fO[t]}class Hr{static parse(t){var r,[,n,a]=(r=eq.exec(t))!==null&&r!==void 0?r:[];return new Hr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fa(t)&&(this.unit=""),r!==""&&!ZX.test(r)&&(this.num=NaN,this.unit=""),tq.includes(r)&&(this.num=rq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hr(NaN,""):new Hr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fa(this.num)}}function hO(e){if(e.includes(rl))return rl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=cE.exec(t))!==null&&r!==void 0?r:[],s=Hr.parse(n??""),o=Hr.parse(i??""),c=a==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return rl;t=t.replace(cE,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=uE.exec(t))!==null&&u!==void 0?u:[],p=Hr.parse(d??""),g=Hr.parse(h??""),m=f==="+"?p.add(g):p.subtract(g);if(m.isNaN())return rl;t=t.replace(uE,m.toString())}return t}var dE=/\(([^()]*)\)/;function nq(e){for(var t=e,r;(r=dE.exec(t))!=null;){var[,n]=r;t=t.replace(dE,hO(n))}return t}function aq(e){var t=e.replace(/\s+/g,"");return t=nq(t),t=hO(t),t}function iq(e){try{return aq(e)}catch{return rl}}function Cg(e){var t=iq(e.slice(5,-1));return t===rl?"":t}var sq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oq=["dx","dy","angle","className","breakAll"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}function fE(e,t){if(e==null)return{};var r,n,a=lq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pO=/[ \f\n\r\t\v\u2028\u2029]+/,mO=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ht(t)||(r?a=t.toString().split(""):a=t.toString().split(pO));var i=a.map(o=>({word:o,width:lE(o,n).width})),s=r?0:lE("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},cq=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,u=Me(i),d=s,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((A,_)=>{var{word:N,width:O}=_,K=A[A.length-1];if(K&&(n==null||a||K.width+O+r<Number(n)))K.words.push(N),K.width+=O+r;else{var I={words:[N],width:O};A.push(I)}return A},[])},h=f(t),p=M=>M.reduce((D,A)=>D.width>A.width?D:A);if(!u||a)return h;var g=h.length>i||p(h).width>Number(n);if(!g)return h;for(var m="",x=M=>{var D=d.slice(0,M),A=mO({breakAll:c,style:o,children:D+m}).wordsWithComputedWidth,_=f(A),N=_.length>i||p(_).width>Number(n);return[N,_]},v=0,y=d.length-1,w=0,k;v<=y&&w<=d.length-1;){var S=Math.floor((v+y)/2),E=S-1,[j,C]=x(E),[T]=x(S);if(!j&&!T&&(v=S+1),j&&T&&(y=S-1),!j&&T){k=C;break}w++}return k||h},hE=e=>{var t=Ht(e)?[]:e.toString().split(pO);return[{words:t}]},uq=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Ql.isSsr){var o,c,u=mO({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return hE(n);return cq({breakAll:i,children:n,maxLines:s,style:a},o,c,t,r)}return hE(n)},pE="#808080",bw=b.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=pE}=e,d=fE(e,sq),f=b.useMemo(()=>uq({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:p,angle:g,className:m,breakAll:x}=d,v=fE(d,oq);if(!ui(r)||!ui(n)||f.length===0)return null;var y=r+(Me(h)?h:0),w=n+(Me(p)?p:0),k;switch(c){case"start":k=Cg("calc(".concat(i,")"));break;case"middle":k=Cg("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:k=Cg("calc(".concat(f.length-1," * -").concat(a,")"));break}var S=[];if(s){var E=f[0].width,{width:j}=d;S.push("scale(".concat(Me(j)?j/E:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(y,", ").concat(w,")")),S.length&&(v.transform=S.join(" ")),b.createElement("text",Jv({},Kt(v,!0),{ref:t,x:y,y:w,className:wt("recharts-text",m),textAnchor:o,fill:u.includes("url")?pE:u}),f.map((C,T)=>{var M=C.words.join(x?"":" ");return b.createElement("tspan",{x:y,dy:T===0?k:a,key:"".concat(M,"-").concat(T)},M)}))});bw.displayName="Text";var dq=["labelRef"];function fq(e,t){if(e==null)return{};var r,n,a=hq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}var xq=b.createContext(null),vq=()=>{var e=b.useContext(xq),t=ub();return e||t},yq=b.createContext(null),bq=()=>{var e=b.useContext(yq),t=Ce(t5);return e||t},wq=e=>{var{value:t,formatter:r}=e,n=Ht(e.children)?t:e.children;return typeof r=="function"?r(n):n},kq=e=>e!=null&&typeof e=="function",_q=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Sq=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=a,g=(u+d)/2,m=_q(f,h),x=m>=0?1:-1,v,y;switch(t){case"insideStart":v=f+x*i,y=p;break;case"insideEnd":v=h-x*i,y=!p;break;case"end":v=h+x*i,y=p;break;default:throw new Error("Unsupported position ".concat(t))}y=m<=0?y:!y;var w=Ft(o,c,g,v),k=Ft(o,c,g,v+(y?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(y?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Ht(e.id)?Vu("recharts-radial-line-"):e.id;return b.createElement("text",Ah({},n,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",s)}),b.createElement("defs",null,b.createElement("path",{id:E,d:S})),b.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Eq=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=Ft(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:p,y:g}=Ft(n,a,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},gO=e=>"cx"in e&&Me(e.cx),jq=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!gO(r)&&(i=r);var{x:s,y:o,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",p=d>0?"start":"end",g=c>=0?1:-1,m=g*n,x=g>0?"end":"start",v=g>0?"start":"end";if(a==="top"){var y={x:s+c/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h};return Dt(Dt({},y),i?{height:Math.max(o-i.y,0),width:c}:{})}if(a==="bottom"){var w={x:s+c/2,y:o+u+f,textAnchor:"middle",verticalAnchor:p};return Dt(Dt({},w),i?{height:Math.max(i.y+i.height-(o+u),0),width:c}:{})}if(a==="left"){var k={x:s-m,y:o+u/2,textAnchor:x,verticalAnchor:"middle"};return Dt(Dt({},k),i?{width:Math.max(k.x-i.x,0),height:u}:{})}if(a==="right"){var S={x:s+c+m,y:o+u/2,textAnchor:v,verticalAnchor:"middle"};return Dt(Dt({},S),i?{width:Math.max(i.x+i.width-S.x,0),height:u}:{})}var E=i?{width:c,height:u}:{};return a==="insideLeft"?Dt({x:s+m,y:o+u/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideRight"?Dt({x:s+c-m,y:o+u/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideTop"?Dt({x:s+c/2,y:o+f,textAnchor:"middle",verticalAnchor:p},E):a==="insideBottom"?Dt({x:s+c/2,y:o+u-f,textAnchor:"middle",verticalAnchor:h},E):a==="insideTopLeft"?Dt({x:s+m,y:o+f,textAnchor:v,verticalAnchor:p},E):a==="insideTopRight"?Dt({x:s+c-m,y:o+f,textAnchor:x,verticalAnchor:p},E):a==="insideBottomLeft"?Dt({x:s+m,y:o+u-f,textAnchor:v,verticalAnchor:h},E):a==="insideBottomRight"?Dt({x:s+c-m,y:o+u-f,textAnchor:x,verticalAnchor:h},E):a&&typeof a=="object"&&(Me(a.x)||Vs(a.x))&&(Me(a.y)||Vs(a.y))?Dt({x:s+xn(a.x,c),y:o+xn(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):Dt({x:s+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Nq={offset:5};function xO(e){var t=Kn(e,Nq),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=bq(),f=vq(),h=n==="center"?f:d??f,p=r||h;if(!p||Ht(a)&&Ht(i)&&!b.isValidElement(s)&&typeof s!="function")return null;var g=Dt(Dt({},t),{},{viewBox:p});if(b.isValidElement(s)){var{labelRef:m}=g,x=fq(g,dq);return b.cloneElement(s,x)}var v;if(typeof s=="function"){if(v=b.createElement(s,g),b.isValidElement(v))return v}else v=wq(t);var y=gO(p),w=Kt(t,!0);if(y&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Sq(t,n,v,w,p);var k=y?Eq(p,t.offset,t.position):jq(t,p);return b.createElement(bw,Ah({ref:u,className:wt("recharts-label",o)},w,k,{breakAll:c}),v)}xO.displayName="Label";var vO={},yO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yO);var bO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(bO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yO,r=bO,n=Up;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(vO);var Tq=vO.last;const Aq=Fa(Tq);var Cq=["valueAccessor"],Pq=["dataKey","clockWise","id","textBreakAll"];function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(null,arguments)}function gE(e,t){if(e==null)return{};var r,n,a=Oq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dq=e=>Array.isArray(e.value)?Aq(e.value):e.value,wO=b.createContext(void 0),Mq=wO.Provider,kO=b.createContext(void 0),Iq=kO.Provider;function Fq(){return b.useContext(wO)}function Lq(){return b.useContext(kO)}function h0(e){var{valueAccessor:t=Dq}=e,r=gE(e,Cq),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,o=gE(r,Pq),c=Fq(),u=Lq(),d=c||u;return!d||!d.length?null:b.createElement(ha,{className:"recharts-label-list"},d.map((f,h)=>{var p,g=Ht(n)?t(f,h):vt(f&&f.payload,n),m=Ht(i)?{}:{id:"".concat(i,"-").concat(h)};return b.createElement(xO,Ch({},Kt(f,!0),o,m,{fill:(p=r.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}h0.displayName="LabelList";function _O(e){var{label:t}=e;return t?t===!0?b.createElement(h0,{key:"labelList-implicit"}):b.isValidElement(t)||kq(t)?b.createElement(h0,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(h0,Ch({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}var SO=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=wt("recharts-dot",a);return t===+t&&r===+r&&n===+n?b.createElement("circle",Qv({},Jl(e),Vy(e),{className:i,cx:t,cy:r,r:n})):null},EO=e=>e.graphicalItems.polarItems,Rq=re([ht,Ad],Yb),ww=re([EO,Ct,Rq],Xb),zq=re([ww],qb),kw=re([zq,Fb],Jb),Bq=re([kw,Ct,ww],Zb),$q=re([kw,Ct,ww],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=vt(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:vt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),xE=()=>{},Uq=re([Ct,_5,xE,$q,xE,Xe,ht],tw),jO=re([Ct,Xe,kw,Bq,Td,ht,Uq],rw),Vq=re([jO,Ct,ac],iw);re([Ct,jO,Vq,ht],ow);var Wq={radiusAxis:{},angleAxis:{}},NO=Sn({name:"polarAxis",initialState:Wq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ime,removeRadiusAxis:Fme,addAngleAxis:Lme,removeAngleAxis:Rme}=NO.actions,Hq=NO.reducer;function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){Kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kq(e,t,r){return(t=Gq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xq=(e,t)=>t,_w=re([EO,Xq],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),qq=[],Sw=(e,t,r)=>(r==null?void 0:r.length)===0?qq:r,TO=re([Fb,_w,Sw],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>yE(yE({},t.presentationProps),i.props))),a!=null)return a}}),Jq=re([TO,_w,Sw],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=vt(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:qp(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Qq=re([TO,_w,Sw,ir],(e,t,r,n)=>{if(!(t==null||e==null))return ZJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),AO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(AO);var Zq=AO.isPlainObject;const eJ=Fa(Zq);function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){tJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t,r){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}var kE=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},aJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iJ=e=>{var t=Kn(e,aJ),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=b.useRef(),[p,g]=b.useState(-1),m=b.useRef(a),x=b.useRef(i),v=b.useRef(s),y=b.useRef(r),w=b.useRef(n),k=rm(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var N=h.current.getTotalLength();N&&g(N)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var S=wt("recharts-trapezoid",o);if(!f)return b.createElement("g",null,b.createElement("path",Ph({},Kt(t,!0),{className:S,d:kE(r,n,a,i,s)})));var E=m.current,j=x.current,C=v.current,T=y.current,M=w.current,D="0px ".concat(p===-1?1:p,"px"),A="".concat(p,"px 0px"),_=WC(["strokeDasharray"],u,c);return b.createElement(tm,{animationId:k,key:k,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},N=>{var O=jr(E,a,N),K=jr(j,i,N),I=jr(C,s,N),Y=jr(T,r,N),G=jr(M,n,N);h.current&&(m.current=O,x.current=K,v.current=I,y.current=Y,w.current=G);var q=N>0?{transition:_,strokeDasharray:A}:{strokeDasharray:D};return b.createElement("path",Ph({},Kt(t,!0),{className:S,d:kE(Y,G,O,K,I),ref:h,style:wE(wE({},q),t.style)}))})},sJ=["option","shapeType","propTransformer","activeClassName","isActive"];function oJ(e,t){if(e==null)return{};var r,n,a=lJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fJ(e,t){return Oh(Oh({},t),e)}function hJ(e,t){return e==="symbols"}function SE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(YC,r);case"trapezoid":return b.createElement(iJ,r);case"sector":return b.createElement(JC,r);case"symbols":if(hJ(t))return b.createElement(L3,r);break;default:return null}}function pJ(e){return b.isValidElement(e)?e.props:e}function mJ(e){var{option:t,shapeType:r,propTransformer:n=fJ,activeClassName:a="recharts-active-shape",isActive:i}=e,s=oJ(e,sJ),o;if(b.isValidElement(t))o=b.cloneElement(t,Oh(Oh({},s),pJ(t)));else if(typeof t=="function")o=t(s);else if(eJ(t)&&typeof t!="boolean"){var c=n(t,s);o=b.createElement(SE,{shapeType:r,elementProps:c})}else{var u=s;o=b.createElement(SE,{shapeType:r,elementProps:u})}return i?b.createElement(ha,{className:a},o):o}var gJ=(e,t)=>{var r=ar();return(n,a)=>i=>{e==null||e(n,a,i),r(R5({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},xJ=e=>{var t=ar();return(r,n)=>a=>{e==null||e(r,n,a),t(aY())}},vJ=(e,t)=>{var r=ar();return(n,a)=>i=>{e==null||e(n,a,i),r(iY({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function CO(e){var{fn:t,args:r}=e,n=ar(),a=Si();return b.useEffect(()=>{if(!a){var i=t(r);return n(tY(i)),()=>{n(rY(i))}}},[t,r,n,a]),null}var PO=()=>{};function yJ(e){var{legendPayload:t}=e,r=ar(),n=Si();return b.useEffect(()=>n?PO:(r($C(t)),()=>{r(UC(t))}),[r,n,t]),null}function bJ(e){var{legendPayload:t}=e,r=ar(),n=Ce(Xe);return b.useEffect(()=>n!=="centric"&&n!=="radial"?PO:(r($C(t)),()=>{r(UC(t))}),[r,n,t]),null}var Pg,wJ=()=>{var[e]=b.useState(()=>Vu("uid-"));return e},kJ=(Pg=PT.useId)!==null&&Pg!==void 0?Pg:wJ;function _J(e,t){var r=kJ();return t||(e?"".concat(e,"-").concat(r):r)}var SJ=b.createContext(void 0),OO=e=>{var{id:t,type:r,children:n}=e,a=_J("recharts-".concat(r),t);return b.createElement(SJ.Provider,{value:a},n(a))},EJ={cartesianItems:[],polarItems:[]},DO=Sn({name:"graphicalItems",initialState:EJ,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=ti(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=ti(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ti(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:jJ,replaceCartesianGraphicalItem:NJ,removeCartesianGraphicalItem:TJ,addPolarGraphicalItem:AJ,removePolarGraphicalItem:CJ}=DO.actions,PJ=DO.reducer;function OJ(e){var t=ar(),r=b.useRef(null);return b.useEffect(()=>{r.current===null?t(jJ(e)):r.current!==e&&t(NJ({prev:r.current,next:e})),r.current=e},[t,e]),b.useEffect(()=>()=>{r.current&&(t(TJ(r.current)),r.current=null)},[t]),null}function DJ(e){var t=ar();return b.useEffect(()=>(t(AJ(e)),()=>{t(CJ(e))}),[t,e]),null}var MJ=["onMouseEnter","onClick","onMouseLeave"],IJ=["id"],FJ=["id"];function Ew(e,t){if(e==null)return{};var r,n,a=LJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){RJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RJ(e,t,r){return(t=zJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(null,arguments)}function $J(e){var t=b.useMemo(()=>x3(e.children,Id),[e.children]),r=Ce(n=>Jq(n,e.id,t));return r==null?null:b.createElement(bJ,{legendPayload:r})}function UJ(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:qp(o,t),hide:c,type:u,color:s,unit:""}}}var VJ=(e,t)=>e>t?"start":e<t?"end":"middle",WJ=(e,t,r)=>xn(typeof t=="function"?t(e):t,r,r*.8),HJ=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=IC(i,s),c=a+xn(e.cx,i,i/2),u=n+xn(e.cy,s,s/2),d=xn(e.innerRadius,o,0),f=WJ(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},KJ=(e,t)=>{var r=Yr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function GJ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var YJ=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var r=wt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(fb,ss({},t,{type:"linear",className:r}))},XJ=(e,t,r)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),b.isValidElement(n)))return n;var a=wt("recharts-pie-label-text",GJ(e));return b.createElement(bw,ss({},t,{alignmentBaseline:"middle",className:a}),n)};function qJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var o=Jl(r),c=Kt(a,!1),u=Kt(i,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,p)=>{var g=(h.startAngle+h.endAngle)/2,m=Ft(h.cx,h.cy,h.outerRadius+d,g),x=ct(ct(ct(ct({},o),h),{},{stroke:"none"},c),{},{index:p,textAnchor:VJ(m.x,h.cx)},m),v=ct(ct(ct(ct({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[Ft(h.cx,h.cy,h.outerRadius,g),m],key:"line"});return b.createElement(ha,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},i&&YJ(i,v),XJ(a,x,vt(h,s)))});return b.createElement(ha,{className:"recharts-pie-labels"},f)}function JJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?b.createElement(_O,{label:a}):b.createElement(qJ,{sectors:t,props:r,showLabels:n})}function QJ(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Ce(Ul),{onMouseEnter:s,onClick:o,onMouseLeave:c}=a,u=Ew(a,MJ),d=gJ(s,a.dataKey),f=xJ(c),h=vJ(o,a.dataKey);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((p,g)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var m=r&&String(g)===i,x=i?n:null,v=m?r:x,y=ct(ct({},p),{},{stroke:p.stroke,tabIndex:-1,[RC]:g,[zC]:a.dataKey});return b.createElement(ha,ss({tabIndex:-1,className:"recharts-pie-sector"},I9(u,p,g),{onMouseEnter:d(p,g),onMouseLeave:f(p,g),onClick:h(p,g),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),b.createElement(mJ,ss({option:v,isActive:m,shapeType:"sector"},y)))}))}function ZJ(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=KJ(o,c),g=Math.abs(p),m=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(E=>vt(E,u,0)!==0).length,v=(g>=360?x:x-1)*m,y=g-x*h-v,w=n.reduce((E,j)=>{var C=vt(j,u,0);return E+(Me(C)?C:0)},0),k;if(w>0){var S;k=n.map((E,j)=>{var C=vt(E,u,0),T=vt(E,d,j),M=HJ(r,i,E),D=(Me(C)?C:0)/w,A,_=ct(ct({},E),a&&a[j]&&a[j].props);j?A=S.endAngle+Yr(p)*m*(C!==0?1:0):A=o;var N=A+Yr(p)*((C!==0?h:0)+D*y),O=(A+N)/2,K=(M.innerRadius+M.outerRadius)/2,I=[{name:T,value:C,payload:_,dataKey:u,type:f}],Y=Ft(M.cx,M.cy,K,O);return S=ct(ct(ct(ct({},r.presentationProps),{},{percent:D,cornerRadius:s,name:T,tooltipPayload:I,midAngle:O,middleRadius:K,tooltipPosition:Y},_),M),{},{value:C,startAngle:A,endAngle:N,payload:_,paddingAngle:Yr(p)*m}),S})}return k}function eQ(e){var{showLabels:t,sectors:r,children:n}=e,a=b.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return b.createElement(Iq,{value:t?a:void 0},n)}function tQ(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=rm(t,"recharts-pie-"),p=r.current,[g,m]=b.useState(!1),x=b.useCallback(()=>{typeof f=="function"&&f(),m(!1)},[f]),v=b.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return b.createElement(eQ,{showLabels:!g,sectors:n},b.createElement(tm,{animationId:h,begin:i,duration:s,isActive:a,easing:o,onAnimationStart:v,onAnimationEnd:x,key:h},y=>{var w=[],k=n&&n[0],S=k==null?void 0:k.startAngle;return n==null||n.forEach((E,j)=>{var C=p&&p[j],T=j>0?Uu(E,"paddingAngle",0):0;if(C){var M=jr(C.endAngle-C.startAngle,E.endAngle-E.startAngle,y),D=ct(ct({},E),{},{startAngle:S+T,endAngle:S+M+T});w.push(D),S=D.endAngle}else{var{endAngle:A,startAngle:_}=E,N=jr(0,A-_,y),O=ct(ct({},E),{},{startAngle:S+T,endAngle:S+N+T});w.push(O),S=O.endAngle}}),r.current=w,b.createElement(ha,null,b.createElement(QJ,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),b.createElement(JJ,{showLabels:!g,sectors:n,props:t}),t.children)}var rQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ql.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function nQ(e){var{id:t}=e,r=Ew(e,IJ),{hide:n,className:a,rootTabIndex:i}=e,s=b.useMemo(()=>x3(e.children,Id),[e.children]),o=Ce(d=>Qq(d,t,s)),c=b.useRef(null),u=wt("recharts-pie",a);return n||o==null?(c.current=null,b.createElement(ha,{tabIndex:i,className:u})):b.createElement(b.Fragment,null,b.createElement(CO,{fn:UJ,args:ct(ct({},e),{},{sectors:o})}),b.createElement(ha,{tabIndex:i,className:u},b.createElement(tQ,{props:ct(ct({},r),{},{sectors:o}),previousSectorsRef:c})))}function jw(e){var t=Kn(e,rQ),{id:r}=t,n=Ew(t,FJ),a=Jl(n);return b.createElement(OO,{id:r,type:"pie"},i=>b.createElement(b.Fragment,null,b.createElement(DJ,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),b.createElement($J,ss({},n,{id:i})),b.createElement(nQ,ss({},n,{id:i}))))}jw.displayName="Pie";function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oQ={xAxis:{},yAxis:{},zAxis:{}},MO=Sn({name:"cartesianAxis",initialState:oQ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=NE(NE({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:zme,removeXAxis:Bme,addYAxis:$me,removeYAxis:Ume,addZAxis:Vme,removeZAxis:Wme,updateYAxisWidth:Hme}=MO.actions,lQ=MO.reducer,cQ=re([ir],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),uQ=re([cQ,ki,_i],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Nw=()=>Ce(uQ),dQ=()=>Ce(KY);function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){fQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fQ(e,t,r){return(t=hQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=pQ(e,"string");return typeof t=="symbol"?t:t+""}function pQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mQ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=AE(AE({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Kt(a,!1)),Vy(a)),o;return b.isValidElement(a)?o=b.cloneElement(a,s):typeof a=="function"?o=a(s):o=b.createElement(SO,s),b.createElement(ha,{className:"recharts-active-dot"},o)};function gQ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Ce(Ul),s=dQ();if(t==null||s==null)return null;var o=t.find(c=>s.includes(c.payload));return Ht(o)?null:mQ({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var xQ={},IO=Sn({name:"errorBars",initialState:xQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Kme,replaceErrorBar:Gme,removeErrorBar:Yme}=IO.actions,vQ=IO.reducer,yQ=["children"];function bQ(e,t){if(e==null)return{};var r,n,a=wQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_Q=b.createContext(kQ);function SQ(e){var{children:t}=e,r=bQ(e,yQ);return b.createElement(_Q.Provider,{value:r},t)}function FO(e,t){var r,n,a=Ce(u=>ji(u,e)),i=Ce(u=>Ni(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:i5.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:s5.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function EQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Nw(),{needClipX:i,needClipY:s,needClip:o}=FO(t,r);if(!o)return null;var{x:c,y:u,width:d,height:f}=a;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}var LO=e=>{var{chartData:t}=e,r=ar(),n=Si();return b.useEffect(()=>n?()=>{}:(r(QS(t)),()=>{r(QS(void 0))}),[t,r,n]),null},CE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RO=Sn({name:"brush",initialState:CE,reducers:{setBrushSettings(e,t){return t.payload==null?CE:t.payload}}}),{setBrushSettings:Xme}=RO.actions,jQ=RO.reducer,NQ={dots:[],areas:[],lines:[]},zO=Sn({name:"referenceElements",initialState:NQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ti(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ti(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ti(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:qme,removeDot:Jme,addArea:Qme,removeArea:Zme,addLine:ege,removeLine:tge}=zO.actions,TQ=zO.reducer,AQ=b.createContext(void 0),CQ=e=>{var{children:t}=e,[r]=b.useState("".concat(Vu("recharts"),"-clip")),n=Nw();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return b.createElement(AQ.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:a,y:i,height:o,width:s}))),t)},BO=(e,t,r,n)=>O5(e,"xAxis",t,n),$O=(e,t,r,n)=>P5(e,"xAxis",t,n),UO=(e,t,r,n)=>O5(e,"yAxis",r,n),VO=(e,t,r,n)=>P5(e,"yAxis",r,n),PQ=re([Xe,BO,UO,$O,VO],(e,t,r,n,a)=>gs(e,"xAxis")?Cv(t,n,!1):Cv(r,a,!1)),OQ=(e,t,r,n,a)=>a;function DQ(e){return e.type==="line"}var MQ=re([l5,OQ],(e,t)=>e.filter(DQ).find(r=>r.id===t)),IQ=re([Xe,BO,UO,$O,VO,MQ,PQ,Lb],(e,t,r,n,a,i,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(u,d+1),p!=null)return nZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:p})}}),FQ=["id"],LQ=["type","layout","connectNulls","needClip"],RQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(n){zQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tw(e,t){if(e==null)return{};var r,n,a=UQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}var VQ=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:qp(r,t),payload:e}]};function WQ(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:qp(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var WO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function HQ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var KQ=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return WO(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,s]:[s];return[...HQ(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function GQ(e,t){var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=wt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=b.createElement(SO,ho({},t,{className:n}))}return r}function YQ(e,t){return e==null?!1:t?!0:e.length===1}function XQ(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!YQ(r,a))return null;var{id:o}=n,c=Tw(n,FQ),u=v3(a),d=Jl(c),f=Kt(a,!0),h=r.map((g,m)=>{var x=dn(dn(dn({key:"dot-".concat(m),r:3},d),f),{},{index:m,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return GQ(a,x)}),p={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return b.createElement(ha,ho({className:"recharts-line-dots",key:"dots"},p),h)}function qQ(e){var{showLabels:t,children:r,points:n}=e,a=b.useMemo(()=>n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return dn(dn({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return b.createElement(Mq,{value:t?a:null},r)}function OE(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:c,needClip:u}=i,d=Tw(i,LQ),f=dn(dn({},Kt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return b.createElement(b.Fragment,null,(n==null?void 0:n.length)>1&&b.createElement(fb,ho({},f,{pathRef:r})),b.createElement(XQ,{points:n,clipPathId:t,props:i}))}function JQ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function QQ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:g,onAnimationEnd:m,onAnimationStart:x}=r,v=a.current,y=rm(r,"recharts-line-"),[w,k]=b.useState(!1),S=!w,E=b.useCallback(()=>{typeof m=="function"&&m(),k(!1)},[m]),j=b.useCallback(()=>{typeof x=="function"&&x(),k(!0)},[x]),C=JQ(n.current),T=i.current;return b.createElement(qQ,{points:s,showLabels:S},r.children,b.createElement(tm,{animationId:y,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:E,onAnimationStart:j,key:y},M=>{var D=jr(T,C+T,M),A=Math.min(D,C),_;if(c)if(o){var N="".concat(o).split(/[,\s]+/gim).map(I=>parseFloat(I));_=KQ(A,C,N)}else _=WO(C,A);else _=o==null?void 0:String(o);if(v){var O=v.length/s.length,K=M===1?s:s.map((I,Y)=>{var G=Math.floor(Y*O);if(v[G]){var q=v[G];return dn(dn({},I),{},{x:jr(q.x,I.x,M),y:jr(q.y,I.y,M)})}return h?dn(dn({},I),{},{x:jr(p*2,I.x,M),y:jr(g/2,I.y,M)}):dn(dn({},I),{},{x:I.x,y:I.y})});return a.current=K,b.createElement(OE,{props:r,points:K,clipPathId:t,pathRef:n,strokeDasharray:_})}return M>0&&C>0&&(a.current=s,i.current=A),b.createElement(OE,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:_})}),b.createElement(_O,{label:r.label}))}function ZQ(e){var{clipPathId:t,props:r}=e,n=b.useRef(null),a=b.useRef(0),i=b.useRef(null);return b.createElement(QQ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var eZ=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:vt(e.payload,t)});class tZ extends b.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:c,left:u,width:d,height:f,id:h,needClip:p}=this.props;if(r)return null;var g=wt("recharts-line",i),m=h,{r:x=3,strokeWidth:v=2}=(t=Kt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},y=v3(n),w=x*2+v;return b.createElement(b.Fragment,null,b.createElement(ha,{className:g},p&&b.createElement("defs",null,b.createElement(EQ,{clipPathId:m,xAxisId:s,yAxisId:o}),!y&&b.createElement("clipPath",{id:"clipPath-dots-".concat(m)},b.createElement("rect",{x:u-w/2,y:c-w/2,width:d+w,height:f+w}))),b.createElement(SQ,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:eZ,errorBarOffset:0},b.createElement(ZQ,{props:this.props,clipPathId:m}))),b.createElement(gQ,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var HO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ql.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function rZ(e){var t=Kn(e,HO),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:g,id:m}=t,x=Tw(t,RQ),{needClip:v}=FO(p,g),y=Nw(),w=db(),k=Si(),S=Ce(M=>IQ(M,p,g,k,m));if(w!=="horizontal"&&w!=="vertical"||S==null||y==null)return null;var{height:E,width:j,x:C,y:T}=y;return b.createElement(tZ,ho({},x,{id:m,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:p,yAxisId:g,points:S,layout:w,height:E,width:j,left:C,top:T,needClip:v}))}function nZ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=vt(u,s);if(t==="horizontal"){var h=M_({axis:r,ticks:a,bandSize:o,entry:u,index:d}),p=Ht(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:u}}var g=Ht(f)?null:r.scale(f),m=M_({axis:n,ticks:i,bandSize:o,entry:u,index:d});return g==null||m==null?null:{x:g,y:m,value:f,payload:u}}).filter(Boolean)}function aZ(e){var t=Kn(e,HO),r=Si();return b.createElement(OO,{id:t.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(yJ,{legendPayload:VQ(t)}),b.createElement(CO,{fn:WQ,args:t}),b.createElement(OJ,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),b.createElement(rZ,ho({},t,{id:n}))))}var Zv=b.memo(aZ);Zv.displayName="Line";var iZ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=b;function sZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oZ=typeof Object.is=="function"?Object.is:sZ,lZ=Fd.useSyncExternalStore,cZ=Fd.useRef,uZ=Fd.useEffect,dZ=Fd.useMemo,fZ=Fd.useDebugValue;iZ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=cZ(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=dZ(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&s.hasValue){var g=s.value;if(a(g,p))return f=g}return f=p}if(g=f,oZ(d,p))return g;var m=n(p);return a!==void 0&&a(g,m)?(d=p,g):(d=p,f=m)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var o=lZ(e,i[0],i[1]);return uZ(function(){s.hasValue=!0,s.value=o},[o]),fZ(o),o};function hZ(e){e()}function pZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var DE={notify(){},get:()=>[]};function mZ(e,t){let r,n=DE,a=0,i=!1;function s(m){d();const x=n.subscribe(m);let v=!1;return()=>{v||(v=!0,x(),f())}}function o(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=pZ())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=DE)}function h(){i||(i=!0,d())}function p(){i&&(i=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var gZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xZ=gZ(),vZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yZ=vZ(),bZ=()=>xZ||yZ?b.useLayoutEffect:b.useEffect,wZ=bZ(),Og=Symbol.for("react-redux-context"),Dg=typeof globalThis<"u"?globalThis:{};function kZ(){if(!b.createContext)return{};const e=Dg[Og]??(Dg[Og]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var _Z=kZ();function SZ(e){const{children:t,context:r,serverState:n,store:a}=e,i=b.useMemo(()=>{const c=mZ(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=b.useMemo(()=>a.getState(),[a]);wZ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||_Z;return b.createElement(o.Provider,{value:i},t)}var EZ=SZ,jZ=(e,t)=>t,Aw=re([jZ,Xe,t5,Yt,G5,Ti,ZY,ir],aX),Cw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},KO=Un("mouseClick"),GO=kd();GO.startListening({actionCreator:KO,effect:(e,t)=>{var r=e.payload,n=Aw(t.getState(),Cw(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(sY({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var e1=Un("mouseMove"),YO=kd();YO.startListening({actionCreator:e1,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=uw(n,n.tooltip.settings.shared),i=Aw(n,Cw(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(B5({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(z5()))}});var ME={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},XO=Sn({name:"rootProps",initialState:ME,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ME.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),NZ=XO.reducer,{updateOptions:TZ}=XO.actions,qO=Sn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:AZ}=qO.actions,CZ=qO.reducer,JO=Un("keyDown"),QO=Un("focus"),Pw=kd();Pw.startListening({actionCreator:JO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(dw(a,sc(r))),o=Ti(r);if(i==="Enter"){var c=Th(r,"axis","hover",String(a.index));t.dispatch(Yv({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=JG(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*d;if(!(o==null||h>=o.length||h<0)){var p=Th(r,"axis","hover",String(h));t.dispatch(Yv({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Pw.startListening({actionCreator:QO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Th(r,"axis","hover",String(i));t.dispatch(Yv({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var An=Un("externalEvent"),ZO=kd();ZO.startListening({actionCreator:An,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:VY(r),activeDataKey:$Y(r),activeIndex:Ul(r),activeLabel:q5(r),activeTooltipIndex:Ul(r),isTooltipActive:WY(r)};e.payload.handler(n,e.payload.reactEvent)}}});var PZ=re([ic],e=>e.tooltipItemPayloads),OZ=re([PZ,Dd,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),eD=Un("touchMove"),tD=kd();tD.startListening({actionCreator:eD,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=uw(n,n.tooltip.settings.shared);if(a==="axis"){var i=Aw(n,Cw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(B5({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(RC),d=(s=c.getAttribute(zC))!==null&&s!==void 0?s:void 0,f=OZ(t.getState(),u,d);t.dispatch(R5({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var DZ=fC({brush:jQ,cartesianAxis:lQ,chartData:yX,errorBars:vQ,graphicalItems:PJ,layout:mU,legend:nV,options:pX,polarAxis:Hq,polarOptions:CZ,referenceElements:TQ,rootProps:NZ,tooltip:oY}),MZ=function(t){return B$({reducer:DZ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([GO.middleware,YO.middleware,Pw.middleware,ZO.middleware,tD.middleware]),devTools:Ql.devToolsEnabled})};function rD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Si(),i=b.useRef(null);if(a)return r;i.current==null&&(i.current=MZ(t));var s=rb;return b.createElement(EZ,{context:s,store:i.current},r)}function nD(e){var{layout:t,width:r,height:n,margin:a}=e,i=ar(),s=Si();return b.useEffect(()=>{s||(i(fU(t)),i(hU({width:r,height:n})),i(dU(a)))},[i,s,t,r,n,a]),null}function aD(e){var t=ar();return b.useEffect(()=>{t(TZ(e))},[t,e]),null}var IZ=["children"];function FZ(e,t){if(e==null)return{};var r,n,a=LZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(null,arguments)}var RZ={width:"100%",height:"100%"},zZ=b.forwardRef((e,t)=>{var r=eV(),n=tV(),a=VC();if(!Ll(r)||!Ll(n))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0,b.createElement(y3,Dh({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:RZ,ref:t}),i)}),BZ=e=>{var{children:t}=e,r=Ce(em);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return b.createElement(y3,{width:n,height:a,x:s,y:i},t)},IE=b.forwardRef((e,t)=>{var{children:r}=e,n=FZ(e,IZ),a=Si();return a?b.createElement(BZ,null,r):b.createElement(zZ,Dh({ref:t},n),r)});function $Z(){var e=ar(),[t,r]=b.useState(null),n=Ce($U);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;pa(i)&&i!==n&&e(pU(i))}},[t,e,n]),r}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){VZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VZ(e,t,r){return(t=WZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=b.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:x,width:v}=e,y=ar(),[w,k]=b.useState(null),[S,E]=b.useState(null);TX();var j=$Z(),C=b.useCallback(F=>{j(F),typeof t=="function"&&t(F),k(F),E(F)},[j,t,k,E]),T=b.useCallback(F=>{y(KO(F)),y(An({handler:i,reactEvent:F}))},[y,i]),M=b.useCallback(F=>{y(e1(F)),y(An({handler:u,reactEvent:F}))},[y,u]),D=b.useCallback(F=>{y(z5()),y(An({handler:d,reactEvent:F}))},[y,d]),A=b.useCallback(F=>{y(e1(F)),y(An({handler:f,reactEvent:F}))},[y,f]),_=b.useCallback(()=>{y(QO())},[y]),N=b.useCallback(F=>{y(JO(F.key))},[y]),O=b.useCallback(F=>{y(An({handler:s,reactEvent:F}))},[y,s]),K=b.useCallback(F=>{y(An({handler:o,reactEvent:F}))},[y,o]),I=b.useCallback(F=>{y(An({handler:c,reactEvent:F}))},[y,c]),Y=b.useCallback(F=>{y(An({handler:h,reactEvent:F}))},[y,h]),G=b.useCallback(F=>{y(An({handler:m,reactEvent:F}))},[y,m]),q=b.useCallback(F=>{y(eD(F)),y(An({handler:g,reactEvent:F}))},[y,g]),ce=b.useCallback(F=>{y(An({handler:p,reactEvent:F}))},[y,p]);return b.createElement(rO.Provider,{value:w},b.createElement(W9.Provider,{value:S},b.createElement("div",{className:wt("recharts-wrapper",n),style:UZ({position:"relative",cursor:"default",width:v,height:a},x),onClick:T,onContextMenu:O,onDoubleClick:K,onFocus:_,onKeyDown:N,onMouseDown:I,onMouseEnter:M,onMouseLeave:D,onMouseMove:A,onMouseUp:Y,onTouchEnd:ce,onTouchMove:q,onTouchStart:G,ref:C},r)))}),GZ=["children","className","width","height","style","compact","title","desc"];function YZ(e,t){if(e==null)return{};var r,n,a=XZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iD=b.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:o,title:c,desc:u}=e,d=YZ(e,GZ),f=Jl(d);return o?b.createElement(IE,{otherAttributes:f,title:c,desc:u},r):b.createElement(KZ,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(IE,{otherAttributes:f,title:c,desc:u,ref:t},b.createElement(CQ,null,r)))}),qZ=["width","height"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t1.apply(null,arguments)}function JZ(e,t){if(e==null)return{};var r,n,a=QZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZZ={top:5,right:5,bottom:5,left:5},eee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ZZ,reverseStackOrder:!1,syncMethod:"index"},tee=b.forwardRef(function(t,r){var n,a=Kn(t.categoricalChartProps,eee),{width:i,height:s}=a,o=JZ(a,qZ);if(!Ll(i)||!Ll(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(rD,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},b.createElement(LO,{chartData:h.data}),b.createElement(nD,{width:i,height:s,layout:a.layout,margin:a.margin}),b.createElement(aD,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),b.createElement(iD,t1({},o,{width:i,height:s,ref:r})))}),ree=["axis"],nee=b.forwardRef((e,t)=>b.createElement(tee,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ree,tooltipPayloadSearcher:aO,categoricalChartProps:e,ref:t}));function aee(e){var t=ar();return b.useEffect(()=>{t(AZ(e))},[t,e]),null}var iee=["width","height","layout"];function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1.apply(null,arguments)}function see(e,t){if(e==null)return{};var r,n,a=oee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lee={top:5,right:5,bottom:5,left:5},cee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},uee=b.forwardRef(function(t,r){var n,a=Kn(t.categoricalChartProps,cee),{width:i,height:s,layout:o}=a,c=see(a,iee);if(!Ll(i)||!Ll(s))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return b.createElement(rD,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},b.createElement(LO,{chartData:a.data}),b.createElement(nD,{width:i,height:s,layout:o,margin:a.margin}),b.createElement(aD,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),b.createElement(aee,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(iD,r1({width:i,height:s},c,{ref:r})))}),dee=["item"],fee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},sD=b.forwardRef((e,t)=>{var r=Kn(e,fee);return b.createElement(uee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:dee,tooltipPayloadSearcher:aO,categoricalChartProps:r,ref:t})});function hee(e){return/^https?:\/\//i.test(e)}const LE="".replace(/\/$/,"");function vl(e){if(hee(e))return e;const t=e.startsWith("/")?e:`/${e}`;return LE?`${LE}${t}`:t}function vm(){try{return localStorage.getItem("token")||localStorage.getItem("access_token")||""}catch{return""}}function pee(e){try{localStorage.getItem("token")!=null?localStorage.setItem("token",e):localStorage.setItem("access_token",e)}catch{}}function oD(){try{localStorage.removeItem("token"),localStorage.removeItem("access_token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),sessionStorage.removeItem("token"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("user_id")}catch{}}function mee(e){try{const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=t+"===".slice((t.length+3)%4);return atob(r)}catch{return""}}function gee(e){try{const t=e.split(".");if(t.length<2)return null;const r=mee(t[1]);return JSON.parse(r)}catch{return null}}function lD(){const e=vm();if(e){const t=gee(e)||{},r=t.name||t.full_name||t.display_name||t.user&&(t.user.name||t.user.full_name||t.user.display_name)||t.preferred_username||t.username||t.email;if(r&&String(r).trim())return String(r).trim()}try{const t=localStorage.getItem("user_name")||localStorage.getItem("username")||localStorage.getItem("display_name")||localStorage.getItem("email");if(t&&String(t).trim())return String(t).trim();const r=["user","auth_user","profile","auth"];for(const n of r){const a=localStorage.getItem(n);if(a)try{const i=JSON.parse(a),s=(i==null?void 0:i.name)||(i==null?void 0:i.full_name)||(i==null?void 0:i.display_name)||(i==null?void 0:i.username)||(i==null?void 0:i.email);if(s&&String(s).trim())return String(s).trim()}catch{}}}catch{}return"anonymous"}function xee(e,t){try{if(!e||!e.method||e.method.toUpperCase()==="GET")return e;if((new Headers(e.headers||{}).get("Content-Type")||"").includes("application/json"))if(typeof e.body=="string"&&e.body.trim().startsWith("{")){const a=JSON.parse(e.body);"actor_name"in a||(a.actor_name=t),e.body=JSON.stringify(a)}else e.body&&typeof e.body=="object"&&!(e.body instanceof FormData)?"actor_name"in e.body||(e.body.actor_name=t):e.body||(e.body=JSON.stringify({actor_name:t}))}catch{}return e}async function RE(e){if(e.status===204||e.status===205)return null;const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch{return t}}const n1="/api/auth/refresh".trim()||null;let Lc=null,Zu=!1;async function cD(e="POST"){if(!n1||Zu)return null;try{const t=vm(),r=await fetch(vl(n1),{method:e,credentials:"include",headers:t?{Authorization:`Bearer ${t}`}:void 0});if(r.status===405&&e==="POST")return await cD("GET");if(r.status===404||r.status===405)return Zu=!0,null;if(!r.ok)return null;const n=await r.json().catch(()=>({})),a=(n==null?void 0:n.access_token)||(n==null?void 0:n.token);return a?(pee(a),a):null}catch{return null}}async function uD(){return!n1||Zu?null:Lc||(Lc=(async()=>{const e=await cD("POST");return Lc=null,e})(),Lc)}async function Ne(e,t={}){const r=new Headers(t.headers||{});!r.has("Content-Type")&&!(t.body instanceof FormData)&&r.set("Content-Type","application/json");const n=vm();n&&r.set("Authorization",`Bearer ${n}`);const a=lD();r.has("X-Actor-Name")||r.set("X-Actor-Name",a),t.headers=r,t=xee(t,a);let s=await fetch(vl(e),{...t,credentials:"include",mode:"cors",cache:"no-store"});if(s.status===401&&!Zu&&!t.__retried){const o=await uD();if(o){const c=new Headers(t.headers||{});c.set("Authorization",`Bearer ${o}`),s=await fetch(vl(e),{...t,__retried:!0,headers:c,credentials:"include",mode:"cors",cache:"no-store"})}}if(!s.ok){s.status===401&&(oD(),typeof window<"u"&&window.location.replace("/login"));const o=await RE(s),c=typeof o=="object"?JSON.stringify(o):String(o||""),u=new Error(`API ${s.status} ${s.statusText} @ ${vl(e)}${c?`  ${c}`:""}`);throw u.status=s.status,u.response=o,u}return RE(s)}async function dD(e){const t=new FormData;t.append("file",e);const r=new Headers;r.set("X-Actor-Name",lD());const n=vm();n&&r.set("Authorization",`Bearer ${n}`);let a=await fetch(vl("/api/uploads"),{method:"POST",body:t,credentials:"include",headers:r});if(a.status===401&&!Zu){const i=await uD();i&&(r.set("Authorization",`Bearer ${i}`),a=await fetch(vl("/api/uploads"),{method:"POST",body:t,credentials:"include",headers:r}))}if(!a.ok){const i=await a.text().catch(()=>"");throw a.status===401&&(oD(),typeof window<"u"&&window.location.replace("/login")),new Error(`Upload failed (${a.status}) ${i}`)}return a.json()}const vee={Completed:"#15803D","In Progress":"#4F46E5","Not Started":"#FFFFFF","N/A":"#94A3B8"};function yee(e){return String(e||"").trim().toLowerCase().replace(/\s+/g,"_")}function bee(){var p,g;const[e,t]=b.useState([]),[r,n]=b.useState(0),[a,i]=b.useState(!0),[s,o]=b.useState(!1);b.useEffect(()=>{const m=()=>o(window.innerWidth<768);return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),b.useEffect(()=>{(async()=>{try{const x=await Ne("/api/projects/"),v=(x==null?void 0:x.items)||[],y=await Promise.all(v.map(async w=>{const[k,S]=await Promise.all([Ne(`/api/projects/${w.id}/rooms`),Ne(`/api/projects/${w.id}`)]),E=(k==null?void 0:k.items)||[],j=(S==null?void 0:S.color_legend)||{},C={};Object.entries(j).forEach(([O,K])=>{typeof K=="string"?C[O.toLowerCase()]=K:K!=null&&K.color&&(C[O.toLowerCase()]=K.color)});const T={};E.forEach(O=>{const K=(O.status||"Not Started").trim();T[K]=(T[K]||0)+1});const M=Object.keys(T).find(O=>O.toLowerCase()==="completed"),D=M?T[M]:0,A=E.length>0?E.length:1,_=Math.round(D/A*100);let N="In Progress";return D===0&&!T["In Progress"]&&(N="Not Started"),D===A&&(N="Completed"),{...w,totals:T,totalRooms:A,progress:_,status:N,legend:C}}));t(y)}catch(x){console.error("Error loading projects:",x)}finally{i(!1)}})()},[]);const c=e[r]||{},u=()=>n(m=>e.length?(m+1)%e.length:0),d=()=>n(m=>e.length?(m-1+e.length)%e.length:0),f=b.useMemo(()=>{const m=c.totals||{},x=c.legend||{};return Object.entries(m).map(([v,y])=>{var S;const w=yee(v),k=((S=x[w])==null?void 0:S.color)||x[w]||vee[v]||"#999999";return{name:v,value:y,color:k,stroke:v==="Not Started"?"#D1D5DB":"none"}})},[c.totals,c.legend]),h=m=>{const x="px-3 py-1 rounded-full text-xs font-medium";switch(m){case"Completed":return l.jsx("span",{className:`${x} bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300`,children:"Completed"});case"In Progress":return l.jsx("span",{className:`${x} bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300`,children:"In Progress"});default:return l.jsx("span",{className:`${x} bg-white text-zinc-700 dark:bg-zinc-200 dark:text-zinc-900`,children:m})}};return l.jsx("div",{className:"flex flex-col gap-10",children:l.jsxs("div",{className:`rounded-2xl border border-zinc-100 dark:border-zinc-800 
                   bg-white dark:bg-[#1d1f24]
                   shadow-md hover:shadow-lg hover:bg-zinc-50 dark:hover:bg-[#22232a]
                   p-6 relative overflow-hidden 
                   min-h-[380px] flex flex-col justify-between transition-all duration-300`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-black dark:text-white text-center w-full",children:"Active Project"}),l.jsxs("div",{className:"absolute right-6 top-6 flex items-center gap-2",children:[l.jsx("button",{onClick:d,className:"p-2 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",children:l.jsx(_p,{size:20})}),l.jsx("button",{onClick:u,className:"p-2 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",children:l.jsx(vd,{size:20})})]})]}),a?l.jsx("div",{className:"text-center text-zinc-400 py-16",children:"Loading projects..."}):e.length===0?l.jsx("div",{className:"text-center text-zinc-400 py-16",children:"No projects found."}):l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[l.jsxs("div",{className:`flex flex-col items-center justify-center w-full md:w-1/2 ${s?"h-48":"h-64"}`,children:[l.jsx("div",{className:"flex justify-center items-center w-full h-full",children:l.jsx(yw,{children:l.jsxs(sD,{children:[l.jsx(jw,{data:f,cx:"50%",cy:"50%",innerRadius:s?45:70,outerRadius:s?70:100,dataKey:"value",children:f.map((m,x)=>l.jsx(Id,{fill:m.color,stroke:m.stroke,strokeWidth:m.stroke==="none"?0:1},`cell-${x}`))}),l.jsx(FX,{contentStyle:{backgroundColor:"#1d1f24",border:"none",borderRadius:"8px",color:"#fff"},formatter:(m,x)=>[m,x]})]})})}),l.jsx("div",{className:"mt-4 w-full flex flex-wrap justify-center gap-4",children:f.map((m,x)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-600 dark:text-zinc-400",children:[l.jsx("span",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:m.color}}),m.name]},x))})]}),l.jsxs("div",{className:"w-full md:w-1/2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#0B5150] dark:text-zinc-100",children:c.name}),h(c.status)]}),l.jsxs("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mb-1",children:["Created: ",(p=c.created_at)==null?void 0:p.slice(0,10)]}),l.jsxs("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm mb-4",children:["Updated: ",(g=c.updated_at)==null?void 0:g.slice(0,10)]}),l.jsx("div",{className:"w-full h-3 rounded-full bg-gray-200 dark:bg-zinc-800 transition-colors",children:l.jsx("div",{className:"bg-[#52bdbb] h-3 rounded-full transition-all",style:{width:`${c.progress||0}%`}})}),l.jsx("p",{className:"text-right text-zinc-500 dark:text-zinc-400 text-sm mt-1",children:(()=>{const m=c.totals||{},x=Object.keys(m).find(k=>/(completed|complete|done|finished)/i.test(k)),v=x?m[x]:0,y=c.totalRooms||0,w=c.progress||0;return`${v} / ${y} rooms completed (${w}%)`})()})]})]})]})})}function wee(){const[e,t]=b.useState([]),[r,n]=b.useState(0),[a,i]=b.useState(!0),[s,o]=b.useState(!1),[c,u]=b.useState(!1),d=nr(),f="http://127.0.0.1:5000/api/inncom/current_full",h=b.useRef(null),p=y=>{if(y==null)return"#9ca3af";const w=Math.min(Math.max(y,60),84),k=[{t:60,color:[37,99,235]},{t:68,color:[14,165,233]},{t:72,color:[16,185,129]},{t:76,color:[250,204,21]},{t:80,color:[251,146,60]},{t:84,color:[239,68,68]}];for(let S=0;S<k.length-1;S++){const E=k[S],j=k[S+1];if(w>=E.t&&w<=j.t){const C=Math.round(E.color[0]+(w-E.t)/(j.t-E.t)*(j.color[0]-E.color[0])),T=Math.round(E.color[1]+(w-E.t)/(j.t-E.t)*(j.color[1]-E.color[1])),M=Math.round(E.color[2]+(w-E.t)/(j.t-E.t)*(j.color[2]-E.color[2]));return`rgb(${C}, ${T}, ${M})`}}return"#9ca3af"};b.useEffect(()=>{const y=async()=>{try{const S=await(await fetch(f)).json(),E=Object.values(S.items||{});E.sort((j,C)=>Number(j.room_number)-Number(C.room_number)),t(E)}catch(k){console.error("Error loading rooms:",k)}finally{i(!1)}};y();const w=setInterval(y,3e4);return()=>clearInterval(w)},[]);const g=Math.ceil(e.length/4),m=()=>{c||(u(!0),setTimeout(()=>u(!1),600),n(y=>(y+1)%g))},x=()=>{c||(u(!0),setTimeout(()=>u(!1),600),n(y=>(y-1+g)%g))};b.useEffect(()=>{if(!(e.length===0||s))return h.current=setInterval(()=>m(),5e3),()=>clearInterval(h.current)},[e,s]);const v=e.slice(r*4,r*4+4);return l.jsxs("div",{className:`rounded-2xl bg-white dark:bg-[#1d1f24]
                 border border-zinc-100 dark:border-zinc-800
                 shadow-md hover:shadow-lg hover:bg-zinc-50 dark:hover:bg-[#22232a]
                 p-6 flex flex-col justify-between
                 h-full min-h-[400px] relative overflow-hidden transition-all duration-300`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-center w-full text-black dark:text-white",children:"Room Temperature"}),l.jsxs("div",{className:"absolute right-6 top-6 flex items-center gap-2",children:[l.jsx("button",{onClick:x,className:"p-2 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",children:l.jsx(_p,{size:20})}),l.jsx("button",{onClick:m,className:"p-2 rounded-xl hover:bg-zinc-200 dark:hover:bg-zinc-700",children:l.jsx(vd,{size:20})})]})]}),a?l.jsx("div",{className:"text-center text-zinc-400 py-16",children:"Loading..."}):v.length===0?l.jsx("p",{className:"text-zinc-400 text-sm text-center mt-6",children:"No room data available"}):l.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 flex-1 transform transition-transform duration-700 ease-in-out ${c?"translate-x-[-10px] opacity-70":"translate-x-0 opacity-100"}`,children:v.map(y=>{const w=p(y.room_temp),k=(y.status||y.guest_name||"").toUpperCase(),S=k.includes("OCC")?"OCC":k.includes("VAC")?"VAC":"";return l.jsxs("div",{className:`rounded-xl border-[1.5px] border-zinc-200 dark:border-zinc-700 
                           bg-white dark:bg-[#18191e] p-5 flex flex-col justify-center items-center 
                           shadow-sm hover:shadow-md transition-all relative 
                           hover:bg-zinc-50 dark:hover:bg-[#202125]`,children:[S&&l.jsx("div",{className:`absolute top-1 right-2 text-[10px] font-semibold ${S==="OCC"?"text-green-600 dark:text-green-400":"text-zinc-400 dark:text-zinc-500"}`,children:S}),l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(s3,{size:14,className:"text-zinc-500 dark:text-zinc-400"}),l.jsx("span",{className:"text-sm font-semibold text-zinc-800 dark:text-zinc-100",children:y.display_name||y.room_number})]}),l.jsxs("div",{className:"text-2xl font-bold",style:{color:w},children:[y.room_temp??"","F"]}),l.jsxs("div",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:["Set: ",y.set_temp??"","F"]})]},y.room_number)})}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 gap-4",children:[l.jsx("div",{className:"flex justify-center gap-1",children:Array.from({length:g}).map((y,w)=>l.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${w===r?"bg-[#0B5150] scale-110":"bg-zinc-400 dark:bg-zinc-600 opacity-60"}`},w))}),l.jsxs("button",{onClick:()=>d("/room-status"),className:`flex items-center gap-2 px-4 py-2 rounded-xl 
                     bg-[#0B5150] text-white font-medium text-sm sm:text-base
                     hover:bg-[#094543] active:scale-[.98] transition-all duration-150 shadow-sm`,children:["Go to Room Status ",l.jsx(Dy,{size:16})]})]})]})}const kee=24*60*60*1e3;function fD(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(e));if(!t)return null;const r=+t[1],n=+t[2],a=+t[3],i=new Date(r,n-1,a);return Number.isNaN(i.getTime())?null:i}function _ee(e,t){const r=fD(e);if(!r)return null;const n=new Date(r);return n.setDate(n.getDate()+(Number.isFinite(t)?t:0)),n}function See(e){if(!e)return 30;if(typeof e=="number")return e;if(typeof e=="object")return Number.isFinite(e.termsDays)?e.termsDays:typeof e.name=="string"&&/receipt/i.test(e.name)?0:30;const t=String(e);if(/receipt/i.test(t))return 0;const r=/(\d+)\s*days/i.exec(t);return r?+r[1]:30}function zE(e){const t=e.due_date||e.delivery_date||e.deliveryDate;if(!fD(t))return null;const n=See(e.payment_terms||e.terms),a=_ee(t,n);if(!a)return null;const i=new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),c=Math.floor((s-o)/kee);return Math.max(c,0)}function Eee({invoices:e=[]}){const t=nr(),{postedCount:r,overdueCount:n,totalActive:a}=b.useMemo(()=>{const s=e.filter(u=>String(u.status||"").toLowerCase()!=="paid"),o=s.filter(u=>zE(u)>0).length;return{postedCount:s.filter(u=>zE(u)===0).length,overdueCount:o,totalActive:s.length}},[e]),i=[{name:"Posted",value:r,color:"#F59E0B"},{name:"Overdue",value:n,color:"#B91C1C"}];return l.jsxs("div",{className:`
        col-span-1 sm:col-span-2
        rounded-2xl
        bg-white dark:bg-[#1d1f24]
        ring-1 ring-zinc-100 dark:ring-zinc-800
        shadow-[0_10px_30px_rgba(2,6,23,0.06)] dark:shadow-[0_10px_30px_rgba(0,0,0,0.35)]
        hover:shadow-[0_14px_36px_rgba(2,6,23,0.10)] dark:hover:shadow-[0_14px_36px_rgba(0,0,0,0.45)]
        transition-all duration-300
        p-6 flex flex-col justify-between
        h-full min-h-[360px]
      `,children:[l.jsx("h3",{className:`text-lg sm:text-xl font-semibold text-center mb-4 
                   text-black dark:text-white`,children:"Invoices Overview"}),l.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 items-center justify-center gap-6 sm:gap-8",children:[l.jsx("div",{className:"flex justify-center items-center w-[140px] sm:w-[180px] h-[140px] sm:h-[180px] shrink-0",children:l.jsx(yw,{width:"100%",height:"100%",children:l.jsx(sD,{children:l.jsx(jw,{data:i,dataKey:"value",cx:"50%",cy:"50%",innerRadius:50,outerRadius:70,stroke:"none",children:i.map((s,o)=>l.jsx(Id,{fill:s.color},`cell-${o}`))})})})}),l.jsxs("div",{className:"flex flex-col justify-center items-center lg:items-start text-center lg:text-left w-full",children:[l.jsxs("p",{className:"text-base sm:text-lg font-semibold text-zinc-900 dark:text-white mb-2",children:[a," active invoices"]}),l.jsxs("div",{className:"text-sm text-zinc-500 dark:text-zinc-300 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2",children:[l.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-amber-500"}),l.jsxs("span",{children:["Posted: ",r]})]}),l.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-2",children:[l.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-rose-700"}),l.jsxs("span",{children:["Overdue: ",n]})]})]})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsxs("button",{onClick:()=>t("/invoices"),className:`flex items-center justify-center gap-2 px-4 py-2 rounded-xl 
                     bg-[#0B5150] text-white font-medium text-sm sm:text-base
                     hover:bg-[#094543] active:scale-[.98] transition-all duration-150 shadow-sm`,children:["Go to Invoices ",l.jsx(Dy,{size:16})]})})]})}const Ow=b.createContext({});function Dw(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Mw=typeof window<"u",hD=Mw?b.useLayoutEffect:b.useEffect,ym=b.createContext(null);function Iw(e,t){e.indexOf(t)===-1&&e.push(t)}function Fw(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const mi=(e,t,r)=>r>t?t:r<e?e:r;let Lw=()=>{};const gi={},pD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function mD(e){return typeof e=="object"&&e!==null}const gD=e=>/^0[^.\s]+$/u.test(e);function Rw(e){let t;return()=>(t===void 0&&(t=e()),t)}const zn=e=>e,jee=(e,t)=>r=>t(e(r)),Ld=(...e)=>e.reduce(jee),ed=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class zw{constructor(){this.subscriptions=[]}add(t){return Iw(this.subscriptions,t),()=>Fw(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pa=e=>e*1e3,Oa=e=>e/1e3;function xD(e,t){return t?e*(1e3/t):0}const vD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Nee=1e-7,Tee=12;function Aee(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=vD(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Nee&&++o<Tee);return s}function Rd(e,t,r,n){if(e===t&&r===n)return zn;const a=i=>Aee(i,0,1,e,r);return i=>i===0||i===1?i:vD(a(i),t,n)}const yD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,bD=e=>t=>1-e(1-t),wD=Rd(.33,1.53,.69,.99),Bw=bD(wD),kD=yD(Bw),_D=e=>(e*=2)<1?.5*Bw(e):.5*(2-Math.pow(2,-10*(e-1))),$w=e=>1-Math.sin(Math.acos(e)),SD=bD($w),ED=yD($w),Cee=Rd(.42,0,1,1),Pee=Rd(0,0,.58,1),jD=Rd(.42,0,.58,1),Oee=e=>Array.isArray(e)&&typeof e[0]!="number",ND=e=>Array.isArray(e)&&typeof e[0]=="number",Dee={linear:zn,easeIn:Cee,easeInOut:jD,easeOut:Pee,circIn:$w,circInOut:ED,circOut:SD,backIn:Bw,backInOut:kD,backOut:wD,anticipate:_D},Mee=e=>typeof e=="string",BE=e=>{if(ND(e)){Lw(e.length===4);const[t,r,n,a]=e;return Rd(t,r,n,a)}else if(Mee(e))return Dee[e];return e},Mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Iee(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){s.has(d)&&(u.schedule(d),e()),d(o)}const u={schedule:(d,f=!1,h=!1)=>{const g=h&&a?r:n;return f&&s.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(o=d,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const Fee=40;function TD(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=Mf.reduce((w,k)=>(w[k]=Iee(i),w),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:p,postRender:g}=s,m=()=>{const w=gi.useManualTiming?a.timestamp:performance.now();r=!1,gi.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,Fee),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),p.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:Mf.reduce((w,k)=>{const S=s[k];return w[k]=(E,j=!1,C=!1)=>(r||x(),S.schedule(E,j,C)),w},{}),cancel:w=>{for(let k=0;k<Mf.length;k++)s[Mf[k]].cancel(w)},state:a,steps:s}}const{schedule:ft,cancel:os,state:dr,steps:Mg}=TD(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let p0;function Lee(){p0=void 0}const qr={now:()=>(p0===void 0&&qr.set(dr.isProcessing||gi.useManualTiming?dr.timestamp:performance.now()),p0),set:e=>{p0=e,queueMicrotask(Lee)}},AD=e=>t=>typeof t=="string"&&t.startsWith(e),Uw=AD("--"),Ree=AD("var(--"),Vw=e=>Ree(e)?zee.test(e.split("/*")[0].trim()):!1,zee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},td={...oc,transform:e=>mi(0,1,e)},If={...oc,default:1},du=e=>Math.round(e*1e5)/1e5,Ww=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Bee(e){return e==null}const $ee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hw=(e,t)=>r=>!!(typeof r=="string"&&$ee.test(r)&&r.startsWith(e)||t&&!Bee(r)&&Object.prototype.hasOwnProperty.call(r,t)),CD=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(Ww);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Uee=e=>mi(0,255,e),Ig={...oc,transform:e=>Math.round(Uee(e))},Ks={test:Hw("rgb","red"),parse:CD("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ig.transform(e)+", "+Ig.transform(t)+", "+Ig.transform(r)+", "+du(td.transform(n))+")"};function Vee(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const a1={test:Hw("#"),parse:Vee,transform:Ks.transform},zd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fi=zd("deg"),Da=zd("%"),je=zd("px"),Wee=zd("vh"),Hee=zd("vw"),$E={...Da,parse:e=>Da.parse(e)/100,transform:e=>Da.transform(e*100)},nl={test:Hw("hsl","hue"),parse:CD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Da.transform(du(t))+", "+Da.transform(du(r))+", "+du(td.transform(n))+")"},Mt={test:e=>Ks.test(e)||a1.test(e)||nl.test(e),parse:e=>Ks.test(e)?Ks.parse(e):nl.test(e)?nl.parse(e):a1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ks.transform(e):nl.transform(e),getAnimatableNone:e=>{const t=Mt.parse(e);return t.alpha=0,Mt.transform(t)}},Kee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gee(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ww))==null?void 0:t.length)||0)+(((r=e.match(Kee))==null?void 0:r.length)||0)>0}const PD="number",OD="color",Yee="var",Xee="var(",UE="${}",qee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rd(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(qee,c=>(Mt.test(c)?(n.color.push(i),a.push(OD),r.push(Mt.parse(c))):c.startsWith(Xee)?(n.var.push(i),a.push(Yee),r.push(c)):(n.number.push(i),a.push(PD),r.push(parseFloat(c))),++i,UE)).split(UE);return{values:r,split:o,indexes:n,types:a}}function DD(e){return rd(e).values}function MD(e){const{split:t,types:r}=rd(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===PD?i+=du(a[s]):o===OD?i+=Mt.transform(a[s]):i+=a[s]}return i}}const Jee=e=>typeof e=="number"?0:Mt.test(e)?Mt.getAnimatableNone(e):e;function Qee(e){const t=DD(e);return MD(e)(t.map(Jee))}const ls={test:Gee,parse:DD,createTransformer:MD,getAnimatableNone:Qee};function Fg(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Zee({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;a=Fg(c,o,e+1/3),i=Fg(c,o,e),s=Fg(c,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function Mh(e,t){return r=>r>0?t:e}const xt=(e,t,r)=>e+(t-e)*r,Lg=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},ete=[a1,Ks,nl],tte=e=>ete.find(t=>t.test(e));function VE(e){const t=tte(e);if(!t)return!1;let r=t.parse(e);return t===nl&&(r=Zee(r)),r}const WE=(e,t)=>{const r=VE(e),n=VE(t);if(!r||!n)return Mh(e,t);const a={...r};return i=>(a.red=Lg(r.red,n.red,i),a.green=Lg(r.green,n.green,i),a.blue=Lg(r.blue,n.blue,i),a.alpha=xt(r.alpha,n.alpha,i),Ks.transform(a))},i1=new Set(["none","hidden"]);function rte(e,t){return i1.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function nte(e,t){return r=>xt(e,t,r)}function Kw(e){return typeof e=="number"?nte:typeof e=="string"?Vw(e)?Mh:Mt.test(e)?WE:ste:Array.isArray(e)?ID:typeof e=="object"?Mt.test(e)?WE:ate:Mh}function ID(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>Kw(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function ate(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=Kw(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function ite(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const ste=(e,t)=>{const r=ls.createTransformer(t),n=rd(e),a=rd(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?i1.has(e)&&!a.values.length||i1.has(t)&&!n.values.length?rte(e,t):Ld(ID(ite(n,a),a.values),r):Mh(e,t)};function FD(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?xt(e,t,r):Kw(e)(e,t)}const ote=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ft.update(t,r),stop:()=>os(t),now:()=>dr.isProcessing?dr.timestamp:qr.now()}},LD=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Ih=2e4;function Gw(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ih;)t+=r,n=e.next(t);return t>=Ih?1/0:t}function lte(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(Gw(n),Ih);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Oa(a)}}const cte=5;function RD(e,t,r){const n=Math.max(t-cte,0);return xD(r-e(n),t-n)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rg=.001;function ute({duration:e=_t.duration,bounce:t=_t.bounce,velocity:r=_t.velocity,mass:n=_t.mass}){let a,i,s=1-t;s=mi(_t.minDamping,_t.maxDamping,s),e=mi(_t.minDuration,_t.maxDuration,Oa(e)),s<1?(a=u=>{const d=u*s,f=d*e,h=d-r,p=s1(u,s),g=Math.exp(-f);return Rg-h/p*g},i=u=>{const f=u*s*e,h=f*r+r,p=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-f),m=s1(Math.pow(u,2),s);return(-a(u)+Rg>0?-1:1)*((h-p)*g)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Rg+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const o=5/e,c=fte(a,i,o);if(e=Pa(e),isNaN(c))return{stiffness:_t.stiffness,damping:_t.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const dte=12;function fte(e,t,r){let n=r;for(let a=1;a<dte;a++)n=n-e(n)/t(n);return n}function s1(e,t){return e*Math.sqrt(1-t*t)}const hte=["duration","bounce"],pte=["stiffness","damping","mass"];function HE(e,t){return t.some(r=>e[r]!==void 0)}function mte(e){let t={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...e};if(!HE(e,pte)&&HE(e,hte))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*mi(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:_t.mass,stiffness:a,damping:i}}else{const r=ute(e);t={...t,...r,mass:_t.mass},t.isResolvedFromDuration=!0}return t}function Fh(e=_t.visualDuration,t=_t.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=mte({...r,velocity:-Oa(r.velocity||0)}),g=h||0,m=u/(2*Math.sqrt(c*d)),x=s-i,v=Oa(Math.sqrt(c/d)),y=Math.abs(x)<5;n||(n=y?_t.restSpeed.granular:_t.restSpeed.default),a||(a=y?_t.restDelta.granular:_t.restDelta.default);let w;if(m<1){const S=s1(v,m);w=E=>{const j=Math.exp(-m*v*E);return s-j*((g+m*v*x)/S*Math.sin(S*E)+x*Math.cos(S*E))}}else if(m===1)w=S=>s-Math.exp(-v*S)*(x+(g+v*x)*S);else{const S=v*Math.sqrt(m*m-1);w=E=>{const j=Math.exp(-m*v*E),C=Math.min(S*E,300);return s-j*((g+m*v*x)*Math.sinh(C)+S*x*Math.cosh(C))/S}}const k={calculatedDuration:p&&f||null,next:S=>{const E=w(S);if(p)o.done=S>=f;else{let j=S===0?g:0;m<1&&(j=S===0?Pa(g):RD(w,S,E));const C=Math.abs(j)<=n,T=Math.abs(s-E)<=a;o.done=C&&T}return o.value=o.done?s:E,o},toString:()=>{const S=Math.min(Gw(k),Ih),E=LD(j=>k.next(S*j).value,S,30);return S+"ms "+E},toTransition:()=>{}};return k}Fh.applyToOptions=e=>{const t=lte(e,100,Fh);return e.ease=t.ease,e.duration=Pa(t.duration),e.type="keyframes",e};function o1({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=C=>o!==void 0&&C<o||c!==void 0&&C>c,g=C=>o===void 0?c:c===void 0||Math.abs(o-C)<Math.abs(c-C)?o:c;let m=r*t;const x=f+m,v=s===void 0?x:s(x);v!==x&&(m=v-f);const y=C=>-m*Math.exp(-C/n),w=C=>v+y(C),k=C=>{const T=y(C),M=w(C);h.done=Math.abs(T)<=u,h.value=h.done?v:M};let S,E;const j=C=>{p(h.value)&&(S=C,E=Fh({keyframes:[h.value,g(h.value)],velocity:RD(w,C,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:C=>{let T=!1;return!E&&S===void 0&&(T=!0,k(C),j(C)),S!==void 0&&C>=S?E.next(C-S):(!T&&k(C),h)}}}function gte(e,t,r){const n=[],a=r||gi.mix||FD,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||zn:t;o=Ld(c,o)}n.push(o)}return n}function xte(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(Lw(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=gte(t,n,a),c=o.length,u=d=>{if(s&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=ed(e[f],e[f+1],d);return o[f](h)};return r?d=>u(mi(e[0],e[i-1],d)):u}function vte(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=ed(0,t,n);e.push(xt(r,1,a))}}function yte(e){const t=[0];return vte(t,e.length-1),t}function bte(e,t){return e.map(r=>r*t)}function wte(e,t){return e.map(()=>t||jD).splice(0,e.length-1)}function fu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Oee(n)?n.map(BE):BE(n),i={done:!1,value:t[0]},s=bte(r&&r.length===t.length?r:yte(t),e),o=xte(s,t,{ease:Array.isArray(a)?a:wte(t,a)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}const kte=e=>e!==null;function Yw(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(kte),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const _te={decay:o1,inertia:o1,tween:fu,keyframes:fu,spring:Fh};function zD(e){typeof e.type=="string"&&(e.type=_te[e.type])}class Xw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Ste=e=>e/100;class qw extends Xw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==qr.now()&&this.tick(qr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zD(t);const{type:r=fu,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const c=r||fu;c!==fu&&typeof o[0]!="number"&&(this.mixKeyframes=Ld(Ste,FD(o[0],o[1])),o=[0,100]);const u=c({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=Gw(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:g,onUpdate:m,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,k=n;if(f){const C=Math.min(this.currentTime,a)/o;let T=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(h==="reverse"?(M=1-M,p&&(M-=p/o)):h==="mirror"&&(k=s)),w=mi(0,1,M)*o}const S=y?{done:!1,value:d[0]}:k.next(w);i&&(S.value=i(S.value));let{done:E}=S;!y&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return j&&g!==o1&&(S.value=Yw(d,this.options,x,this.speed)),m&&m(S.value),j&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Oa(this.calculatedDuration)}get time(){return Oa(this.currentTime)}set time(t){var r;t=Pa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(qr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Oa(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=ote,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Ete(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gs=e=>e*180/Math.PI,l1=e=>{const t=Gs(Math.atan2(e[1],e[0]));return c1(t)},jte={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:l1,rotateZ:l1,skewX:e=>Gs(Math.atan(e[1])),skewY:e=>Gs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},c1=e=>(e=e%360,e<0&&(e+=360),e),KE=l1,GE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),YE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Nte={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:GE,scaleY:YE,scale:e=>(GE(e)+YE(e))/2,rotateX:e=>c1(Gs(Math.atan2(e[6],e[5]))),rotateY:e=>c1(Gs(Math.atan2(-e[2],e[0]))),rotateZ:KE,rotate:KE,skewX:e=>Gs(Math.atan(e[4])),skewY:e=>Gs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function u1(e){return e.includes("scale")?1:0}function d1(e,t){if(!e||e==="none")return u1(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Nte,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=jte,a=o}if(!a)return u1(t);const i=n[t],s=a[1].split(",").map(Ate);return typeof i=="function"?i(s):s[i]}const Tte=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return d1(r,t)};function Ate(e){return parseFloat(e.trim())}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cc=new Set(lc),XE=e=>e===oc||e===je,Cte=new Set(["x","y","z"]),Pte=lc.filter(e=>!Cte.has(e));function Ote(e){const t=[];return Pte.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const to={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>d1(t,"x"),y:(e,{transform:t})=>d1(t,"y")};to.translateX=to.x;to.translateY=to.y;const ro=new Set;let f1=!1,h1=!1,p1=!1;function BD(){if(h1){const e=Array.from(ro).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Ote(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}h1=!1,f1=!1,ro.forEach(e=>e.complete(p1)),ro.clear()}function $D(){ro.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(h1=!0)})}function Dte(){p1=!0,$D(),BD(),p1=!1}class Jw{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(ro.add(this),f1||(f1=!0,ft.read($D),ft.resolveKeyframes(BD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Ete(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ro.delete(this)}cancel(){this.state==="scheduled"&&(ro.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Mte=e=>e.startsWith("--");function Ite(e,t,r){Mte(t)?e.style.setProperty(t,r):e.style[t]=r}const Fte=Rw(()=>window.ScrollTimeline!==void 0),Lte={};function Rte(e,t){const r=Rw(e);return()=>Lte[t]??r()}const UD=Rte(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zc=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,qE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zc([0,.65,.55,1]),circOut:Zc([.55,0,1,.45]),backIn:Zc([.31,.01,.66,-.59]),backOut:Zc([.33,1.53,.69,.99])};function VD(e,t){if(e)return typeof e=="function"?UD()?LD(e,t):"ease-out":ND(e)?Zc(e):Array.isArray(e)?e.map(r=>VD(r,t)||qE.easeOut):qE[e]}function zte(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=VD(o,a);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function WD(e){return typeof e=="function"&&"applyToOptions"in e}function Bte({type:e,...t}){return WD(e)&&UD()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class $te extends Xw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,Lw(typeof t.type!="string");const u=Bte(t);this.animation=zte(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Yw(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Ite(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Oa(Number(t))}get time(){return Oa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Pa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Fte()?(this.animation.timeline=t,zn):r(this)}}const HD={anticipate:_D,backInOut:kD,circInOut:ED};function Ute(e){return e in HD}function Vte(e){typeof e.ease=="string"&&Ute(e.ease)&&(e.ease=HD[e.ease])}const JE=10;class Wte extends $te{constructor(t){Vte(t),zD(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new qw({...s,autoplay:!1}),c=Pa(this.finishedTime??this.time);r.setWithVelocity(o.sample(c-JE).value,o.sample(c).value,JE),o.stop()}}const QE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ls.test(e)||e==="0")&&!e.startsWith("url("));function Hte(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Kte(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=QE(a,t),o=QE(i,t);return!s||!o?!1:Hte(e)||(r==="spring"||WD(r))&&n}function m1(e){e.duration=0,e.type}const Gte=new Set(["opacity","clipPath","filter","transform"]),Yte=Rw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Xte(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Yte()&&r&&Gte.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const qte=40;class Jte extends Xw{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var m,x;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=qr.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:c,motionValue:u,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||Jw;this.keyframeResolver=new p(o,(m,x,v)=>this.onKeyframesResolved(m,x,h,!v),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=qr.now(),Kte(t,i,s,o)||((gi.instantAnimations||!c)&&(d==null||d(Yw(t,n,r))),t[0]=t[t.length-1],m1(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qte?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&Xte(h)?new Wte({...h,element:h.motionValue.owner.current}):new qw(h);p.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Dte()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Qte=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zte(e){const t=Qte.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function KD(e,t,r=1){const[n,a]=Zte(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return pD(s)?parseFloat(s):s}return Vw(a)?KD(a,t,r+1):a}function Qw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const GD=new Set(["width","height","top","left","right","bottom",...lc]),ere={test:e=>e==="auto",parse:e=>e},YD=e=>t=>t.test(e),XD=[oc,je,Da,Fi,Hee,Wee,ere],ZE=e=>XD.find(YD(e));function tre(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gD(e):!0}const rre=new Set(["brightness","contrast","saturate","opacity"]);function nre(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ww)||[];if(!n)return e;const a=r.replace(n,"");let i=rre.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const are=/\b([a-z-]*)\(.*?\)/gu,g1={...ls,getAnimatableNone:e=>{const t=e.match(are);return t?t.map(nre).join(" "):e}},ej={...oc,transform:Math.round},ire={rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:If,scaleX:If,scaleY:If,scaleZ:If,skew:Fi,skewX:Fi,skewY:Fi,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:td,originX:$E,originY:$E,originZ:je},Zw={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...ire,zIndex:ej,fillOpacity:td,strokeOpacity:td,numOctaves:ej},sre={...Zw,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:g1,WebkitFilter:g1},qD=e=>sre[e];function JD(e,t){let r=qD(e);return r!==g1&&(r=ls),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const ore=new Set(["auto","none","0"]);function lre(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!ore.has(i)&&rd(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=JD(r,a)}class cre extends Jw{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Vw(u))){const d=KD(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!GD.has(n)||t.length!==2)return;const[a,i]=t,s=ZE(a),o=ZE(i);if(s!==o)if(XE(s)&&XE(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else to[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||tre(t[a]))&&n.push(a);n.length&&lre(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=to[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=to[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function ure(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const QD=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ZD(e){return mD(e)&&"offsetHeight"in e}const tj=30,dre=e=>!isNaN(parseFloat(e));class fre{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=qr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=qr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=dre(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new zw);const n=this.events[t].add(r);return t==="change"?()=>{n(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,tj);return xD(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vl(e,t){return new fre(e,t)}const{schedule:e2}=TD(queueMicrotask,!1),ea={x:!1,y:!1};function e6(){return ea.x||ea.y}function hre(e){return e==="x"||e==="y"?ea[e]?null:(ea[e]=!0,()=>{ea[e]=!1}):ea.x||ea.y?null:(ea.x=ea.y=!0,()=>{ea.x=ea.y=!1})}function t6(e,t){const r=ure(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function rj(e){return!(e.pointerType==="touch"||e6())}function pre(e,t,r={}){const[n,a,i]=t6(e,r),s=o=>{if(!rj(o))return;const{target:c}=o,u=t(c,o);if(typeof u!="function"||!c)return;const d=f=>{rj(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const r6=(e,t)=>t?e===t?!0:r6(e,t.parentElement):!1,t2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gre(e){return mre.has(e.tagName)||e.tabIndex!==-1}const m0=new WeakSet;function nj(e){return t=>{t.key==="Enter"&&e(t)}}function zg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xre=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=nj(()=>{if(m0.has(r))return;zg(r,"down");const a=nj(()=>{zg(r,"up")}),i=()=>zg(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function aj(e){return t2(e)&&!e6()}function vre(e,t,r={}){const[n,a,i]=t6(e,r),s=o=>{const c=o.currentTarget;if(!aj(o))return;m0.add(c);const u=t(c,o),d=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),m0.has(c)&&m0.delete(c),aj(p)&&typeof u=="function"&&u(p,{success:g})},f=p=>{d(p,c===window||c===document||r.useGlobalTarget||r6(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),ZD(o)&&(o.addEventListener("focus",u=>xre(u,a)),!gre(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function n6(e){return mD(e)&&"ownerSVGElement"in e}function yre(e){return n6(e)&&e.tagName==="svg"}const Nr=e=>!!(e&&e.getVelocity),bre=[...XD,Mt,ls],wre=e=>bre.find(YD(e)),r2=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class kre extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=ZD(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _re({children:e,isPresent:t,anchorX:r,root:n}){const a=b.useId(),i=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=b.useContext(r2);return b.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=s.current;if(t||!i.current||!c||!u)return;const p=r==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=a;const g=document.createElement("style");o&&(g.nonce=o);const m=n??document.head;return m.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{m.contains(g)&&m.removeChild(g)}},[t]),l.jsx(kre,{isPresent:t,childRef:i,sizeRef:s,children:b.cloneElement(e,{ref:i})})}const Sre=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:c})=>{const u=Dw(Ere),d=b.useId();let f=!0,h=b.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return i&&f&&(h={...h}),b.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[r]),b.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),s==="popLayout"&&(e=l.jsx(_re,{isPresent:r,anchorX:o,root:c,children:e})),l.jsx(ym.Provider,{value:h,children:e})};function Ere(){return new Map}function a6(e=!0){const t=b.useContext(ym);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=b.useId();b.useEffect(()=>{if(e)return a(i)},[e]);const s=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const Ff=e=>e.key||"";function ij(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const uc=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:c})=>{const[u,d]=a6(s),f=b.useMemo(()=>ij(e),[e]),h=s&&!u?[]:f.map(Ff),p=b.useRef(!0),g=b.useRef(f),m=Dw(()=>new Map),[x,v]=b.useState(f),[y,w]=b.useState(f);hD(()=>{p.current=!1,g.current=f;for(let E=0;E<y.length;E++){const j=Ff(y[E]);h.includes(j)?m.delete(j):m.get(j)!==!0&&m.set(j,!1)}},[y,h.length,h.join("-")]);const k=[];if(f!==x){let E=[...f];for(let j=0;j<y.length;j++){const C=y[j],T=Ff(C);h.includes(T)||(E.splice(j,0,C),k.push(C))}return i==="wait"&&k.length&&(E=k),w(ij(E)),v(f),null}const{forceRender:S}=b.useContext(Ow);return l.jsx(l.Fragment,{children:y.map(E=>{const j=Ff(E),C=s&&!u?!1:f===y||h.includes(j),T=()=>{if(m.has(j))m.set(j,!0);else return;let M=!0;m.forEach(D=>{D||(M=!1)}),M&&(S==null||S(),w(g.current),s&&(d==null||d()),n&&n())};return l.jsx(Sre,{isPresent:C,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:C?void 0:T,anchorX:o,children:E},j)})})},i6=b.createContext({strict:!1}),sj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const e in sj)Wl[e]={isEnabled:t=>sj[e].some(r=>!!t[r])};function jre(e){for(const t in e)Wl[t]={...Wl[t],...e[t]}}const Nre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Nre.has(e)}let s6=e=>!Lh(e);function Tre(e){typeof e=="function"&&(s6=t=>t.startsWith("on")?!Lh(t):e(t))}try{Tre(require("@emotion/is-prop-valid").default)}catch{}function Are(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(s6(a)||r===!0&&Lh(a)||!t&&!Lh(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const bm=b.createContext({});function wm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nd(e){return typeof e=="string"||Array.isArray(e)}const n2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a2=["initial",...n2];function km(e){return wm(e.animate)||a2.some(t=>nd(e[t]))}function o6(e){return!!(km(e)||e.variants)}function Cre(e,t){if(km(e)){const{initial:r,animate:n}=e;return{initial:r===!1||nd(r)?r:void 0,animate:nd(n)?n:void 0}}return e.inherit!==!1?t:{}}function Pre(e){const{initial:t,animate:r}=Cre(e,b.useContext(bm));return b.useMemo(()=>({initial:t,animate:r}),[oj(t),oj(r)])}function oj(e){return Array.isArray(e)?e.join(" "):e}const ad={};function Ore(e){for(const t in e)ad[t]=e[t],Uw(t)&&(ad[t].isCSSVariable=!0)}function l6(e,{layout:t,layoutId:r}){return cc.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ad[e]||e==="opacity")}const Dre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mre=lc.length;function Ire(e,t,r){let n="",a=!0;for(let i=0;i<Mre;i++){const s=lc[i],o=e[s];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(s.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=QD(o,Zw[s]);if(!c){a=!1;const d=Dre[s]||s;n+=`${d}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function i2(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const c in t){const u=t[c];if(cc.has(c)){s=!0;continue}else if(Uw(c)){a[c]=u;continue}else{const d=QD(u,Zw[c]);c.startsWith("origin")?(o=!0,i[c]=d):n[c]=d}}if(t.transform||(s||r?n.transform=Ire(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const s2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c6(e,t,r){for(const n in t)!Nr(t[n])&&!l6(n,r)&&(e[n]=t[n])}function Fre({transformTemplate:e},t){return b.useMemo(()=>{const r=s2();return i2(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Lre(e,t){const r=e.style||{},n={};return c6(n,r,e),Object.assign(n,Fre(e,t)),n}function Rre(e,t){const r={},n=Lre(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const zre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bre={offset:"strokeDashoffset",array:"strokeDasharray"};function $re(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?zre:Bre;e[i.offset]=je.transform(-n);const s=je.transform(t),o=je.transform(r);e[i.array]=`${s} ${o}`}function u6(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},c,u,d){if(i2(e,o,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&$re(f,a,i,s,!1)}const d6=()=>({...s2(),attrs:{}}),f6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ure(e,t,r,n){const a=b.useMemo(()=>{const i=d6();return u6(i,t,f6(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};c6(i,e.style,e),a.style={...i,...a.style}}return a}const Vre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o2(e){return typeof e!="string"||e.includes("-")?!1:!!(Vre.indexOf(e)>-1||/[A-Z]/u.test(e))}function Wre(e,t,r,{latestValues:n},a,i=!1){const o=(o2(e)?Ure:Rre)(t,n,a,e),c=Are(t,typeof e=="string",i),u=e!==b.Fragment?{...c,...o,ref:r}:{},{children:d}=t,f=b.useMemo(()=>Nr(d)?d.get():d,[d]);return b.createElement(e,{...u,children:f})}function lj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function l2(e,t,r,n){if(typeof t=="function"){const[a,i]=lj(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=lj(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function g0(e){return Nr(e)?e.get():e}function Hre({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Kre(r,n,a,e),renderState:t()}}function Kre(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=g0(i[h]);let{initial:s,animate:o}=e;const c=km(e),u=o6(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?o:s;if(f&&typeof f!="boolean"&&!wm(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=l2(e,h[p]);if(g){const{transitionEnd:m,transition:x,...v}=g;for(const y in v){let w=v[y];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(a[y]=w)}for(const y in m)a[y]=m[y]}}}return a}const h6=e=>(t,r)=>{const n=b.useContext(bm),a=b.useContext(ym),i=()=>Hre(e,t,n,a);return r?i():Dw(i)};function c2(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Nr(n[s])||t.style&&Nr(t.style[s])||l6(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const Gre=h6({scrapeMotionValuesFromProps:c2,createRenderState:s2});function p6(e,t,r){const n=c2(e,t,r);for(const a in e)if(Nr(e[a])||Nr(t[a])){const i=lc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Yre=h6({scrapeMotionValuesFromProps:p6,createRenderState:d6}),Xre=Symbol.for("motionComponentSymbol");function al(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qre(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):al(r)&&(r.current=n))},[t])}const u2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jre="framerAppearId",m6="data-"+u2(Jre),g6=b.createContext({});function Qre(e,t,r,n,a){var m,x;const{visualElement:i}=b.useContext(bm),s=b.useContext(i6),o=b.useContext(ym),c=b.useContext(r2).reducedMotion,u=b.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=b.useContext(g6);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&Zre(u.current,r,a,f);const h=b.useRef(!1);b.useInsertionEffect(()=>{d&&h.current&&d.update(r,o)});const p=r[m6],g=b.useRef(!!p&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,p))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,p)));return hD(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),g.current=!1),d.enteringChildren=void 0)}),d}function Zre(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:x6(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&al(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function x6(e){if(e)return e.options.allowProjection!==!1?e.projection:x6(e.parent)}function Bg(e,{forwardMotionProps:t=!1}={},r,n){r&&jre(r);const a=o2(e)?Yre:Gre;function i(o,c){let u;const d={...b.useContext(r2),...o,layoutId:ene(o)},{isStatic:f}=d,h=Pre(o),p=a(o,f);if(!f&&Mw){tne();const g=rne(d);u=g.MeasureLayout,h.visualElement=Qre(e,p,d,n,g.ProjectionNode)}return l.jsxs(bm.Provider,{value:h,children:[u&&h.visualElement?l.jsx(u,{visualElement:h.visualElement,...d}):null,Wre(e,o,qre(p,h.visualElement,c),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=b.forwardRef(i);return s[Xre]=e,s}function ene({layoutId:e}){const t=b.useContext(Ow).id;return t&&e!==void 0?t+"-"+e:e}function tne(e,t){b.useContext(i6).strict}function rne(e){const{drag:t,layout:r}=Wl;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function nne(e,t){if(typeof Proxy>"u")return Bg;const r=new Map,n=(i,s)=>Bg(i,s,e,t),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,Bg(s,void 0,e,t)),r.get(s))})}function v6({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ane({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ine(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function $g(e){return e===void 0||e===1}function x1({scale:e,scaleX:t,scaleY:r}){return!$g(e)||!$g(t)||!$g(r)}function Is(e){return x1(e)||y6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function y6(e){return cj(e.x)||cj(e.y)}function cj(e){return e&&e!=="0%"}function Rh(e,t,r){const n=e-r,a=t*n;return r+a}function uj(e,t,r,n,a){return a!==void 0&&(e=Rh(e,a,n)),Rh(e,r,n)+t}function v1(e,t=0,r=1,n,a){e.min=uj(e.min,t,r,n,a),e.max=uj(e.max,t,r,n,a)}function b6(e,{x:t,y:r}){v1(e.x,t.translate,t.scale,t.originPoint),v1(e.y,r.translate,r.scale,r.originPoint)}const dj=.999999999999,fj=1.0000000000001;function sne(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sl(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,b6(e,s)),n&&Is(i.latestValues)&&sl(e,i.latestValues))}t.x<fj&&t.x>dj&&(t.x=1),t.y<fj&&t.y>dj&&(t.y=1)}function il(e,t){e.min=e.min+t,e.max=e.max+t}function hj(e,t,r,n,a=.5){const i=xt(e.min,e.max,a);v1(e,t,r,i,n)}function sl(e,t){hj(e.x,t.x,t.scaleX,t.scale,t.originX),hj(e.y,t.y,t.scaleY,t.scale,t.originY)}function w6(e,t){return v6(ine(e.getBoundingClientRect(),t))}function one(e,t,r){const n=w6(e,r),{scroll:a}=t;return a&&(il(n.x,a.offset.x),il(n.y,a.offset.y)),n}const pj=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:pj(),y:pj()}),mj=()=>({min:0,max:0}),Nt=()=>({x:mj(),y:mj()}),y1={current:null},k6={current:!1};function lne(){if(k6.current=!0,!!Mw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>y1.current=e.matches;e.addEventListener("change",t),t()}else y1.current=!1}const cne=new WeakMap;function une(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Nr(a))e.addValue(n,a);else if(Nr(i))e.addValue(n,Vl(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Vl(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const gj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dne{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=qr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ft.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=km(r),this.isVariantNode=o6(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];c[h]!==void 0&&Nr(p)&&p.set(c[h])}}mount(t){var r;this.current=t,cne.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),k6.current||lne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y1.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),os(this.notifyUpdate),os(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=cc.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&ft.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wl){const r=Wl[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<gj.length;n++){const a=gj[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=une(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Vl(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(pD(n)||gD(n))?n=parseFloat(n):!wre(n)&&ls.test(r)&&(n=JD(t,r)),this.setBaseTarget(t,Nr(n)?n.get():n)),Nr(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=l2(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Nr(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new zw),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){e2.render(this.render)}}class _6 extends dne{constructor(){super(...arguments),this.KeyframeResolver=cre}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function S6(e,{style:t,vars:r},n,a){const i=e.style;let s;for(s in t)i[s]=t[s];a==null||a.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function fne(e){return window.getComputedStyle(e)}class hne extends _6{constructor(){super(...arguments),this.type="html",this.renderInstance=S6}readValueFromInstance(t,r){var n;if(cc.has(r))return(n=this.projection)!=null&&n.isProjecting?u1(r):Tte(t,r);{const a=fne(t),i=(Uw(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return w6(t,r)}build(t,r,n){i2(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return c2(t,r,n)}}const E6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pne(e,t,r,n){S6(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(E6.has(a)?a:u2(a),t.attrs[a])}class mne extends _6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(cc.has(r)){const n=qD(r);return n&&n.default||0}return r=E6.has(r)?r:u2(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return p6(t,r,n)}build(t,r,n){u6(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){pne(t,r,n,a)}mount(t){this.isSVGTag=f6(t.tagName),super.mount(t)}}const gne=(e,t)=>o2(e)?new mne(t):new hne(t,{allowProjection:e!==b.Fragment});function yl(e,t,r){const n=e.getProps();return l2(n,t,r!==void 0?r:n.custom,e)}const b1=e=>Array.isArray(e);function xne(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Vl(r))}function vne(e){return b1(e)?e[e.length-1]||0:e}function yne(e,t){const r=yl(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=vne(i[s]);xne(e,s,o)}}function bne(e){return!!(Nr(e)&&e.add)}function w1(e,t){const r=e.getValue("willChange");if(bne(r))return r.add(t);if(!r&&gi.WillChange){const n=new gi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function j6(e){return e.props[m6]}const wne=e=>e!==null;function kne(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(wne),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const _ne={type:"spring",stiffness:500,damping:25,restSpeed:10},Sne=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ene={type:"keyframes",duration:.8},jne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Nne=(e,{keyframes:t})=>t.length>2?Ene:cc.has(e)?e.startsWith("scale")?Sne(t[1]):_ne:jne;function Tne({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const d2=(e,t,r,n={},a,i)=>s=>{const o=Qw(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Pa(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Tne(o)||Object.assign(d,Nne(e,d)),d.duration&&(d.duration=Pa(d.duration)),d.repeatDelay&&(d.repeatDelay=Pa(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(m1(d),d.delay===0&&(f=!0)),(gi.instantAnimations||gi.skipAnimations)&&(f=!0,m1(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=kne(d.keyframes,o);if(h!==void 0){ft.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new qw(d):new Jte(d)};function Ane({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function N6(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in o){const f=e.getValue(d,e.latestValues[d]??null),h=o[d];if(h===void 0||u&&Ane(u,d))continue;const p={delay:r,...Qw(i||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!p.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const v=j6(e);if(v){const y=window.MotionHandoffAnimation(v,d,ft);y!==null&&(p.startTime=y,m=!0)}}w1(e,d),f.start(d2(d,f,h,e.shouldReduceMotion&&GD.has(d)?{type:!1}:p,e,m));const x=f.animation;x&&c.push(x)}return s&&Promise.all(c).then(()=>{ft.update(()=>{s&&yne(e,s)})}),c}function T6(e,t,r,n=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:o-i*n}function k1(e,t,r={}){var c;const n=yl(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(N6(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return Cne(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[u,d]=o==="beforeChildren"?[i,s]:[s,i];return u().then(()=>d())}else return Promise.all([i(),s(r.delay)])}function Cne(e,t,r=0,n=0,a=0,i=1,s){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(k1(c,t,{...s,delay:r+(typeof n=="function"?0:n)+T6(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function Pne(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>k1(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=k1(e,t,r);else{const a=typeof t=="function"?yl(e,t,r.custom):t;n=Promise.all(N6(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function A6(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const One=a2.length;function C6(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?C6(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<One;r++){const n=a2[r],a=e.props[n];(nd(a)||a===!1)&&(t[n]=a)}return t}const Dne=[...n2].reverse(),Mne=n2.length;function Ine(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Pne(e,r,n)))}function Fne(e){let t=Ine(e),r=xj(),n=!0;const a=c=>(u,d)=>{var h;const f=yl(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...m}=f;u={...u,...m,...g}}return u};function i(c){t=c(e)}function s(c){const{props:u}=e,d=C6(e.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let x=0;x<Mne;x++){const v=Dne[x],y=r[v],w=u[v]!==void 0?u[v]:d[v],k=nd(w),S=v===c?y.isActive:null;S===!1&&(g=x);let E=w===d[v]&&w!==u[v]&&k;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...p},!y.isActive&&S===null||!w&&!y.prevProp||wm(w)||typeof w=="boolean")continue;const j=Lne(y.prevProp,w);let C=j||v===c&&y.isActive&&!E&&k||x>g&&k,T=!1;const M=Array.isArray(w)?w:[w];let D=M.reduce(a(v),{});S===!1&&(D={});const{prevResolvedValues:A={}}=y,_={...A,...D},N=I=>{C=!0,h.has(I)&&(T=!0,h.delete(I)),y.needsAnimating[I]=!0;const Y=e.getValue(I);Y&&(Y.liveStyle=!1)};for(const I in _){const Y=D[I],G=A[I];if(p.hasOwnProperty(I))continue;let q=!1;b1(Y)&&b1(G)?q=!A6(Y,G):q=Y!==G,q?Y!=null?N(I):h.add(I):Y!==void 0&&h.has(I)?N(I):y.protectedKeys[I]=!0}y.prevProp=w,y.prevResolvedValues=D,y.isActive&&(p={...p,...D}),n&&e.blockInitialAnimation&&(C=!1);const O=E&&j;C&&(!O||T)&&f.push(...M.map(I=>{const Y={type:v};if(typeof I=="string"&&n&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,q=yl(G,I);if(G.enteringChildren&&q){const{delayChildren:ce}=q.transition||{};Y.delay=T6(G.enteringChildren,e,ce)}}return{animation:I,options:Y}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const v=yl(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(x.transition=v.transition)}h.forEach(v=>{const y=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),x[v]=y??null}),f.push({animation:x})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(c,u)}),r[c].isActive=u;const d=s(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=xj(),n=!0}}}function Lne(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!A6(t,e):!1}function Es(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xj(){return{animate:Es(!0),whileInView:Es(),whileHover:Es(),whileTap:Es(),whileDrag:Es(),whileFocus:Es(),exit:Es()}}class bs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Rne extends bs{constructor(t){super(t),t.animationState||(t.animationState=Fne(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let zne=0;class Bne extends bs{constructor(){super(...arguments),this.id=zne++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $ne={animation:{Feature:Rne},exit:{Feature:Bne}};function id(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Bd(e){return{point:{x:e.pageX,y:e.pageY}}}const Une=e=>t=>t2(t)&&e(t,Bd(t));function hu(e,t,r,n){return id(e,t,Une(r),n)}const P6=1e-4,Vne=1-P6,Wne=1+P6,O6=.01,Hne=0-O6,Kne=0+O6;function Rr(e){return e.max-e.min}function Gne(e,t,r){return Math.abs(e-t)<=r}function vj(e,t,r,n=.5){e.origin=n,e.originPoint=xt(t.min,t.max,e.origin),e.scale=Rr(r)/Rr(t),e.translate=xt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Vne&&e.scale<=Wne||isNaN(e.scale))&&(e.scale=1),(e.translate>=Hne&&e.translate<=Kne||isNaN(e.translate))&&(e.translate=0)}function pu(e,t,r,n){vj(e.x,t.x,r.x,n?n.originX:void 0),vj(e.y,t.y,r.y,n?n.originY:void 0)}function yj(e,t,r){e.min=r.min+t.min,e.max=e.min+Rr(t)}function Yne(e,t,r){yj(e.x,t.x,r.x),yj(e.y,t.y,r.y)}function bj(e,t,r){e.min=t.min-r.min,e.max=e.min+Rr(t)}function mu(e,t,r){bj(e.x,t.x,r.x),bj(e.y,t.y,r.y)}function Pn(e){return[e("x"),e("y")]}const D6=({current:e})=>e?e.ownerDocument.defaultView:null,wj=(e,t)=>Math.abs(e-t);function Xne(e,t){const r=wj(e.x,t.x),n=wj(e.y,t.y);return Math.sqrt(r**2+n**2)}class M6{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Vg(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=Xne(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:m}=h,{timestamp:x}=dr;this.history.push({...m,timestamp:x});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ug(p,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Vg(h.type==="pointercancel"?this.lastMoveEventInfo:Ug(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,v),m&&m(h,v)},!t2(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const o=Bd(t),c=Ug(o,this.transformPagePoint),{point:u}=c,{timestamp:d}=dr;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Vg(c,this.history)),this.removeListeners=Ld(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),os(this.updatePoint)}}function Ug(e,t){return t?{point:t(e.point)}:e}function kj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vg({point:e},t){return{point:e,delta:kj(e,I6(t)),offset:kj(e,qne(t)),velocity:Jne(t,.1)}}function qne(e){return e[0]}function I6(e){return e[e.length-1]}function Jne(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=I6(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Pa(t)));)r--;if(!n)return{x:0,y:0};const i=Oa(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Qne(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xt(r,e,n.max):Math.min(e,r)),e}function _j(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Zne(e,{top:t,left:r,bottom:n,right:a}){return{x:_j(e.x,r,a),y:_j(e.y,t,n)}}function Sj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function eae(e,t){return{x:Sj(e.x,t.x),y:Sj(e.y,t.y)}}function tae(e,t){let r=.5;const n=Rr(e),a=Rr(t);return a>n?r=ed(t.min,t.max-n,e.min):n>a&&(r=ed(e.min,e.max-a,t.min)),mi(0,1,r)}function rae(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const _1=.35;function nae(e=_1){return e===!1?e=0:e===!0&&(e=_1),{x:Ej(e,"left","right"),y:Ej(e,"top","bottom")}}function Ej(e,t,r){return{min:jj(e,t),max:jj(e,r)}}function jj(e,t){return typeof e=="number"?e:e[t]||0}const aae=new WeakMap;class iae{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Bd(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:g,onDragStart:m}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hre(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Da.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const k=w.layout.layoutBox[v];k&&(y=Rr(k)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&ft.postRender(()=>m(f,h)),w1(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:m,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=h;if(g&&this.currentDirection===null){this.currentDirection=sae(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),x&&x(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Pn(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new M6(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:D6(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ft.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Lf(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Qne(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&al(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Zne(n.layoutBox,t):this.constraints=!1,this.elastic=nae(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Pn(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=rae(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!al(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=one(n,a.root,this.visualElement.getTransformPagePoint());let s=eae(a.layout.layoutBox,i);if(r){const o=r(ane(s));this.hasMutatedConstraints=!!o,o&&(s=v6(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Pn(d=>{if(!Lf(d,r,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return w1(this.visualElement,t),n.start(d2(t,n,0,r,this.visualElement,!1))}stopAnimation(){Pn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Pn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Pn(r=>{const{drag:n}=this.getProps();if(!Lf(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-xt(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!al(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Pn(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();a[s]=tae({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Pn(s=>{if(!Lf(s,t,null))return;const o=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];o.set(xt(c,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;aae.set(this.visualElement,this);const t=this.visualElement.current,r=hu(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();al(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(n);const s=id(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Pn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=_1,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function Lf(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function sae(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class oae extends bs{constructor(t){super(t),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new iae(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nj=e=>(t,r)=>{e&&ft.postRender(()=>e(t,r))};class lae extends bs{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(t){this.session=new M6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Nj(t),onStart:Nj(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&ft.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const x0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=Tj(e,t.target.x),n=Tj(e,t.target.y);return`${r}% ${n}%`}},cae={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=ls.parse(e);if(a.length>5)return n;const i=ls.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=c;const u=xt(o,c,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}};let Wg=!1;class uae extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Ore(dae),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),Wg&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),x0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,Wg=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||ft.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),e2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;Wg=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function F6(e){const[t,r]=a6(),n=b.useContext(Ow);return l.jsx(uae,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(g6),isPresent:t,safeToRemove:r})}const dae={borderRadius:{...Rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rc,borderTopRightRadius:Rc,borderBottomLeftRadius:Rc,borderBottomRightRadius:Rc,boxShadow:cae};function fae(e,t,r){const n=Nr(e)?e:Vl(e);return n.start(d2("",n,t,r)),n.animation}const hae=(e,t)=>e.depth-t.depth;class pae{constructor(){this.children=[],this.isDirty=!1}add(t){Iw(this.children,t),this.isDirty=!0}remove(t){Fw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hae),this.isDirty=!1,this.children.forEach(t)}}function mae(e,t){const r=qr.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(os(n),e(i-t))};return ft.setup(n,!0),()=>os(n)}const L6=["TopLeft","TopRight","BottomLeft","BottomRight"],gae=L6.length,Aj=e=>typeof e=="string"?parseFloat(e):e,Cj=e=>typeof e=="number"||je.test(e);function xae(e,t,r,n,a,i){a?(e.opacity=xt(0,r.opacity??1,vae(n)),e.opacityExit=xt(t.opacity??1,0,yae(n))):i&&(e.opacity=xt(t.opacity??1,r.opacity??1,n));for(let s=0;s<gae;s++){const o=`border${L6[s]}Radius`;let c=Pj(t,o),u=Pj(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Cj(c)===Cj(u)?(e[o]=Math.max(xt(Aj(c),Aj(u),n),0),(Da.test(u)||Da.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=xt(t.rotate||0,r.rotate||0,n))}function Pj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vae=R6(0,.5,SD),yae=R6(.5,.95,zn);function R6(e,t,r){return n=>n<e?0:n>t?1:r(ed(e,t,n))}function Oj(e,t){e.min=t.min,e.max=t.max}function Tn(e,t){Oj(e.x,t.x),Oj(e.y,t.y)}function Dj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Mj(e,t,r,n,a){return e-=t,e=Rh(e,1/r,n),a!==void 0&&(e=Rh(e,1/a,n)),e}function bae(e,t=0,r=1,n=.5,a,i=e,s=e){if(Da.test(t)&&(t=parseFloat(t),t=xt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=xt(i.min,i.max,n);e===i&&(o-=t),e.min=Mj(e.min,t,r,o,a),e.max=Mj(e.max,t,r,o,a)}function Ij(e,t,[r,n,a],i,s){bae(e,t[r],t[n],t[a],t.scale,i,s)}const wae=["x","scaleX","originX"],kae=["y","scaleY","originY"];function Fj(e,t,r,n){Ij(e.x,t,wae,r?r.x:void 0,n?n.x:void 0),Ij(e.y,t,kae,r?r.y:void 0,n?n.y:void 0)}function Lj(e){return e.translate===0&&e.scale===1}function z6(e){return Lj(e.x)&&Lj(e.y)}function Rj(e,t){return e.min===t.min&&e.max===t.max}function _ae(e,t){return Rj(e.x,t.x)&&Rj(e.y,t.y)}function zj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function B6(e,t){return zj(e.x,t.x)&&zj(e.y,t.y)}function Bj(e){return Rr(e.x)/Rr(e.y)}function $j(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Sae{constructor(){this.members=[]}add(t){Iw(this.members,t),t.scheduleRender()}remove(t){if(Fw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Eae(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Hg=["","X","Y","Z"],jae=1e3;let Nae=0;function Kg(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function $6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=j6(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ft,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&$6(n)}function U6({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=Nae++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Cae),this.nodes.forEach(Mae),this.nodes.forEach(Iae),this.nodes.forEach(Pae)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pae)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new zw),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=n6(s)&&!yre(s),this.instance=s;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{f=window.innerWidth}),e(s,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=mae(h,250),x0.hasAnimatedSinceResize&&(x0.hasAnimatedSinceResize=!1,this.nodes.forEach(Wj)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Bae,{onLayoutAnimationStart:m,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!B6(this.targetLayout,p),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Qw(g,"layout"),onPlay:m,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,y)}else f||Wj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fae),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Dae),this.nodes.forEach(Tae),this.nodes.forEach(Aae)):this.nodes.forEach(Vj),this.clearAllSnapshots();const o=qr.now();dr.delta=mi(0,1e3/60,o-dr.timestamp),dr.timestamp=o,dr.isProcessing=!0,Mg.update.process(dr),Mg.preRender.process(dr),Mg.render.process(dr),dr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Oae),this.sharedNodes.forEach(Lae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rr(this.snapshot.measuredBox.x)&&!Rr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!z6(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||Is(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),$ae(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Nt();const o=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Uae))){const{scroll:d}=this.root;d&&(il(o.x,d.offset.x),il(o.y,d.offset.y))}return o}removeElementScroll(s){var c;const o=Nt();if(Tn(o,s),(c=this.scroll)!=null&&c.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Tn(o,s),il(o.x,f.offset.x),il(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const c=Nt();Tn(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&sl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Is(d.latestValues)&&sl(c,d.latestValues)}return Is(this.latestValues)&&sl(c,this.latestValues),c}removeTransform(s){const o=Nt();Tn(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Is(u.latestValues))continue;x1(u.latestValues)&&u.updateSnapshot();const d=Nt(),f=u.measurePageBox();Tn(d,f),Fj(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Is(this.latestValues)&&Fj(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=dr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),mu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Tn(this.target,this.layout.layoutBox),b6(this.target,this.targetDelta)):Tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),mu(this.relativeTargetOrigin,this.target,p.target),Tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||x1(this.parent.latestValues)||y6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Tn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;sne(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Nt());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dj(this.prevProjectionDelta.x,this.projectionDelta.x),Dj(this.prevProjectionDelta.y,this.projectionDelta.y)),pu(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!$j(this.projectionDelta.x,this.prevProjectionDelta.x)||!$j(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(s,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Nt(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,x=this.getStack(),v=!x||x.members.length<=1,y=!!(m&&!v&&this.options.crossfade===!0&&!this.path.some(zae));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const S=k/1e3;Hj(f.x,s.x,S),Hj(f.y,s.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Rae(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&_ae(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Nt()),Tn(w,this.relativeTarget)),m&&(this.animationValues=d,xae(d,u,this.latestValues,S,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,c,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{x0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vl(0)),this.currentAnimation=fae(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),s.onUpdate&&s.onUpdate(d)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jae),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=s;if(!(!o||!c||!u)){if(this!==s&&this.layout&&u&&V6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Nt();const f=Rr(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=Rr(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}Tn(o,c),sl(o,d),pu(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Sae),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&Kg("z",s,u,this.animationValues);for(let d=0;d<Hg.length;d++)Kg(`rotate${Hg[d]}`,s,u,this.animationValues),Kg(`skew${Hg[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=g0(o==null?void 0:o.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=g0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Eae(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),s.transform=f;const{x:h,y:p}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?s.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in ad){if(d[g]===void 0)continue;const{correct:m,applyTo:x,isCSSVariable:v}=ad[g],y=f==="none"?d[g]:m(d[g],u);if(x){const w=x.length;for(let k=0;k<w;k++)s[x[k]]=y}else v?this.options.visualElement.renderState.vars[g]=y:s[g]=y}this.options.layoutId&&(s.pointerEvents=u===this?g0(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(Uj),this.root.sharedNodes.clear()}}}function Tae(e){e.updateLayout()}function Aae(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Pn(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=Rr(h);h.min=n[f].min,h.max=h.min+p}):V6(i,t.layoutBox,n)&&Pn(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=Rr(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=ol();pu(o,n,t.layoutBox);const c=ol();s?pu(c,e.applyTransform(a,!0),t.measuredBox):pu(c,n,t.layoutBox);const u=!z6(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=Nt();mu(g,t.layoutBox,h.layoutBox);const m=Nt();mu(m,n,p.layoutBox),B6(g,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Cae(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Pae(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Oae(e){e.clearSnapshot()}function Uj(e){e.clearMeasurements()}function Vj(e){e.isLayoutDirty=!1}function Dae(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Mae(e){e.resolveTargetDelta()}function Iae(e){e.calcProjection()}function Fae(e){e.resetSkewAndRotation()}function Lae(e){e.removeLeadSnapshot()}function Hj(e,t,r){e.translate=xt(t.translate,0,r),e.scale=xt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Kj(e,t,r,n){e.min=xt(t.min,r.min,n),e.max=xt(t.max,r.max,n)}function Rae(e,t,r,n){Kj(e.x,t.x,r.x,n),Kj(e.y,t.y,r.y,n)}function zae(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Bae={duration:.45,ease:[.4,0,.1,1]},Gj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yj=Gj("applewebkit/")&&!Gj("chrome/")?Math.round:zn;function Xj(e){e.min=Yj(e.min),e.max=Yj(e.max)}function $ae(e){Xj(e.x),Xj(e.y)}function V6(e,t,r){return e==="position"||e==="preserve-aspect"&&!Gne(Bj(t),Bj(r),.2)}function Uae(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Vae=U6({attachResizeListener:(e,t)=>id(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gg={current:void 0},W6=U6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gg.current){const e=new Vae({});e.mount(window),e.setOptions({layoutScroll:!0}),Gg.current=e}return Gg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Wae={pan:{Feature:lae},drag:{Feature:oae,ProjectionNode:W6,MeasureLayout:F6}};function qj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&ft.postRender(()=>i(t,Bd(t)))}class Hae extends bs{mount(){const{current:t}=this.node;t&&(this.unmount=pre(t,(r,n)=>(qj(this.node,n,"Start"),a=>qj(this.node,a,"End"))))}unmount(){}}class Kae extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ld(id(this.node.current,"focus",()=>this.onFocus()),id(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&ft.postRender(()=>i(t,Bd(t)))}class Gae extends bs{mount(){const{current:t}=this.node;t&&(this.unmount=vre(t,(r,n)=>(Jj(this.node,n,"Start"),(a,{success:i})=>Jj(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const S1=new WeakMap,Yg=new WeakMap,Yae=e=>{const t=S1.get(e.target);t&&t(e)},Xae=e=>{e.forEach(Yae)};function qae({root:e,...t}){const r=e||document;Yg.has(r)||Yg.set(r,{});const n=Yg.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Xae,{root:e,...t})),n[a]}function Jae(e,t,r){const n=qae(t);return S1.set(e,r),n.observe(e),()=>{S1.delete(e),n.unobserve(e)}}const Qae={some:0,all:1};class Zae extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Qae[a]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Jae(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(eie(t,r))&&this.startObserver()}unmount(){}}function eie({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const tie={inView:{Feature:Zae},tap:{Feature:Gae},focus:{Feature:Kae},hover:{Feature:Hae}},rie={layout:{ProjectionNode:W6,MeasureLayout:F6}},nie={...$ne,...tie,...Wae,...rie},tn=nne(nie,gne);function aie(){const[e,t]=b.useState(0),[r,n]=b.useState([]),[a,i]=b.useState(!0),s=nr();return b.useEffect(()=>{async function o(){try{i(!0);const c=await Ne("/api/inventory/?per_page=1000"),u=c.items||c||[],d={};u.forEach(x=>{(x.item_id||x.name)&&(d[x.item_id]=x.name)});const f=u.filter(x=>Number(x.stock??0)<=Number(x.minimum??0)).length;t(f);const h=await Ne("/api/inventory/logs?per_page=1000"),p=h.items||h||[],g={};p.forEach(x=>{const v=Number(x.delta||0),y=x.item_code||x.item_id||"Unknown";if(v<0&&y){const w=d[y]||y;g[w]=(g[w]||0)+Math.abs(v)}});const m=Object.entries(g).sort((x,v)=>v[1]-x[1]).slice(0,3).map(([x,v])=>({name:x,total:v}));n(m)}catch(c){console.error(" Error loading inventory summary:",c)}finally{i(!1)}}o()},[]),l.jsx(tn.div,{initial:{opacity:0,y:25},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:`
        col-span-1
        rounded-2xl
        bg-white dark:bg-[#1d1f24]
        ring-1 ring-zinc-100 dark:ring-zinc-800
        shadow-[0_10px_30px_rgba(2,6,23,0.06)] dark:shadow-[0_10px_30px_rgba(0,0,0,0.35)]
        hover:shadow-[0_14px_36px_rgba(2,6,23,0.10)] dark:hover:shadow-[0_14px_36px_rgba(0,0,0,0.45)]
        transition-all duration-300
        p-6 flex flex-col justify-between
        h-full min-h-[360px]
      `,children:l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-[#0B5150] dark:text-white",children:"Inventory Summary"}),l.jsxs("button",{onClick:()=>s("/inventory"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg 
                       bg-[#0B5150] hover:bg-[#094241] text-white text-sm transition`,children:["Go to Inventory ",l.jsx(Dy,{size:14})]})]}),a?l.jsx("p",{className:"text-sm text-zinc-400",children:"Loading inventory data"}):l.jsxs(l.Fragment,{children:[l.jsxs(tn.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex items-center gap-3 mb-5",children:[l.jsx("div",{className:"p-3 rounded-xl bg-red-50 dark:bg-red-950/40",children:l.jsx(Gz,{className:"text-red-600 dark:text-red-400",size:28})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Items Out of Stock"}),l.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:e})]})]}),l.jsxs(tn.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.3},children:[l.jsxs("p",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2 flex items-center gap-2",children:[l.jsx(L7,{size:16})," Top 3 Most Used"]}),r.length>0?l.jsx("ul",{className:"space-y-1",children:r.map((o,c)=>l.jsxs("li",{className:"flex justify-between text-sm border-b border-zinc-100 dark:border-zinc-800 pb-1",children:[l.jsx("span",{className:"text-zinc-700 dark:text-zinc-300 truncate max-w-[200px]",children:o.name}),l.jsx("span",{className:"font-semibold text-[#0B5150] dark:text-[#5ad5d3]",children:o.total})]},c))}):l.jsx("p",{className:"text-sm text-zinc-400",children:"No usage data available"})]})]})]})})}function iie(){const[e,t]=b.useState("summary"),[r,n]=b.useState([]),a=[{name:"HD Supply",projects:8,invoices:15},{name:"Grainger",projects:5,invoices:9},{name:"Ferguson",projects:3,invoices:4}],i=[{label:"Projects",value:12},{label:"Vendors",value:24},{label:"Invoices",value:58},{label:"Tasks",value:94}];return b.useEffect(()=>{(async()=>{try{const s=await Ne("/api/invoices/?per_page=100");Array.isArray(s.items)?n(s.items):Array.isArray(s)?n(s):Array.isArray(s.results)?n(s.results):console.warn(" Unexpected invoices format:",s)}catch(s){console.error(" Error fetching invoices:",s)}})()},[]),l.jsxs("div",{className:"p-4 sm:p-6 flex flex-col min-h-screen bg-[var(--bg)] text-[var(--text-1)]",children:[l.jsxs("header",{className:`flex flex-wrap items-center justify-between gap-3 pb-4 border-b 
                   border-zinc-800 sticky top-0 z-30 bg-[var(--bg)]/90 backdrop-blur-sm`,children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-black dark:text-white",children:"Dashboard"}),l.jsx("div",{className:"flex gap-2 flex-wrap justify-end",children:[{key:"summary",label:"Summary",icon:qA},{key:"vendors",label:"Vendors",icon:l3},{key:"general",label:"General",icon:My}].map(({key:s,label:o,icon:c})=>l.jsxs("button",{onClick:()=>t(s),className:`flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-2xl border transition text-sm sm:text-base
                ${e===s?"bg-[#0B5150] text-white border-[#0B5150]":"border-gray-300 bg-white dark:bg-zinc-900 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:[l.jsx(c,{size:18}),o]},s))})]}),l.jsxs("div",{className:"flex-1 mt-6 space-y-6 sm:space-y-8",children:[e==="summary"&&l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[l.jsx("div",{className:"xl:col-span-2 min-h-fit",children:l.jsx(bee,{stats:i})}),l.jsx("div",{className:"xl:col-span-1 min-h-fit",children:l.jsx(Eee,{invoices:r})}),l.jsxs("div",{className:"xl:col-span-3 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(aie,{}),l.jsx(wee,{})," "]}),l.jsx("div",{className:"xl:col-span-3",children:l.jsx(a_,{vendors:a})})]}),e==="vendors"&&l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:[l.jsx(a_,{vendors:a}),l.jsx("div",{className:"rounded-2xl border p-4 sm:p-6 bg-white dark:bg-[#1d1f24] dark:border-gray-700 shadow-sm flex flex-col justify-center items-center text-center",children:l.jsx("p",{className:"text-sm sm:text-base text-zinc-400",children:"Aqu puedes agregar grficos de desempeo, comparativas o totales"})})]}),e==="general"&&l.jsx(sie,{})]})]})}function sie(){return l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-white dark:bg-[#1d1f24] dark:border-zinc-700 shadow-sm p-4 sm:p-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-[#0B5150] text-base sm:text-lg",children:"Recent Activity"}),l.jsxs("ul",{className:"space-y-2 text-sm sm:text-base text-zinc-600 dark:text-zinc-300",children:[l.jsx("li",{children:" 2 new invoices added"}),l.jsx("li",{children:" Project Pool Pump Replacement completed"}),l.jsx("li",{children:" 3 inventory items updated"})]})]}),l.jsxs("div",{className:"rounded-2xl border border-zinc-800 bg-white dark:bg-[#1d1f24] dark:border-zinc-700 shadow-sm p-4 sm:p-6",children:[l.jsx("h3",{className:"font-semibold mb-3 text-[#0B5150] text-base sm:text-lg",children:"Quick Links"}),l.jsx("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-3",children:[{href:"/projects",label:"Projects"},{href:"/inventory",label:"Inventory"},{href:"/vendors",label:"Vendors"},{href:"/invoices",label:"Invoices"}].map(({href:e,label:t})=>l.jsx("a",{href:e,className:"text-center px-4 py-2 rounded-xl border border-zinc-700 hover:bg-zinc-800 dark:hover:bg-zinc-700 transition text-[#0B5150] dark:text-[#5ad5d3] text-sm sm:text-base",children:t},t))})]})]})}function Mo({tone:e="slate",icon:t,children:r,className:n="",...a}){const i={slate:"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-200 dark:hover:bg-slate-800/50",indigo:"border-indigo-300 text-indigo-700 hover:bg-indigo-50 dark:border-indigo-800 dark:text-indigo-300 dark:hover:bg-indigo-950/30",purple:"border-purple-300 text-purple-700 hover:bg-purple-50 dark:border-purple-900 dark:text-purple-300 dark:hover:bg-purple-950/30",amber:"border-amber-300 text-amber-700 hover:bg-amber-50 dark:border-amber-900 dark:text-amber-300 dark:hover:bg-amber-950/30",emerald:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-800 dark:text-emerald-300 dark:hover:bg-emerald-950/30",rose:"border-rose-300 text-rose-700 hover:bg-rose-50 dark:border-rose-900 dark:text-rose-300 dark:hover:bg-rose-950/30"},s=i[e]||i.slate;return l.jsxs("button",{...a,className:"h-8 px-2.5 rounded-xl border inline-flex items-center gap-1.5 text-xs sm:text-sm transition "+s+" "+n,children:[t?l.jsx(t,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):null,l.jsx("span",{className:"whitespace-nowrap",children:r})]})}function oie({task:e,draggable:t,onDragStart:r,onEdit:n,onDelete:a,onOpen:i,onChangeStatus:s}){const o=e!=null&&e.due_date?new Date(e.due_date):null,c=e!=null&&e.last_activity_at?new Date(e.last_activity_at):null,u=String((e==null?void 0:e.status)||"Not Started"),d=x=>{x.currentTarget.classList.add("opacity-60","ring-2","ring-indigo-500/60","scale-[.98]"),r==null||r(x)},f=x=>{x.currentTarget.classList.remove("opacity-60","ring-2","ring-indigo-500/60","scale-[.98]")},h=(x,v)=>{x.stopPropagation(),x.preventDefault(),v&&v(x)},p=(e==null?void 0:e.room)||(e==null?void 0:e.area)||(e==null?void 0:e.floor)||"",g=(e==null?void 0:e.title)||"Untitled",m=()=>u==="Complete"?null:u==="Waiting for Approval"?l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 sm:gap-1.5",children:[l.jsx(Mo,{tone:"emerald",icon:M7,onClick:x=>h(x,()=>s==null?void 0:s("In Progress")),children:"Approved"}),l.jsx(Mo,{tone:"rose",icon:O7,onClick:x=>h(x,()=>s==null?void 0:s("Denied")),children:"Denied"})]}):u==="Not Started"||u==="Paused"?l.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-2 sm:gap-1.5",children:l.jsx(Mo,{tone:"indigo",icon:d0,onClick:x=>h(x,()=>s==null?void 0:s("In Progress")),children:"Start"})}):l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 sm:gap-1.5",children:[l.jsx(Mo,{tone:"purple",icon:r7,onClick:x=>h(x,()=>s==null?void 0:s("Paused")),children:"Pause"}),l.jsx(Mo,{tone:"amber",icon:_z,onClick:x=>h(x,()=>s==null?void 0:s("Waiting for Approval")),children:"Waiting"}),l.jsx(Mo,{tone:"emerald",icon:yd,onClick:x=>h(x,()=>s==null?void 0:s("Complete")),children:"Complete"})]});return l.jsxs("div",{className:`overflow-hidden rounded-xl border border-gray-200 dark:border-slate-700 
                 bg-white dark:bg-slate-900 shadow-sm hover:shadow-md transition cursor-pointer 
                 w-full max-w-full sm:max-w-none`,draggable:t,onDragStart:d,onDragEnd:f,onClick:()=>i&&i(e),role:"button",tabIndex:0,children:[l.jsxs("div",{className:"relative w-full aspect-[4/3] sm:aspect-[16/9] bg-gray-100 dark:bg-slate-800",children:[e.image_url&&l.jsx("img",{src:e.image_url,alt:"",className:"absolute inset-0 w-full h-full object-cover",draggable:!1}),l.jsx("div",{className:"absolute top-2 left-2 text-[10px] sm:text-xs px-2 py-0.5 rounded-full bg-white/90 dark:bg-slate-900/80 border border-gray-200 dark:border-slate-700 text-slate-700 dark:text-slate-200",children:u})]}),l.jsxs("div",{className:"p-2 sm:p-3 md:p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm sm:text-base truncate",children:p?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mr-1",children:p}),g]}):g}),l.jsx("div",{className:"mt-1 text-xs sm:text-sm text-slate-500 dark:text-slate-400 line-clamp-2",children:e.description||""})]}),l.jsx("span",{className:"text-[10px] sm:text-xs px-2 py-0.5 rounded-full bg-gray-100 dark:bg-slate-800 text-gray-700 dark:text-slate-300 shrink-0",children:e.priority||"Medium"})]}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-x-3 gap-y-1 text-[11px] sm:text-xs text-slate-600 dark:text-slate-300",children:[e.workstream&&l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(i3,{className:"w-3.5 h-3.5"})," ",e.workstream]}),l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(o3,{className:"w-3.5 h-3.5"})," ",e.assignee||"Unassigned"]}),o&&l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(FR,{className:"w-3.5 h-3.5"}),o.toLocaleDateString()]}),(e.room||e.floor||e.area)&&l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx(r3,{className:"w-3.5 h-3.5"}),e.room||e.area||"",e.floor?`  ${e.floor}`:""]})]}),l.jsx("div",{className:"mt-2 text-[10px] sm:text-[11px] text-slate-500 dark:text-slate-400",children:e.last_actor?l.jsxs(l.Fragment,{children:["Last update by ",l.jsx("span",{className:"font-medium",children:e.last_actor}),c?`  ${c.toLocaleString(void 0,{hour12:!1})}`:""]}):l.jsxs(l.Fragment,{children:["Created"," ",e.created_at?new Date(e.created_at).toLocaleString(void 0,{hour12:!1}):""]})}),l.jsx(m,{})]})]})}const lie=[{key:"Not Started",color:"bg-gray-100 dark:bg-slate-800 border-gray-200 dark:border-slate-700",accent:"bg-gray-300 dark:bg-slate-500"},{key:"Paused",color:"bg-purple-50/40 dark:bg-purple-950/20 border-purple-200/60 dark:border-purple-900/40",accent:"bg-purple-400 dark:bg-purple-500"},{key:"In Progress",color:"bg-indigo-50 dark:bg-indigo-950/30 border-indigo-200 dark:border-indigo-900",accent:"bg-indigo-400 dark:bg-indigo-500"},{key:"Waiting for Approval",color:"bg-amber-50 dark:bg-amber-950/30 border-amber-200 dark:border-amber-900",accent:"bg-amber-400 dark:bg-amber-500"}];function cie(e=[]){const t={};for(const r of e){const n=r.status||"Not Started";t[n]||(t[n]=[]),t[n].push(r)}return t}function uie({items:e=[],onMove:t,onEdit:r,onDelete:n,onQuickUpdate:a,onOpen:i}){const s=b.useMemo(()=>cie(e),[e]),o=(u,d)=>{const f=u.dataTransfer.getData("text/id");if(!f)return;const h=e.find(p=>String(p.id)===String(f));h&&h.status!==d&&(t==null||t(h,d))},c=(u,d)=>a==null?void 0:a(u,{status:d});return l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-3",children:lie.map(u=>{var d;return l.jsxs("div",{className:`rounded border ${u.color} p-2 min-h-[300px]`,onDragOver:f=>f.preventDefault(),onDrop:f=>o(f,u.key),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`inline-block w-2 h-2 rounded ${u.accent}`}),l.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:u.key})]}),l.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:((d=s[u.key])==null?void 0:d.length)||0})]}),l.jsx("div",{className:"space-y-2",children:(s[u.key]||[]).map(f=>l.jsx(oie,{task:f,draggable:!0,onDragStart:h=>h.dataTransfer.setData("text/id",String(f.id)),onEdit:()=>r==null?void 0:r(f),onDelete:()=>n==null?void 0:n(f.id),onOpen:i,onChangeStatus:h=>c(f.id,h)},f.id))})]},u.key)})})}function die(e=""){switch(e){case"In Progress":return"bg-sky-100 dark:bg-sky-900/50 hover:bg-sky-200 dark:hover:bg-sky-900/60";case"Waiting for Approval":return"bg-amber-100 dark:bg-amber-900/50 hover:bg-amber-200 dark:hover:bg-amber-900/60";case"Complete":return"bg-emerald-100 dark:bg-emerald-900/50 hover:bg-emerald-200 dark:hover:bg-emerald-900/60";case"Not Started":default:return"bg-slate-100 dark:bg-slate-800/60 hover:bg-slate-200 dark:hover:bg-slate-800/70"}}function fie({value:e}){const t={"Not Started":"bg-slate-200 text-slate-800 dark:bg-slate-700 dark:text-slate-100","In Progress":"bg-sky-200 text-sky-900 dark:bg-sky-800 dark:text-sky-100","Waiting for Approval":"bg-amber-200 text-amber-900 dark:bg-amber-900/60 dark:text-amber-100",Paused:"bg-purple-200 text-purple-900 dark:bg-purple-900/60 dark:text-purple-100",Denied:"bg-rose-200 text-rose-900 dark:bg-rose-900/60 dark:text-rose-100",Complete:"bg-emerald-200 text-emerald-900 dark:bg-emerald-900/60 dark:text-emerald-100"};return l.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${t[e]||t["Not Started"]}`,children:e||""})}function hie({items:e=[],onEdit:t,onDelete:r,onQuickUpdate:n,onOpen:a}){return l.jsx("div",{className:"bg-white dark:bg-slate-900 border dark:border-slate-700 rounded-2xl overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left px-4 py-2 w-[90px]",children:"Room"}),l.jsx("th",{className:"text-left px-4 py-2",children:"Title"}),l.jsx("th",{className:"text-left px-4 py-2",children:"Assignee"}),l.jsx("th",{className:"text-left px-4 py-2",children:"Workstream"}),l.jsx("th",{className:"text-left px-4 py-2",children:"Status"}),l.jsx("th",{className:"text-left px-4 py-2",children:"Priority"}),l.jsx("th",{className:"text-left px-4 py-2",children:"Due"}),l.jsx("th",{className:"text-left px-4 py-2 w-[120px]",children:"Actions"})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-200/80 dark:divide-slate-700/80",children:[e.map(i=>l.jsxs("tr",{className:`text-slate-900 dark:text-slate-100 transition-colors cursor-pointer ${die(i.status)}`,onClick:()=>a&&a(i),role:"button",tabIndex:0,onKeyDown:s=>s.key==="Enter"&&a&&a(i),children:[l.jsx("td",{className:"px-4 py-2",children:i.room||""}),l.jsxs("td",{className:"px-4 py-2",children:[l.jsx("div",{className:"font-semibold",children:i.title||""}),l.jsx("div",{className:"text-xs text-slate-700/80 dark:text-slate-200/80 line-clamp-1",children:i.description||""})]}),l.jsx("td",{className:"px-4 py-2",children:i.assignee||""}),l.jsx("td",{className:"px-4 py-2",children:i.workstream||""}),l.jsx("td",{className:"px-4 py-2",children:l.jsx(fie,{value:i.status})}),l.jsx("td",{className:"px-4 py-2",children:l.jsxs("select",{className:"bg-white/80 dark:bg-black/20 border border-gray-300/70 dark:border-slate-600 rounded-2xl px-2 py-1",value:i.priority,onClick:s=>s.stopPropagation(),onChange:s=>n&&n(i.id,{priority:s.target.value}),children:[l.jsx("option",{children:"Low"}),l.jsx("option",{children:"Medium"}),l.jsx("option",{children:"High"})]})}),l.jsx("td",{className:"px-4 py-2",children:i.due_date?new Date(i.due_date).toLocaleDateString():""}),l.jsx("td",{className:"px-4 py-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:s=>{s.stopPropagation(),n&&n(i.id,{status:"Complete"})},className:"px-2 py-1 rounded-2xl border border-emerald-300 dark:border-emerald-700 text-emerald-800 dark:text-emerald-300 hover:bg-emerald-200/70 dark:hover:bg-emerald-800/60",title:"Mark complete",children:l.jsx(yd,{className:"w-4 h-4"})}),l.jsx("button",{onClick:s=>{s.stopPropagation(),t&&t(i)},className:"px-2 py-1 rounded-2xl border border-gray-300 dark:border-slate-600 hover:bg-white/60 dark:hover:bg-white/10",title:"Edit",children:l.jsx(wi,{className:"w-4 h-4"})}),l.jsx("button",{onClick:s=>{s.stopPropagation(),r&&r(i.id)},className:"px-2 py-1 rounded-2xl border border-rose-300 dark:border-rose-800 text-rose-800 dark:text-rose-300 hover:bg-rose-200/70 dark:hover:bg-rose-900/60",title:"Delete",children:l.jsx(Wn,{className:"w-4 h-4"})})]})})]},i.id)),e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"px-3 py-8 text-center text-slate-600 dark:text-slate-300/90",children:"No tasks to display."})})]})]})})})}const H6=24*60*60*1e3,Io=28,Qj=56;function ll(e){const t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function Zj(e,t){return Math.max(0,Math.round((ll(t)-ll(e))/H6))}function pie(e){let t=0;const r=String(e||"");for(let n=0;n<r.length;n++)t=t*31+r.charCodeAt(n)>>>0;return`hsl(${t%360} 70% 50%)`}function mie({items:e=[]}){const t=ll(new Date),r=new Date(t);r.setDate(r.getDate()-3);const n=35,a=b.useMemo(()=>{const o=[];for(let c=0;c<n;c++){const u=new Date(r);u.setDate(r.getDate()+c),o.push(u)}return o},[n]),i=`240px repeat(${n}, ${Io}px)`,s=b.useMemo(()=>({position:"absolute",inset:0,pointerEvents:"none",backgroundImage:`
        repeating-linear-gradient(
          to right,
          var(--grid-day, rgba(100,116,139,18)) 0 1px,
          transparent 1px ${Io}px
        ),
        repeating-linear-gradient(
          to right,
          var(--grid-week, rgba(100,116,139,30)) 0 1.2px,
          transparent 1.2px ${Io*7}px
        ),
        repeating-linear-gradient(
          to right,
          var(--grid-month, rgba(100,116,139,55)) 0 1.6px,
          transparent 1.6px ${Io*30}px
        ),
        repeating-linear-gradient(
          to bottom,
          var(--grid-row, rgba(148,163,184,18)) 0 1px,
          transparent 1px ${Qj}px
        )
      `,backgroundRepeat:"repeat",backgroundPosition:"left top",backgroundSize:"auto 100%",zIndex:1}),[]);return l.jsx("div",{className:"bg-white dark:bg-slate-900 border dark:border-slate-700 rounded p-3",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("div",{className:"min-w-[1000px]",children:[l.jsxs("div",{className:"grid text-xs text-gray-600 dark:text-slate-300",style:{gridTemplateColumns:i},children:[l.jsx("div",{className:"px-2 py-1 font-medium text-slate-700 dark:text-slate-200",children:"Task"}),a.map((o,c)=>l.jsxs("div",{className:`px-0 py-1 text-center ${o.getDay()===0||o.getDay()===6?"bg-gray-50 dark:bg-slate-800/60":"bg-white dark:bg-slate-900"}`,children:[o.getMonth()+1,"/",o.getDate()]},c))]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{style:s}),e.map(o=>{const c=o.created_at?ll(new Date(o.created_at)):ll(new Date),u=o.due_date?ll(new Date(o.due_date)):new Date(c.getTime()+H6),d=Zj(r,c),f=Math.max(1,Zj(c,u)+1),h=pie(o.id??o.title);return l.jsxs("div",{className:"grid items-center border-t dark:border-slate-700",style:{gridTemplateColumns:i,height:Qj},children:[l.jsxs("div",{className:"px-2",children:[l.jsx("div",{className:"font-medium truncate text-slate-900 dark:text-slate-100",children:o.title}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 truncate",children:[o.assignee||"Unassigned","  ",o.workstream||""]})]}),l.jsx("div",{className:"relative h-full",style:{gridColumn:"2 / -1"},children:l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-6 rounded border shadow-sm",style:{left:`${d*Io}px`,width:`${f*Io}px`,background:h,borderColor:"rgba(0,0,0,25)",opacity:.95},title:`${o.title}`})})]},o.id)}),e.length===0&&l.jsx("div",{className:"text-center text-gray-500 dark:text-slate-400 py-6 border-t dark:border-slate-700",children:"No tasks to display."})]})]})})})}const Xg={title:"",description:"",status:"Not Started",priority:"Medium",assignee:"",room:"",floor:"",due_date:"",workstream:"",image_url:""};function gie({open:e,initial:t,onClose:r,onSave:n}){const[a,i]=b.useState(Xg),[s,o]=b.useState(!1),[c,u]=b.useState(!1),d=b.useRef(null);if(b.useEffect(()=>{i(t?{...Xg,...t,due_date:t.due_date?t.due_date.substring(0,10):""}:Xg)},[t]),!e)return null;const f=()=>{const p={...a};p.title.trim()&&(p.due_date?p.due_date=`${p.due_date}T00:00:00`:delete p.due_date,n(p))},h=async p=>{const g=p==null?void 0:p[0];if(g){o(!0);try{const m=await dD(g),x=(m==null?void 0:m.url)||"";i(v=>({...v,image_url:x}))}catch(m){console.error(m),alert("Error uploading file")}finally{o(!1),u(!1)}}};return l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 dark:bg-black/60 backdrop-blur-[2px] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-lg shadow-xl border border-gray-200 dark:border-slate-700",children:[l.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:t!=null&&t.id?"Edit Task":"New Task"}),l.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300",children:l.jsx(Pr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Title"}),l.jsx("input",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.title,onChange:p=>i(g=>({...g,title:p.target.value})),placeholder:"Short task title"})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Description"}),l.jsx("textarea",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",rows:3,value:a.description,onChange:p=>i(g=>({...g,description:p.target.value})),placeholder:"Details, steps, notes..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Status"}),l.jsxs("select",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.status,onChange:p=>i(g=>({...g,status:p.target.value})),children:[l.jsx("option",{children:"Not Started"}),l.jsx("option",{children:"In Progress"}),l.jsx("option",{children:"Waiting for Approval"}),l.jsx("option",{children:"Complete"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Priority"}),l.jsxs("select",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.priority,onChange:p=>i(g=>({...g,priority:p.target.value})),children:[l.jsx("option",{children:"Low"}),l.jsx("option",{children:"Medium"}),l.jsx("option",{children:"High"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:'Assignee (or "All")'}),l.jsx("input",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.assignee,onChange:p=>i(g=>({...g,assignee:p.target.value})),placeholder:'e.g., "All" or a name'})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Workstream / Required by"}),l.jsx("input",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.workstream,onChange:p=>i(g=>({...g,workstream:p.target.value})),placeholder:'e.g., "Fire Inspection"'})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Room"}),l.jsx("input",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.room,onChange:p=>i(g=>({...g,room:p.target.value})),placeholder:"e.g., 305"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Floor"}),l.jsx("input",{className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.floor,onChange:p=>i(g=>({...g,floor:p.target.value})),placeholder:"e.g., 3"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Due Date"}),l.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.due_date,onChange:p=>i(g=>({...g,due_date:p.target.value}))})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm text-slate-600 dark:text-slate-300 mb-1",children:"Photo"}),l.jsxs("div",{className:`border-2 rounded-lg p-4 transition ${c?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-dashed border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-900"}`,onDragOver:p=>{p.preventDefault(),u(!0)},onDragLeave:()=>u(!1),onDrop:p=>{p.preventDefault(),h(p.dataTransfer.files)},onClick:()=>{var p;return(p=d.current)==null?void 0:p.click()},children:[l.jsx("input",{ref:d,type:"file",accept:"image/*",className:"hidden",onChange:p=>h(p.target.files)}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-16 h-16 rounded border border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 flex items-center justify-center overflow-hidden",children:a.image_url?l.jsx("img",{src:a.image_url,alt:"",className:"w-full h-full object-cover"}):l.jsx(Iy,{className:"w-6 h-6 text-gray-400 dark:text-slate-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-200",children:s?"Uploading...":"Click or drag & drop an image"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"JPG, PNG o WEBP"})]}),l.jsxs("button",{type:"button",className:"px-3 py-2 border rounded text-slate-800 dark:text-slate-100 border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700 inline-flex items-center gap-2",onClick:()=>{var p;return(p=d.current)==null?void 0:p.click()},disabled:s,children:[l.jsx(JR,{className:"w-4 h-4"}),s?"Uploading":"Choose file"]})]})]}),l.jsx("input",{className:"mt-2 w-full border rounded px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border-gray-200 dark:border-slate-700",value:a.image_url,onChange:p=>i(g=>({...g,image_url:p.target.value})),placeholder:"/uploads/your-photo.jpg or https://..."})]})]}),l.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-slate-700 flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:r,className:"px-3 py-2 border rounded hover:bg-gray-50 dark:hover:bg-slate-800 border-gray-200 dark:border-slate-700 text-slate-800 dark:text-slate-100",children:"Cancel"}),l.jsx("button",{onClick:f,className:"px-3 py-2 border rounded bg-gray-900 text-white hover:bg-black dark:bg-indigo-600 dark:hover:bg-indigo-700 border-gray-900",disabled:s,children:"Save"})]})]})})}function xie({open:e,task:t,activity:r=[],onClose:n,onEdit:a,onDelete:i,onChangeStatus:s,onPostComment:o}){const[c,u]=b.useState(!1),[d,f]=b.useState(""),[h,p]=b.useState(!1);if(b.useEffect(()=>{if(!e)return;const k=S=>S.key==="Escape"&&(n==null?void 0:n());return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[e,n]),!e||!t)return null;const g=(k,S=!0)=>{if(!k)return"";try{const E=new Date(k);return S?E.toLocaleString(void 0,{hour12:!1}):E.toLocaleDateString()}catch{return String(k)}},m=b.useMemo(()=>[{icon:o3,label:"Assignee",value:t.assignee},{icon:i3,label:"Workstream",value:t.workstream},{icon:xz,label:"Room",value:t.room},{icon:jz,label:"Floor",value:t.floor},{icon:q0,label:"Due",value:g(t.due_date,!1)},{icon:Q0,label:"Created",value:g(t.created_at)},{icon:Q0,label:"Updated",value:g(t.updated_at)}].filter(k=>k.value&&String(k.value).trim()!==""),[t]);async function x(k){const S=await fetch(`/api/tasks/${t.id}/comments`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({body:(k||"").trim()})});if(!S.ok){const E=await S.text().catch(()=>"");throw new Error(`POST /api/tasks/${t.id}/comments -> ${S.status} ${E}`)}return!0}async function v(k){var E;(E=k==null?void 0:k.preventDefault)==null||E.call(k);const S=d.trim();if(S)try{p(!0),o?await o(S):await x(S),f("")}catch(j){console.error(j),alert((j==null?void 0:j.message)||"Failed to post comment.")}finally{p(!1)}}const y=String((t==null?void 0:t.status)||"Not Started");function w(){const k=({tone:S="slate",onClick:E,children:j})=>{const C={slate:"border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-slate-600 dark:text-slate-200 dark:hover:bg-slate-800/50",indigo:"border-indigo-300 text-indigo-700 hover:bg-indigo-50 dark:border-indigo-800 dark:text-indigo-300 dark:hover:bg-indigo-950/30",purple:"border-purple-300 text-purple-700 hover:bg-purple-50 dark:border-purple-900 dark:text-purple-300 dark:hover:bg-purple-950/30",amber:"border-amber-300 text-amber-700 hover:bg-amber-50 dark:border-amber-900 dark:text-amber-300 dark:hover:bg-amber-950/30",emerald:"border-emerald-300 text-emerald-700 hover:bg-emerald-50 dark:border-emerald-800 dark:text-emerald-300 dark:hover:bg-emerald-950/30",rose:"border-rose-300 text-rose-700 hover:bg-rose-50 dark:border-rose-900 dark:text-rose-300 dark:hover:bg-rose-950/30"}[S];return l.jsx("button",{onClick:E,className:"h-9 px-3 rounded-xl border inline-flex items-center gap-1.5 text-sm transition "+C,children:j})};return!s||y==="Complete"?null:y==="Waiting for Approval"?l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(k,{tone:"emerald",onClick:()=>s("In Progress"),children:"Approved"}),l.jsx(k,{tone:"rose",onClick:()=>s("Denied"),children:"Denied"})]}):y==="Not Started"||y==="Paused"?l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:l.jsx(k,{tone:"indigo",onClick:()=>s("In Progress"),children:"Start"})}):l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(k,{tone:"purple",onClick:()=>s("Paused"),children:"Pause"}),l.jsx(k,{tone:"amber",onClick:()=>s("Waiting for Approval"),children:"Waiting"}),l.jsx(k,{tone:"emerald",onClick:()=>s("Complete"),children:"Complete"})]})}return l.jsxs("div",{className:"fixed inset-0 z-50",children:[l.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm",onClick:n}),l.jsx("div",{className:"absolute inset-0 flex items-start justify-center overflow-y-auto p-4 sm:p-6",children:l.jsxs("div",{className:"w-full max-w-5xl overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-2xl dark:border-slate-800 dark:bg-slate-900",children:[l.jsx("div",{className:"relative border-b border-slate-200/80 bg-gradient-to-r from-slate-50 to-white p-4 dark:border-slate-800 dark:from-slate-900 dark:to-slate-900",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h2",{className:"truncate text-xl font-semibold tracking-tight text-slate-900 dark:text-slate-50",children:t.title||"Untitled task"}),l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-[12px]",children:[l.jsx(eN,{tone:"blue",children:t.status||""}),l.jsx(eN,{tone:"rose",children:t.priority||""}),t.last_actor&&l.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["Last update by"," ",l.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:t.last_actor}),t.last_activity_at&&l.jsxs(l.Fragment,{children:["  ",g(t.last_activity_at)]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(vie,{checked:c,onChange:u,label:"Show activity"}),l.jsx("button",{onClick:n,className:"rounded-lg p-2 text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800","aria-label":"Close",children:l.jsx(Pr,{className:"h-5 w-5"})})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 gap-6 p-4 sm:grid-cols-3 sm:p-6",children:[l.jsxs("div",{className:"space-y-4 sm:col-span-1",children:[l.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-slate-50 dark:border-slate-800 dark:bg-slate-800/40",children:t.image_url?l.jsx("img",{src:t.image_url,alt:"",className:"h-56 w-full object-cover"}):l.jsx("div",{className:"flex h-56 items-center justify-center text-sm text-slate-400 dark:text-slate-500",children:"No cover"})}),l.jsx(Rf,{title:"At a glance",children:l.jsx("div",{className:"grid grid-cols-1 gap-2",children:m.map(({icon:k,label:S,value:E})=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(k,{className:"h-4 w-4 text-slate-400"}),l.jsx("span",{className:"text-[12px] font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:S}),l.jsx("span",{className:"truncate text-sm text-slate-900 dark:text-slate-100",children:String(E)})]},S))})})]}),l.jsxs("div",{className:"space-y-4 sm:col-span-2",children:[l.jsx(Rf,{title:"Description",children:l.jsx("p",{className:"break-words whitespace-pre-wrap leading-relaxed text-slate-800 dark:text-slate-200",children:t.description||""})}),l.jsx(Rf,{title:"Comments",children:l.jsxs("form",{onSubmit:v,className:"flex items-start gap-3",children:[l.jsx("div",{className:"h-9 w-9 shrink-0 rounded-full bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-200 grid place-items-center font-semibold",children:(t.assignee||"A").toString().slice(0,1).toUpperCase()}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("textarea",{rows:4,value:d,onChange:k=>f(k.target.value),placeholder:"Write a note or comment",className:"w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/40 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:()=>f(""),className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-800",children:"Clear"}),l.jsxs("button",{type:"submit",disabled:h||!d.trim(),className:"inline-flex items-center gap-1.5 rounded-lg bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700 disabled:opacity-50",children:[l.jsx(Z0,{className:"h-4 w-4"}),"Post Note"]})]})]})]})}),c&&l.jsx(Rf,{title:"Activity",children:l.jsx(yie,{activity:r,fmt:g})})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-slate-200 p-3 dark:border-slate-800",children:[l.jsx(w,{}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a&&l.jsx("button",{onClick:()=>a==null?void 0:a(t),className:"rounded-lg border border-slate-200 px-3 py-2 text-slate-800 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-100 dark:hover:bg-slate-800",children:"Edit"}),i&&l.jsx("button",{onClick:()=>{window.confirm("Delete this task?")&&(i==null||i(t.id))},className:"rounded-lg border border-rose-300 px-3 py-2 text-rose-700 hover:bg-rose-50 dark:border-rose-800 dark:text-rose-300 dark:hover:bg-rose-900/40",children:"Delete"}),l.jsx("button",{onClick:n,className:"rounded-lg border border-slate-200 px-3 py-2 text-slate-800 hover:bg-slate-50 dark:border-slate-700 dark:text-slate-100 dark:hover:bg-slate-800",children:"Close"})]})]})]})})]})}function Rf({title:e,children:t}){return l.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-900",children:[l.jsx("h3",{className:"mb-3 text-sm font-semibold tracking-wide text-slate-900 dark:text-slate-100",children:e}),t]})}function eN({children:e,tone:t="slate"}){const r={slate:"bg-slate-100 text-slate-700 ring-1 ring-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:ring-slate-700",blue:"bg-blue-100 text-blue-700 ring-1 ring-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:ring-blue-700",rose:"bg-rose-100 text-rose-700 ring-1 ring-rose-200 dark:bg-rose-900/40 dark:text-rose-300 dark:ring-rose-700"};return l.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium ${r[t]}`,children:e})}function vie({checked:e,onChange:t,label:r}){return l.jsxs("label",{className:"flex cursor-pointer select-none items-center gap-2",children:[l.jsx("span",{className:"text-[12px] font-medium text-slate-600 dark:text-slate-300",children:r}),l.jsx("span",{role:"switch","aria-checked":e,tabIndex:0,onClick:()=>t(!e),onKeyDown:n=>(n.key==="Enter"||n.key===" ")&&t(!e),className:`relative inline-flex h-6 w-11 items-center rounded-full transition ${e?"bg-indigo-600":"bg-slate-300 dark:bg-slate-600"}`,children:l.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white shadow transition ${e?"translate-x-5":"translate-x-1"}`})})]})}function yie({activity:e=[],fmt:t}){return e!=null&&e.length?l.jsx("ul",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:e.map(r=>l.jsxs("li",{className:"py-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 text-sm",children:[l.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:r.actor||"anonymous"}),l.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[" ",r.action]}),l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[" ",t(r.created_at)]})]}),(r==null?void 0:r.changes)&&Object.keys(r.changes||{}).length>0&&l.jsx("div",{className:"mt-2 grid grid-cols-1 gap-2 sm:grid-cols-2",children:Object.entries(r.changes).map(([n,a])=>l.jsx(bie,{k:n,v:a,fmt:t},n))})]},r.id))}):l.jsx("div",{className:"rounded-md border border-dashed border-slate-300 p-6 text-center text-sm text-slate-500 dark:border-slate-700 dark:text-slate-400",children:"No activity yet"})}function bie({k:e,v:t,fmt:r}){const n=t&&typeof t=="object"&&("old"in t||"new"in t)?t.old:void 0,a=t&&typeof t=="object"&&("old"in t||"new"in t)?t.new:t,i=/date/i.test(e),s=i?r(n):n??"",o=i?r(a):a??"";return l.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-2 dark:border-slate-700 dark:bg-slate-800/50",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:e}),l.jsxs("div",{className:"mt-1 flex flex-wrap gap-2 text-xs",children:[l.jsx("span",{className:"line-through text-slate-500 dark:text-slate-400",children:String(s)}),l.jsx("span",{className:"text-slate-800 dark:text-slate-100",children:String(o)})]})]})}const wie=[{key:"kanban",label:"Board",icon:ZR},{key:"table",label:"Table",icon:T7},{key:"gantt",label:"Gantt",icon:XA}],tN="https://api.getsnova.com";function kie(e,t){if(!t)return e;const r=new URLSearchParams(Object.entries(t).filter(([n,a])=>a!=null&&a!=="")).toString();return r?`${e}?${r}`:e}function _ie(e){return(e==null?void 0:e.api)||(e==null?void 0:e.default)||(e==null?void 0:e.client)||(e==null?void 0:e.request)||(e==null?void 0:e.fetcher)||null}function zc(e){return/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${tN}${e}`:`${tN}/${e.replace(/^\/+/,"")}`}function Sie(){const e=_ie(KA);if(e&&typeof e.get=="function")return{get:(r,n)=>e.get(zc(r),n),post:(r,n,a)=>e.post(zc(r),n,a),put:(r,n,a)=>e.put(zc(r),n,a),delete:(r,n)=>e.delete(zc(r),n)};async function t(r,n){const a=await fetch(zc(r),{credentials:"include",...n,headers:{"Content-Type":"application/json",...n&&n.headers?n.headers:{}}}),s=(a.headers.get("content-type")||"").includes("application/json");if(!a.ok){const o=s?await a.json().catch(()=>({})):await a.text().catch(()=>"");throw new Error(`HTTP ${a.status} ${a.statusText} ${s?JSON.stringify(o):o}`)}return s?a.json():a.text()}return{get:(r,{params:n}={})=>t(kie(r,n),{method:"GET"}),post:(r,n)=>t(r,{method:"POST",body:JSON.stringify(n)}),put:(r,n)=>t(r,{method:"PUT",body:JSON.stringify(n)}),delete:r=>t(r,{method:"DELETE"})}}const Ua=Sie();function Eie(){const[e,t]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState("kanban"),[s,o]=b.useState({q:"",assignee:"",workstream:"",status:"",priority:""}),[c,u]=b.useState(null),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(null),[x,v]=b.useState([]),[y,w]=b.useState(!1);b.useEffect(()=>{k()},[]);const k=()=>Ua.get("/api/tasks/").then(_=>{const N=(_==null?void 0:_.items)||(Array.isArray(_)?_:[]);t(N)}).catch(_=>{console.error("GET /api/tasks/ failed:",_),t([])}),S=async(_,N)=>{await Ua.put(`/api/tasks/${_.id}`,{status:N}).catch(O=>console.error(O)),k()},E=async _=>{c!=null&&c.id?await Ua.put(`/api/tasks/${c.id}`,_).catch(N=>console.error(N)):await Ua.post("/api/tasks/",_).catch(N=>console.error(N)),f(!1),u(null),k()},j=async _=>{await Ua.delete(`/api/tasks/${_}`).catch(N=>console.error(N)),k()},C=async(_,N)=>{await Ua.put(`/api/tasks/${_}`,N).catch(O=>console.error(O)),k()},T=async _=>{m(_),p(!0);try{const N=await Ua.get(`/api/tasks/${_.id}/activity`);v(N.items||(Array.isArray(N)?N:[]))}catch{v([])}},M=b.useMemo(()=>{const{q:_,assignee:N,workstream:O,status:K,priority:I}=s;return(e||[]).filter(Y=>{const G=`${Y.title} ${Y.description||""} ${Y.assignee||""} ${Y.workstream||""}`.toLowerCase();return!(_&&!G.includes(_.toLowerCase())||N&&(Y.assignee||"")!==N||O&&(Y.workstream||"")!==O||K&&(Y.status||"")!==K||I&&(Y.priority||"")!==I)})},[e,s]),D=b.useMemo(()=>{const _=new Set;return e.forEach(N=>N.assignee&&_.add(N.assignee)),Array.from(_)},[e]),A=b.useMemo(()=>{const _=new Set;return e.forEach(N=>N.workstream&&_.add(N.workstream)),Array.from(_)},[e]);return l.jsxs("div",{className:"space-y-3 px-2 sm:px-4",children:[l.jsxs("div",{className:"bg-white/5 dark:bg-slate-900/60 border border-slate-700 rounded-2xl px-3 sm:px-4 py-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Dz,{className:"w-5 h-5 text-gray-400"}),l.jsx("h1",{className:"text-base sm:text-lg font-semibold",children:"To Do"})]}),l.jsx("div",{className:"ml-0 sm:ml-2",children:l.jsx(jie,{value:a,onChange:i,options:wie.map(_=>({value:_.key,label:_.label}))})}),l.jsxs("button",{onClick:()=>{u(null),f(!0)},className:"inline-flex items-center gap-2 h-9 rounded-2xl border border-slate-600 px-3 hover:bg-white/5 text-sm sm:text-base",children:[l.jsx(en,{className:"w-5 h-5"}),l.jsx("span",{children:"Work Order"})]}),l.jsx("a",{href:"/todo/records",className:"inline-flex items-center gap-2 h-9 rounded-2xl border border-slate-600 px-3 hover:bg-white/5 text-sm sm:text-base",children:"Records"}),l.jsx("button",{className:"ml-auto inline-flex items-center justify-center h-9 w-10 rounded-2xl border border-slate-600 hover:bg-white/5",onClick:()=>w(_=>!_),title:"Filters",children:l.jsx(e3,{className:"w-4 h-4"})})]}),y&&l.jsxs("div",{className:"bg-white/5 dark:bg-slate-900/60 border border-slate-700 rounded-2xl px-3 sm:px-4 py-3 grid gap-2 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[l.jsx("input",{placeholder:"Search...",className:"border border-slate-600 bg-transparent rounded-2xl px-3 py-2 min-w-0",value:s.q,onChange:_=>o(N=>({...N,q:_.target.value}))}),l.jsxs("select",{className:"border border-slate-600 bg-transparent rounded-2xl px-3 py-2",value:s.assignee,onChange:_=>o(N=>({...N,assignee:_.target.value})),children:[l.jsx("option",{value:"",children:"All assignees"}),D.map(_=>l.jsx("option",{value:_,children:_},_))]}),l.jsxs("select",{className:"border border-slate-600 bg-transparent rounded-2xl px-3 py-2",value:s.workstream,onChange:_=>o(N=>({...N,workstream:_.target.value})),children:[l.jsx("option",{value:"",children:"All workstreams"}),A.map(_=>l.jsx("option",{value:_,children:_},_))]}),l.jsxs("select",{className:"border border-slate-600 bg-transparent rounded-2xl px-3 py-2",value:s.status,onChange:_=>o(N=>({...N,status:_.target.value})),children:[l.jsx("option",{value:"",children:"All status"}),l.jsx("option",{children:"Not Started"}),l.jsx("option",{children:"Paused"}),l.jsx("option",{children:"In Progress"}),l.jsx("option",{children:"Waiting for Approval"}),l.jsx("option",{children:"Denied"}),l.jsx("option",{children:"Complete"})]}),l.jsxs("select",{className:"border border-slate-600 bg-transparent rounded-2xl px-3 py-2",value:s.priority,onChange:_=>o(N=>({...N,priority:_.target.value})),children:[l.jsx("option",{value:"",children:"All priority"}),l.jsx("option",{children:"Low"}),l.jsx("option",{children:"Medium"}),l.jsx("option",{children:"High"})]})]}),l.jsxs("div",{className:"px-1 sm:px-2 lg:px-4",children:[a==="kanban"&&l.jsx(uie,{items:M,onMove:S,onEdit:_=>{u(_),f(!0)},onDelete:j,onQuickUpdate:C,onOpen:T}),a==="table"&&l.jsx(hie,{items:M,onEdit:_=>{u(_),f(!0)},onDelete:j,onQuickUpdate:C,onOpen:T}),a==="gantt"&&l.jsx(mie,{items:M})]}),d&&l.jsx(gie,{open:d,initial:c,onClose:()=>{f(!1),u(null)},onSave:E}),h&&l.jsx(xie,{open:h,task:g,activity:x,onClose:()=>{p(!1),m(null),v([])},onChangeStatus:_=>{g&&(Ua.put(`/api/tasks/${g.id}`,{status:_}).catch(console.error),m(N=>({...N,status:_})),t(N=>N.map(O=>O.id===g.id?{...O,status:_}:O)))},onEdit:_=>{p(!1),u(_),f(!0)},onDelete:async _=>{await j(_),p(!1),m(null)},onPostComment:async _=>{if(g!=null&&g.id){await Ne(`/api/tasks/${g.id}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({body:(_||"").trim()})});try{const N=await Ua.get(`/api/tasks/${g.id}/activity`);v(N.items||(Array.isArray(N)?N:[]))}catch{}}}})]})}function jie({value:e,onChange:t,options:r}){const[n,a]=b.useState(!1),i=b.useRef(null),s=r.find(c=>c.value===e)||r[0];b.useEffect(()=>{function c(u){i.current&&(i.current.contains(u.target)||a(!1))}return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);function o(c){c.key==="Escape"&&a(!1),(c.key==="Enter"||c.key===" ")&&!n&&(c.preventDefault(),a(!0))}return l.jsxs("div",{ref:i,className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>a(c=>!c),onKeyDown:o,className:"inline-flex items-center gap-2 h-9 rounded-2xl border border-slate-600 px-3 hover:bg-white/5 text-sm sm:text-base","aria-haspopup":"listbox","aria-expanded":n,children:[(s==null?void 0:s.label)||"Select",l.jsx($u,{className:"w-4 h-4 transition-transform "+(n?"rotate-180":"")})]}),n&&l.jsx("div",{role:"listbox",tabIndex:-1,className:"absolute z-50 mt-2 w-40 overflow-hidden rounded-2xl border border-slate-700 bg-slate-900/95 backdrop-blur shadow-xl",children:l.jsx("ul",{className:"py-1 text-sm text-slate-200",children:r.map(c=>{const u=c.value===e;return l.jsx("li",{children:l.jsx("button",{type:"button",onClick:()=>{t(c.value),a(!1)},className:"w-full text-left px-3 py-2 transition "+(u?"bg-indigo-600 text-white":"hover:bg-slate-800"),role:"option","aria-selected":u,children:c.label})},c.value)})})})]})}const Nie={"Not Started":"bg-slate-200 text-slate-700 ring-1 ring-slate-300 dark:bg-slate-800 dark:text-slate-200 dark:ring-slate-700","In Progress":"bg-sky-200 text-sky-900 ring-1 ring-sky-300 dark:bg-sky-900/50 dark:text-sky-200 dark:ring-sky-800","Waiting for Approval":"bg-amber-200 text-amber-900 ring-1 ring-amber-300 dark:bg-amber-900/50 dark:text-amber-200 dark:ring-amber-800",Complete:"bg-emerald-200 text-emerald-900 ring-1 ring-emerald-300 dark:bg-emerald-900/50 dark:text-emerald-200 dark:ring-emerald-800",Paused:"bg-purple-200 text-purple-900 ring-1 ring-purple-300 dark:bg-purple-900/50 dark:text-purple-200 dark:ring-purple-800",Denied:"bg-rose-200 text-rose-900 ring-1 ring-rose-300 dark:bg-rose-900/50 dark:text-rose-200 dark:ring-rose-800"},zf=["Not Started","Paused","In Progress","Waiting for Approval","Denied","Complete"];function Tie(e){if(!e)return"";try{return new Date(e).toLocaleDateString(void 0,{day:"2-digit",month:"short"})}catch{return String(e)}}function Aie({value:e,onChange:t}){const[r,n]=b.useState(!1),[a,i]=b.useState(-1),s=b.useRef(null),o=b.useRef(null),[c,u]=b.useState({top:0,left:0,minWidth:180}),d=zf.includes(e)?e:"Not Started",f=Nie[d]||"bg-slate-200 text-slate-700 ring-1 ring-slate-300 dark:bg-slate-800 dark:text-slate-200 dark:ring-slate-700",h=()=>{const x=s.current;if(!x)return;const v=x.getBoundingClientRect(),y=Math.max(180,v.width+16);let w=v.left,k=v.bottom+6;const S=window.innerWidth-y-8;w>S&&(w=S);const E=260;k+E>window.innerHeight&&(k=Math.max(8,v.top-E-6)),u({top:k,left:w,minWidth:y})};b.useLayoutEffect(()=>{r&&h()},[r]),b.useEffect(()=>{const x=w=>{if(!r)return;const k=o.current,S=s.current;!k||!S||!k.contains(w.target)&&!S.contains(w.target)&&n(!1)},v=()=>r&&h(),y=()=>r&&h();return document.addEventListener("mousedown",x),window.addEventListener("scroll",v,!0),window.addEventListener("resize",y),()=>{document.removeEventListener("mousedown",x),window.removeEventListener("scroll",v,!0),window.removeEventListener("resize",y)}},[r]);function p(x){x.stopPropagation(),n(v=>!v)}function g(x,v){x.stopPropagation(),t==null||t(v),n(!1)}function m(x){if(!r&&(x.key==="Enter"||x.key===" "||x.key==="ArrowDown")){x.preventDefault(),n(!0),i(0);return}if(r){if(x.key==="Escape")n(!1);else if(x.key==="ArrowDown")x.preventDefault(),i(v=>Math.min(v+1,zf.length-1));else if(x.key==="ArrowUp")x.preventDefault(),i(v=>Math.max(v-1,0));else if(x.key==="Enter"){x.preventDefault();const v=zf[a];v&&(t==null||t(v)),n(!1)}}}return l.jsxs(l.Fragment,{children:[l.jsxs("button",{ref:s,type:"button",onClick:p,onKeyDown:m,className:`inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs ${f} hover:brightness-[.97]`,children:[l.jsx("span",{className:"truncate",children:d}),l.jsx($u,{className:"h-4 w-4 opacity-70 transition-transform "+(r?"rotate-180":"")})]}),r&&vp.createPortal(l.jsx("div",{ref:o,style:{position:"fixed",top:`${c.top}px`,left:`${c.left}px`,minWidth:`${c.minWidth}px`,zIndex:9999},onClick:x=>x.stopPropagation(),className:"max-h-[260px] overflow-auto rounded-2xl border border-slate-200 bg-white shadow-xl ring-1 ring-black/5 dark:border-slate-700 dark:bg-slate-900",children:l.jsx("ul",{className:"py-1",children:zf.map((x,v)=>{const y=a===v,w=x===d;return l.jsx("li",{children:l.jsxs("button",{type:"button",role:"option","aria-selected":w,onMouseEnter:()=>i(v),onClick:k=>g(k,x),className:"flex w-full items-center justify-between px-3 py-2 text-left text-xs transition-colors "+(y?"bg-indigo-50 text-slate-900 dark:bg-slate-800":"text-slate-700 hover:bg-slate-50 dark:text-slate-200 dark:hover:bg-slate-800/60"),children:[l.jsx("span",{className:"truncate",children:x}),w&&l.jsx(JA,{className:"h-4 w-4 text-indigo-600"})]})},x)})})}),document.body)]})}function Cie({items:e=[],onEdit:t,onDelete:r,onQuickUpdate:n,onOpen:a}){const[i,s]=b.useState(null);return l.jsx("div",{className:"rounded-2xl border border-slate-400/60 dark:border-slate-700/80 bg-white dark:bg-slate-900",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsx("table",{className:"min-w-full text-sm",children:l.jsxs("tbody",{className:"divide-y divide-slate-300/60 dark:divide-slate-700/70",children:[e.length===0&&l.jsx("tr",{children:l.jsx("td",{className:"px-4 py-10 text-center text-slate-600 dark:text-slate-300",children:"No tasks to display."})}),e.map((o,c)=>{const u=(c%2===0?"bg-slate-50/70 dark:bg-slate-900/40":"bg-white dark:bg-slate-900")+" hover:bg-slate-100 dark:hover:bg-slate-800/60 transition-colors",d=()=>a&&a(o);return l.jsxs("tr",{className:u+" cursor-pointer",onMouseEnter:()=>s(o.id),onMouseLeave:()=>s(null),onClick:d,onKeyDown:f=>f.key==="Enter"&&d(),tabIndex:0,children:[l.jsx("td",{className:"w-16 px-4 py-3 align-middle text-[12px] font-medium text-slate-500 dark:text-slate-400",children:o.room||""}),l.jsx("td",{className:"px-2 py-3 align-middle",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:o.workstream?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-semibold",children:o.workstream}),o.title?l.jsxs(l.Fragment,{children:[" ",l.jsx("span",{className:"font-normal text-slate-600 dark:text-slate-300",children:o.title})]}):null]}):o.title||""}),o.description&&l.jsx("div",{className:"mt-0.5 line-clamp-1 text-[13px] text-slate-600 dark:text-slate-300/90",children:o.description})]})}),l.jsx("td",{className:"px-3 py-3 align-middle text-slate-600 dark:text-slate-300 hidden md:table-cell",children:l.jsxs("span",{className:"text-[13px]",children:["Assigned to"," ",l.jsx("span",{className:"font-medium text-slate-800 dark:text-slate-100",children:o.assignee||""})]})}),l.jsx("td",{className:"px-3 py-3 align-middle whitespace-nowrap",onClick:f=>f.stopPropagation(),children:l.jsx(Aie,{value:o.status||"Not Started",onChange:f=>n&&n(o.id,{status:f})})}),l.jsx("td",{className:"px-3 py-3 align-middle text-right text-[13px] text-slate-600 dark:text-slate-300 hidden sm:table-cell",children:Tie(o.due_date)}),l.jsx("td",{className:"px-3 py-3 align-middle text-right",children:l.jsxs("div",{className:"inline-flex items-center gap-1 transition-opacity "+(i===o.id?"opacity-100":"opacity-0"),onClick:f=>f.stopPropagation(),children:[l.jsx("button",{onClick:()=>n&&n(o.id,{status:"Complete"}),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-emerald-300 text-emerald-800 hover:bg-emerald-100 dark:border-emerald-800 dark:text-emerald-300 dark:hover:bg-emerald-900/50",title:"Mark complete",children:l.jsx(yd,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>t&&t(o),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-slate-300 hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800/70",title:"Edit",children:l.jsx(wi,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>r&&r(o.id),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-rose-300 text-rose-700 hover:bg-rose-100 dark:border-rose-800 dark:text-rose-300 dark:hover:bg-rose-900/50",title:"Delete",children:l.jsx(Wn,{className:"h-4 w-4"})})]})})]},o.id)})]})})})})}const E1="https://api.getsnova.com";function rN(e){return e?/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${E1}${e}`:`${E1}/${e.replace(/^\/+/,"")}`:K6}const K6="data:image/svg+xml;utf8,"+encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='72' height='72' viewBox='0 0 72 72'>
      <rect width='72' height='72' rx='12' fill='#1f2937'/>
      <path d='M22 48l8-10 8 6 10-12 6 7v9H22z' fill='#374151'/>
      <circle cx='28' cy='28' r='6' fill='#374151'/>
    </svg>`);function Pie({loading:e,items:t,onEditItem:r,onDeleteItem:n,onAdjustInline:a}){const[i,s]=b.useState(null),[o,c]=b.useState({key:null,direction:"asc"}),[u,d]=b.useState([]);b.useEffect(()=>{(async()=>{try{const m=await(await fetch(`${E1}/api/vendors`)).json();d(m.items||[])}catch(g){console.error("Error loading vendors:",g)}})()},[]),b.useEffect(()=>{const g=m=>m.key==="Escape"&&s(null);return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]);function f(g){c(m=>{if(m.key===g){const x=m.direction==="asc"?"desc":"asc";return{key:g,direction:x}}return{key:g,direction:"asc"}})}const h=fe.useMemo(()=>o.key?[...t].sort((g,m)=>{const x=g[o.key]??"",v=m[o.key]??"";return typeof x=="number"&&typeof v=="number"?o.direction==="asc"?x-v:v-x:o.direction==="asc"?String(x).localeCompare(String(v)):String(v).localeCompare(String(x))}):t,[t,o]),p="px-4 sm:px-5 py-2.5 border-b border-zinc-200 dark:border-zinc-800";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"relative w-full h-full overflow-x-auto overflow-y-auto rounded-2xl",children:l.jsxs("table",{className:"w-full text-[15px] leading-6 border-separate [border-spacing:0] select-none",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-zinc-100 dark:bg-zinc-900 border-b border-zinc-300 dark:border-zinc-800",children:l.jsx("tr",{children:[{label:"Image",key:null,align:"center"},{label:"Name",key:"name"},{label:"Location",key:"location"},{label:"Part No",key:"part_no"},{label:"Stock",key:"stock",align:"center"},{label:"Minimum",key:"minimum",align:"center"},{label:"Description",key:"description"},{label:"Supplier",key:"supplier"},{label:"Product Link",key:"product_link",align:"center"},{label:"Item ID",key:"item_id"},{label:"Actions",key:null,align:"center"}].map(g=>{const m=o.key===g.key,x=m&&o.direction==="asc"?"":m?"":"";return l.jsx("th",{onClick:()=>g.key&&f(g.key),className:["px-4 sm:px-5 py-3 font-semibold text-zinc-700 dark:text-zinc-200 select-none",g.key?"cursor-pointer":"",g.align==="center"?"text-center":g.align==="right"?"text-right":"text-left"].join(" "),children:l.jsxs("div",{className:`flex ${g.align==="center"?"justify-center":g.align==="right"?"justify-end":"justify-between"} items-center gap-1`,children:[l.jsx("span",{children:g.label}),x&&l.jsx("span",{className:"text-xs opacity-60",children:x})]})},g.label)})})}),l.jsx("tbody",{children:e?l.jsx("tr",{children:l.jsx("td",{colSpan:12,className:"px-4 sm:px-5 py-6 text-center text-zinc-600 dark:text-zinc-400",children:"Loading"})}):h.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:12,className:"px-4 sm:px-5 py-6 text-center text-zinc-600 dark:text-zinc-400",children:"No items to display."})}):h.map((g,m,x)=>{const v=rN(g.image||g.image_url),y=u.find(k=>k.id===g.supplier_id),w=m===x.length-1;return l.jsxs("tr",{className:`text-zinc-800 dark:text-zinc-200 hover:bg-zinc-50 dark:hover:bg-[#1a1a1a] transition ${w?"last:[&>td]:border-b-0":""}`,children:[l.jsx("td",{className:p+" text-center",children:l.jsx("img",{src:v,alt:g.name||"Item",className:"h-16 w-16 object-cover rounded-xl border border-zinc-300 dark:border-zinc-700 bg-zinc-900/40 mx-auto cursor-zoom-in hover:scale-[1.05] transition-transform",onClick:()=>s(v),onError:k=>k.currentTarget.src=K6})}),l.jsx("td",{className:p+" font-semibold",children:g.name||"-"}),l.jsx("td",{className:p,children:g.location||"-"}),l.jsx("td",{className:p,children:g.part_no||"-"}),l.jsx("td",{className:p+" text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{type:"button",className:"p-1 rounded-lg border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:()=>a==null?void 0:a(g,-1),children:l.jsx(Vz,{size:15})}),l.jsx("span",{className:"tabular-nums min-w-[36px] text-center",children:g.stock??0}),l.jsx("button",{type:"button",className:"p-1 rounded-lg border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:()=>a==null?void 0:a(g,1),children:l.jsx(en,{size:15})})]})}),l.jsx("td",{className:p+" text-center tabular-nums",children:g.minimum??0}),l.jsx("td",{className:p+" max-w-[360px] truncate",title:g.description,children:g.description||"-"}),l.jsx("td",{className:p,children:y?l.jsxs("div",{className:"flex items-center gap-2",children:[y.logo_url&&l.jsx("img",{src:rN(y.logo_url),alt:y.name,className:"w-6 h-6 rounded object-cover border border-zinc-700"}),l.jsx("span",{children:y.name})]}):"-"}),l.jsx("td",{className:p+" text-center",children:g.product_link?l.jsx("a",{href:g.product_link,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center w-8 h-8 rounded-full border border-[#0B5150]/50 text-[#0B5150] hover:bg-[#0B5150]/10 dark:text-[#5ad5d3] dark:border-[#0B5150]/60 dark:hover:bg-[#0B5150]/20",children:l.jsx(t3,{size:14})}):"-"}),l.jsx("td",{className:p,children:g.item_id||"-"}),l.jsx("td",{className:p+" text-center",children:l.jsxs("div",{className:"inline-flex justify-center gap-2 flex-wrap",children:[l.jsx("button",{type:"button",className:"px-2 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:()=>r==null?void 0:r(g),children:l.jsx(n3,{size:14})}),l.jsx("button",{type:"button",className:"px-2 py-1 rounded-lg border border-rose-700 text-rose-700 dark:border-rose-800 dark:text-rose-400 hover:bg-rose-50 dark:hover:bg-rose-900/30",onClick:()=>n==null?void 0:n(g),children:l.jsx(Wn,{size:14})})]})})]},g.id)})})]})}),i&&l.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:()=>s(null),children:l.jsxs("div",{className:"relative max-w-5xl max-h-[90vh]",onClick:g=>g.stopPropagation(),children:[l.jsx("button",{onClick:()=>s(null),className:"absolute -top-3 -right-3 bg-zinc-900/80 text-white p-1.5 rounded-full hover:bg-zinc-800",children:l.jsx(Pr,{className:"h-5 w-5"})}),l.jsx("img",{src:i,alt:"Preview",className:"rounded-2xl max-h-[90vh] object-contain shadow-2xl border border-zinc-700/50"})]})})]})}function Oie({open:e,onClose:t,onSubmit:r}){const[n,a]=b.useState(""),[i,s]=b.useState("out"),[o,c]=b.useState([]),[u,d]=b.useState([]),f=b.useRef(null);b.useEffect(()=>{e&&(a(""),s("out"),c([]),d([]),setTimeout(()=>{var x;return(x=f.current)==null?void 0:x.focus()},50))},[e]);const h=(x,v=i)=>{const y=x.split(/[\s,;|]+/g).map(S=>S.trim()).filter(Boolean);c(y);const w=new Map;for(const S of y)w.set(S,(w.get(S)||0)+1);const k=Array.from(w.entries()).map(([S,E])=>({code:S,count:E,delta:v==="in"?E:-E}));d(k)},p=x=>{a(x),h(x)};b.useEffect(()=>{n&&h(n,i)},[i]);const g=u.reduce((x,v)=>x+v.count,0),m=u.length;return e?l.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:l.jsxs("div",{className:"w-full max-w-3xl rounded-2xl bg-white p-5 shadow-xl dark:bg-zinc-900 dark:text-zinc-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Bulk Scan"}),l.jsxs("div",{className:"inline-flex rounded-xl border border-gray-300 dark:border-zinc-700 overflow-hidden",children:[l.jsx("button",{className:`px-3 py-1.5 text-sm ${i==="in"?"bg-blue-600 text-white":"bg-transparent text-gray-700 dark:text-zinc-200"}`,onClick:()=>s("in"),type:"button",children:"IN (Add)"}),l.jsx("button",{className:`px-3 py-1.5 text-sm ${i==="out"?"bg-red-600 text-white":"bg-transparent text-gray-700 dark:text-zinc-200"}`,onClick:()=>s("out"),type:"button",children:"OUT (Subtract)"})]})]}),l.jsxs("label",{className:"block text-sm mb-3",children:[l.jsx("span",{className:"block mb-1",children:"Paste all barcodes (scanner memory dump):"}),l.jsx("textarea",{ref:f,value:n,onChange:x=>p(x.target.value),className:"w-full h-40 rounded-xl border border-gray-300 px-3 py-2 dark:bg-zinc-800 dark:border-zinc-700",placeholder:"Paste codes here..."})]}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-zinc-400 mb-3",children:[l.jsxs("span",{className:"mr-4",children:["Codes parsed: ",l.jsx("b",{children:g})]}),l.jsxs("span",{children:["Unique codes: ",l.jsx("b",{children:m})]})]}),u.length>0&&l.jsx("div",{className:"overflow-auto rounded-xl border border-gray-200 dark:border-zinc-800",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-700 dark:bg-zinc-900/50 dark:text-zinc-300",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Barcode"}),l.jsx("th",{className:"px-3 py-2 text-right font-semibold",children:"Occurrences"}),l.jsx("th",{className:"px-3 py-2 text-right font-semibold",children:"Delta"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-zinc-800",children:u.map(x=>l.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-zinc-800",children:[l.jsx("td",{className:"px-3 py-2 font-mono",children:x.code}),l.jsx("td",{className:"px-3 py-2 text-right tabular-nums",children:x.count}),l.jsx("td",{className:`px-3 py-2 text-right tabular-nums ${x.delta>=0?"text-blue-600":"text-red-600"}`,children:x.delta>=0?`+${x.delta}`:x.delta})]},x.code))})]})}),l.jsxs("div",{className:"mt-5 flex justify-end gap-2",children:[l.jsx("button",{className:"px-3 py-2 rounded-xl border border-gray-300 hover:bg-gray-100 dark:border-zinc-700 dark:hover:bg-zinc-800",onClick:t,type:"button",children:"Cancel"}),l.jsx("button",{disabled:u.length===0,className:"px-3 py-2 rounded-xl border border-blue-300 bg-blue-600 text-white disabled:opacity-50",onClick:()=>{const x=u.map(v=>({barcode:v.code,delta:v.delta}));r==null||r(x,{mode:i}),t==null||t()},type:"button",children:"Process"})]})]})}):null}const Die=`<svg xmlns="http://www.w3.org/2000/svg" width="240" height="180">
     <rect width="100%" height="100%" fill="#111827"/>
     <rect x="8" y="8" width="224" height="164" rx="12" ry="12" fill="#1f2937" stroke="#374151" stroke-width="2"/>
     <text x="50%" y="52%" dominant-baseline="middle" text-anchor="middle"
           fill="#9ca3af" font-size="14" font-family="ui-sans-serif, system-ui">No image</text>
   </svg>`,Mie=`data:image/svg+xml;utf8,${encodeURIComponent(Die)}`;function nN(e){const t=(e||"").trim();return t?/^data:|^blob:|^https?:\/\//i.test(t)?t:t.startsWith("/")?`https://api.getsnova.com${t}`:t:""}function Bf(e){if(e===""||e==null)return;const t=Number(e);return Number.isFinite(t)?t:void 0}function Iie({open:e,item:t,onClose:r,onSubmit:n,onSave:a}){const i=!!(t!=null&&t.id),s=b.useMemo(()=>({name:"",item_id:"",category:"",location:"",stock:"",minimum:"",supplier_id:"",part_no:"",unit_cost:"",product_link:"",image:"",description:""}),[]),[o,c]=b.useState(s),[u,d]=b.useState(null),[f,h]=b.useState(""),[p,g]=b.useState(!1),[m,x]=b.useState(!1),v=b.useRef(null),y=b.useRef(null),[w,k]=b.useState([]);b.useEffect(()=>{async function T(){try{const A=await(await fetch("https://api.getsnova.com/api/vendors/",{credentials:"include"})).json().catch(()=>({})),_=Array.isArray(A==null?void 0:A.items)?A.items:Array.isArray(A)?A:[];k(_.map(N=>({id:N.id,name:N.name||N.company||N.contact_name||`#${N.id}`})))}catch{k([])}}e&&T()},[e]),b.useEffect(()=>{e&&t?(c({name:t.name??"",item_id:t.item_id??"",category:t.category??"",location:t.location??"",stock:t.stock??"",minimum:t.minimum??"",supplier_id:t.supplier_id??"",part_no:t.part_no??"",unit_cost:t.unit_cost??"",product_link:t.product_link??"",image:t.image??t.image_url??t.imageUrl??"",description:t.description??""}),d(null),x(!1)):e&&!t&&(c(s),d(null),x(!1))},[e,t,s]),b.useEffect(()=>{let T="";if(u)T=URL.createObjectURL(u),h(T);else{const M=nN(o.image);h(M||"")}return()=>{T&&URL.revokeObjectURL(T)}},[u,o.image]);const S=i?"Edit Item":"Add Item",E=T=>{const{name:M,value:D}=T.target;c(A=>({...A,[M]:D}))},j=()=>{d(null),h(""),c(T=>({...T,image:""})),x(!1)};b.useEffect(()=>{const T=v.current;if(!T)return;const M=A=>{A.preventDefault(),A.stopPropagation()},D=A=>{var N,O;M(A);const _=(O=(N=A.dataTransfer)==null?void 0:N.files)==null?void 0:O[0];_&&_.type.startsWith("image/")&&(d(_),x(!1))};return T.addEventListener("dragenter",M),T.addEventListener("dragover",M),T.addEventListener("drop",D),()=>{T.removeEventListener("dragenter",M),T.removeEventListener("dragover",M),T.removeEventListener("drop",D)}},[]);const C=async T=>{var D,A,_,N,O,K,I,Y;(D=T==null?void 0:T.preventDefault)==null||D.call(T);const M={name:((A=o.name)==null?void 0:A.trim())||void 0,item_id:((_=o.item_id)==null?void 0:_.trim())||void 0,category:((N=o.category)==null?void 0:N.trim())||void 0,location:((O=o.location)==null?void 0:O.trim())||void 0,stock:Bf(o.stock),minimum:Bf(o.minimum),supplier_id:Bf(o.supplier_id),part_no:((K=o.part_no)==null?void 0:K.trim())||void 0,unit_cost:Bf(o.unit_cost),description:((I=o.description)==null?void 0:I.trim())||void 0,product_link:((Y=o.product_link)==null?void 0:Y.trim())||void 0};try{if(u){g(!0);const G=await dD(u);M.image=G}else o.image&&(M.image=o.image)}catch(G){console.error("Image upload failed:",G),g(!1),alert("Image upload failed.");return}finally{g(!1)}Object.keys(M).forEach(G=>M[G]===void 0&&delete M[G]),n?n(M):a&&a(M)};return e?l.jsxs("div",{className:"fixed inset-0 z-[60]",children:[l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]",onClick:r}),l.jsx("div",{className:"absolute inset-0 flex items-start justify-center overflow-auto p-6",children:l.jsxs("form",{onSubmit:C,className:"relative w-full max-w-5xl bg-white dark:bg-zinc-950 border border-gray-200 dark:border-zinc-800 rounded-2xl shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-zinc-800",children:[l.jsx("h3",{className:"text-lg font-semibold",children:S}),l.jsx("button",{type:"button",onClick:r,className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-zinc-900","aria-label":"Close",title:"Close",children:l.jsx(Pr,{size:18})})]}),l.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-5 gap-5",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-xs font-semibold uppercase text-gray-600 dark:text-gray-300",children:"Image"}),l.jsxs("div",{className:"mt-2 space-y-3",children:[l.jsxs("div",{ref:v,className:"w-full aspect-[4/3] rounded-2xl border-2 border-dashed border-gray-300 dark:border-zinc-700 overflow-hidden bg-gray-50 dark:bg-zinc-900 flex items-center justify-center relative",children:[(f||i)&&!m?l.jsx("img",{src:f||nN(o.image)||Mie,alt:"Preview",className:"w-full h-full object-cover",onError:()=>x(!0)}):l.jsxs("div",{className:"text-center text-gray-400 flex flex-col items-center gap-2",children:[l.jsx(Iy,{}),l.jsx("span",{className:"text-sm",children:"Drop image here"})]}),p&&l.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:l.jsx("div",{className:"px-3 py-1.5 rounded-xl bg-white/90 dark:bg-zinc-900/90 text-sm",children:"Uploading"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{ref:y,type:"file",accept:"image/*",className:"hidden",onChange:T=>{var D;const M=(D=T.target.files)==null?void 0:D[0];M&&(d(M),x(!1))}}),l.jsxs("button",{type:"button",onClick:()=>{var T;return(T=y.current)==null?void 0:T.click()},className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-gray-300 dark:border-zinc-700 hover:bg-gray-100 dark:hover:bg-zinc-900",children:[l.jsx(jp,{size:16}),l.jsx("span",{children:"Choose file"})]}),u||o.image?l.jsxs("button",{type:"button",onClick:j,className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-red-300 hover:bg-red-50 dark:border-red-500/50 dark:hover:bg-red-500/10",title:"Remove image",children:[l.jsx(Wn,{size:16}),l.jsx("span",{children:"Remove"})]}):null]}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG/JPG up to ~10MB. You can drag & drop or choose a file."})]})]}),l.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(Jn,{label:"Name",children:l.jsx("input",{name:"name",value:o.name,onChange:E,className:"inp",placeholder:"Item name"})}),l.jsx(Jn,{label:"Item ID / SKU",children:l.jsx("input",{name:"item_id",value:o.item_id,onChange:E,className:"inp font-mono",placeholder:"SKU-0001"})}),l.jsx(Jn,{label:"Category",children:l.jsx("input",{name:"category",value:o.category,onChange:E,className:"inp",placeholder:"Lights, Tools, "})}),l.jsx(Jn,{label:"Location",children:l.jsx("input",{name:"location",value:o.location,onChange:E,className:"inp",placeholder:"Warehouse A"})}),l.jsx(Jn,{label:"Stock",children:l.jsx("input",{name:"stock",value:o.stock,onChange:E,className:"inp",inputMode:"numeric",placeholder:"0"})}),l.jsx(Jn,{label:"Minimum",children:l.jsx("input",{name:"minimum",value:o.minimum,onChange:E,className:"inp",inputMode:"numeric",placeholder:"0"})}),l.jsx(Jn,{label:"Vendor",children:l.jsxs("select",{name:"supplier_id",value:o.supplier_id??"",onChange:T=>c(M=>({...M,supplier_id:T.target.value===""?"":Number(T.target.value)})),className:"inp",children:[l.jsx("option",{value:"",children:"Select vendor"}),w.map(T=>l.jsx("option",{value:T.id,children:T.name},T.id))]})}),l.jsx(Jn,{label:"Part No",children:l.jsx("input",{name:"part_no",value:o.part_no,onChange:E,className:"inp",placeholder:"PN-1234"})}),l.jsx(Jn,{label:"Unit Cost",children:l.jsx("input",{name:"unit_cost",value:o.unit_cost,onChange:E,className:"inp",inputMode:"decimal",placeholder:"0.00"})}),l.jsx(Jn,{label:"Product Link",full:!0,children:l.jsx("input",{name:"product_link",value:o.product_link,onChange:E,className:"inp",placeholder:"https://"})}),l.jsx(Jn,{label:"Notes / Description",full:!0,children:l.jsx("textarea",{name:"description",value:o.description,onChange:E,rows:4,className:"inp resize-none",placeholder:"Short description"})})]})]}),l.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 dark:border-zinc-800 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-gray-500",children:i?"Editing existing item":"Creating a new item"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-xl border border-gray-300 dark:border-zinc-700 hover:bg-gray-100 dark:hover:bg-zinc-900",children:"Cancel"}),l.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-emerald-300 bg-emerald-600/90 text-white hover:bg-emerald-600 disabled:opacity-60",children:[l.jsx(Ep,{size:16}),l.jsx("span",{children:p?"Uploading":"Save"})]})]})]})]})}),l.jsx("style",{children:`
        .inp {
          width: 100%;
          padding: 0.5rem 0.75rem;
          border-radius: 0.75rem;
          border: 1px solid rgb(209 213 219 / 1);
          background: white;
        }
        :root.dark .inp {
          background: rgb(24 24 27 / 1);
          border-color: rgb(63 63 70 / 1);
          color: white;
        }
        .inp:focus {
          outline: none;
          box-shadow: 0 0 0 3px rgba(16, 185, 129, .25);
          border-color: rgb(16 185 129 / 1);
        }
      `})]}):null}function Jn({label:e,children:t,full:r=!1}){return l.jsxs("div",{className:r?"sm:col-span-2":"",children:[l.jsx("label",{className:"text-xs font-semibold uppercase text-gray-600 dark:text-gray-300",children:e}),l.jsx("div",{className:"mt-1.5",children:t})]})}const j1="https://api.getsnova.com",js=`${j1}/api/inventory/`,Fie=(e,t)=>{if(!t)return e;const r=new URLSearchParams(t).toString();return r?`${e}?${r}`:e};function Lie(e){return(e==null?void 0:e.api)||(e==null?void 0:e.default)||(e==null?void 0:e.client)||(e==null?void 0:e.request)||(e==null?void 0:e.fetcher)||null}function Bc(e){return/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${j1}${e}`:`${j1}/${e.replace(/^\/+/,"")}`}function Rie(){const e=Lie(KA);if(e&&typeof e.get=="function")return{get:(r,n)=>e.get(Bc(r),n),post:(r,n,a)=>e.post(Bc(r),n,a),put:(r,n,a)=>e.put(Bc(r),n,a),delete:(r,n)=>e.delete(Bc(r),n)};async function t(r,n){const a=await fetch(Bc(r),{credentials:"include",...n,headers:{"Content-Type":"application/json",...(n==null?void 0:n.headers)||{}}}),s=(a.headers.get("content-type")||"").includes("application/json");if(!a.ok){const o=s?await a.json().catch(()=>({})):await a.text();throw new Error(`HTTP ${a.status} ${a.statusText} ${JSON.stringify(o)}`)}return s?a.json():a.text()}return{get:(r,{params:n}={})=>t(Fie(r,n),{method:"GET"}),post:(r,n)=>t(r,{method:"POST",body:JSON.stringify(n)}),put:(r,n)=>t(r,{method:"PUT",body:JSON.stringify(n)}),delete:r=>t(r,{method:"DELETE"})}}const Ns=Rie();function zie(){const[e,t]=b.useState([]),[r,n]=b.useState(!1),[a,i]=b.useState(""),[s,o]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(0),x=b.useRef(null),[v,y]=b.useState("auto");b.useEffect(()=>{var N;function A(){var G,q;const O=((G=x.current)==null?void 0:G.offsetHeight)||0,Y=(((q=window.visualViewport)==null?void 0:q.height)||window.innerHeight||800)-O-8;y(`${Y}px`)}A();const _=new ResizeObserver(A);return x.current&&_.observe(x.current),window.addEventListener("resize",A),(N=window.visualViewport)==null||N.addEventListener("resize",A),()=>{var O;_.disconnect(),window.removeEventListener("resize",A),(O=window.visualViewport)==null||O.removeEventListener("resize",A)}},[]),b.useEffect(()=>{(async()=>{try{const A=await Ne("/api/auth/me");A!=null&&A.id&&(X0({user_id:A.id}),localStorage.setItem("user_id",A.id),localStorage.setItem("user_name",A.name||A.email||"Unknown"))}catch(A){console.error(" /api/auth/me failed:",A)}})()},[]);const w=async()=>{n(!0);try{const A=await Ns.get(`${js}`),_=(A==null?void 0:A.data)??A,N=Array.isArray(_)?_:(_==null?void 0:_.items)||[];t(N),m(N.filter(O=>(O.stock??0)<=(O.minimum??0)).length)}catch(A){console.error("GET /api/inventory/ failed:",A),alert("Failed to load items.")}finally{n(!1)}},k=async()=>{n(!0);try{const A=await Ns.get(`${js}lowstock`),_=(A==null?void 0:A.data)??A,N=Array.isArray(_)?_:(_==null?void 0:_.items)||[];t(N),m(N.length)}catch(A){console.error("GET /api/inventory/lowstock failed:",A),alert("Failed to load low stock items.")}finally{n(!1)}};b.useEffect(()=>{w()},[]);const S=b.useMemo(()=>{if(!a.trim())return e;const A=a.toLowerCase();return e.filter(_=>{var N,O;return[_.item_id,_.name,_.category,_.part_no,_.location,_.description,_.supplier,(O=(N=_.supplier_id)==null?void 0:N.toString)==null?void 0:O.call(N)].filter(Boolean).some(K=>String(K).toLowerCase().includes(A))})},[e,a]),E=()=>{o(null),u(!0)},j=A=>{o(A||null),u(!0)},C=async A=>{if(window.confirm(`Delete item "${A.name}" (${A.item_id})? This cannot be undone.`))try{await Ns.delete(`${js}${A.id}`),h?await k():await w()}catch(N){console.error("DELETE failed:",N),alert("Delete failed.")}},T=async(A,_)=>{try{const N=(A.stock||0)+_;if(await Ns.put(`${js}${A.id}`,{stock:N}),h&&N>(A.minimum??0)){const O=e.filter(K=>K.id!==A.id);t(O),m(O.filter(K=>(K.stock??0)<=(K.minimum??0)).length)}else await(h?k():w())}catch(N){console.error("Inline adjust failed:",N),alert("Adjustment failed.")}},M=async A=>{try{s!=null&&s.id?await Ns.put(`${js}${s.id}`,A):await Ns.post(`${js}`,A),u(!1),o(null),await(h?k():w())}catch(_){console.error("Save failed:",_),alert("Save item failed.")}},D=async A=>{var _;try{const N=new Map(e.map(K=>[K.item_id,K])),O=new Map;for(const{barcode:K,delta:I}of A){const Y=N.get(K);if(!Y)continue;const G=O.get(Y.id)||0;O.set(Y.id,G+I)}for(const[K,I]of O.entries()){const G=(((_=e.find(q=>q.id===K))==null?void 0:_.stock)||0)+I;await Ns.put(`${js}${K}`,{stock:G})}f(!1),await(h?k():w())}catch(N){console.error("Bulk adjust failed:",N),alert("Bulk adjust failed.")}};return l.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-transparent",children:[l.jsxs("header",{ref:x,className:`
          sticky top-0 z-30
          bg-white/80 dark:bg-zinc-950/60 supports-[backdrop-filter]:backdrop-blur-sm
          border-b border-zinc-200 dark:border-zinc-800
          px-6 min-h-[64px] py-2
          flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-6
        `,children:[l.jsx("div",{className:"h-[42px] flex items-center",children:l.jsx("h1",{className:"text-2xl font-semibold leading-none text-zinc-900 dark:text-zinc-100",children:"Inventory"})}),l.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-center gap-2 w-full sm:w-auto overflow-x-auto",children:[l.jsx("input",{value:a,onChange:A=>i(A.target.value),placeholder:"Search by name, part no, item ID...",className:`h-[42px] rounded-2xl border px-3 w-full sm:w-[260px] md:w-[320px] flex-shrink-0
              border-zinc-300 bg-white text-zinc-900 placeholder:text-zinc-500
              dark:bg-zinc-900 dark:text-zinc-100 dark:border-zinc-700
              focus:ring-2 focus:ring-[#0B5150]/40 focus:outline-none transition`}),l.jsxs(wp,{to:"/inventory/logs",className:`h-[42px] inline-flex items-center justify-center gap-2 px-4 rounded-2xl border
              border-zinc-300 bg-white text-zinc-800 hover:shadow-sm transition
              dark:bg-zinc-900 dark:text-zinc-200 dark:border-zinc-700`,children:[l.jsx(yz,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Logs"})]}),l.jsxs("button",{className:`relative h-[42px] inline-flex items-center justify-center gap-2 px-4 rounded-2xl border transition
              ${h?"border-red-700 bg-red-700 text-white":"border-zinc-300 bg-white text-zinc-800 hover:shadow-sm dark:bg-zinc-900 dark:text-zinc-200 dark:border-zinc-700"}`,onClick:()=>{h?(p(!1),w()):(p(!0),k())},type:"button",children:[l.jsx(z7,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:h?"Show All":"Low Stock"}),g>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-semibold rounded-full w-5 h-5 flex items-center justify-center",children:g})]}),l.jsxs("button",{className:`h-[42px] inline-flex items-center justify-center gap-2 px-4 rounded-2xl border
              border-zinc-300 bg-white text-zinc-800 hover:shadow-sm transition
              dark:bg-zinc-900 dark:text-zinc-200 dark:border-zinc-700`,onClick:()=>f(!0),children:[l.jsx(d7,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Bulk Scan"})]}),l.jsxs("button",{className:`h-[42px] inline-flex items-center justify-center gap-2 px-4 rounded-2xl border
              border-zinc-300 bg-white text-zinc-800 hover:shadow-sm transition
              dark:bg-zinc-900 dark:text-zinc-200 dark:border-zinc-700`,onClick:E,children:[l.jsx(en,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Add Item"})]})]})]}),l.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-auto border-t border-zinc-200 dark:border-zinc-800 bg-transparent",style:{height:v},children:l.jsx(Pie,{loading:r,items:S,onEditItem:j,onDeleteItem:C,onAdjustInline:T})}),l.jsx(Oie,{open:d,onClose:()=>f(!1),onSubmit:D}),l.jsx(Iie,{open:c,item:s,onClose:()=>{u(!1),o(null)},onSubmit:M,onSave:M})]})}const Bie="https://api.getsnova.com";function $ie(e,t){if(!t)return e;const r=new URLSearchParams(Object.entries(t).filter(([n,a])=>a!=null&&a!=="")).toString();return r?`${e}?${r}`:e}const Uie=[{value:"",label:"All"},{value:"in",label:"In"},{value:"out",label:"Out"},{value:"set",label:"Set"},{value:"create",label:"Create"},{value:"update",label:"Update"},{value:"delete",label:"Delete"}];function Vie(){const[e,t]=b.useState(""),[r,n]=b.useState(""),[a,i]=b.useState(""),[s,o]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState([]),[g,m]=b.useState(""),x=b.useMemo(()=>({item_code:e||void 0,user:r||void 0,action:a||void 0,from:s||void 0,to:c||void 0,sort:"desc",page:1,per_page:50}),[e,r,a,s,c]);async function v(){f(!0),m("");try{const y=$ie(`${Bie}/api/inventory/logs`,x),w=await fetch(y,{credentials:"include"}),k=w.headers.get("content-type")||"";if(!w.ok){const E=await w.text();throw console.error("GET /api/inventory/logs failed:",w.status,E),new Error(`HTTP ${w.status} ${w.statusText}`)}const S=k.includes("application/json")?await w.json():{items:[]};p(Array.isArray(S.items)?S.items:[])}catch(y){console.error(y),m("Failed to load logs."),p([])}finally{f(!1)}}return b.useEffect(()=>{v()},[]),l.jsxs("div",{className:"p-6 space-y-4 page-fade-in text-zinc-900 dark:text-zinc-100",children:[l.jsxs("div",{className:`
          sticky top-0 z-30 py-3 px-4 -mx-4 mb-2 rounded-2xl
          bg-white/75 dark:bg-zinc-950/60 border border-zinc-200 dark:border-zinc-800
          shadow-sm supports-[backdrop-filter]:backdrop-blur-md
        `,children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Inventory Log"}),l.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"View all stock changes, user actions, and updates."})]}),l.jsxs("div",{className:`
          flex flex-wrap items-end gap-3 p-4 rounded-2xl
          bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800
          shadow-sm transition
        `,children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-sm opacity-80",children:"Item Code (SKU)"}),l.jsx("input",{value:e,onChange:y=>t(y.target.value),placeholder:"SKU-0001",className:"rounded-xl border border-zinc-300 px-3 py-2 w-[220px] dark:bg-zinc-900 dark:border-zinc-700"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-sm opacity-80",children:"User (id, email o nombre)"}),l.jsx("input",{value:r,onChange:y=>n(y.target.value),placeholder:"12  |  john@hotel.com  |  John",className:"rounded-xl border border-zinc-300 px-3 py-2 w-[280px] dark:bg-zinc-900 dark:border-zinc-700"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-sm opacity-80",children:"Action"}),l.jsx("select",{value:a,onChange:y=>i(y.target.value),className:"rounded-xl border border-zinc-300 px-3 py-2 w-[160px] dark:bg-zinc-900 dark:border-zinc-700",children:Uie.map(y=>l.jsx("option",{value:y.value,children:y.label},y.value))})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-sm opacity-80",children:"From"}),l.jsx("input",{type:"datetime-local",value:s,onChange:y=>o(y.target.value),className:"rounded-xl border border-zinc-300 px-3 py-2 w-[210px] dark:bg-zinc-900 dark:border-zinc-700"})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-sm opacity-80",children:"To"}),l.jsx("input",{type:"datetime-local",value:c,onChange:y=>u(y.target.value),className:"rounded-xl border border-zinc-300 px-3 py-2 w-[210px] dark:bg-zinc-900 dark:border-zinc-700"})]}),l.jsx("button",{onClick:v,className:`
            h-[42px] inline-flex items-center gap-2 px-4 rounded-xl border border-zinc-300
            bg-white hover:shadow-sm transition
            dark:bg-zinc-900 dark:border-zinc-700
          `,children:"Search"})]}),l.jsx("div",{className:`
          overflow-x-auto rounded-2xl border border-zinc-200 dark:border-zinc-800
          shadow-sm bg-white dark:bg-zinc-900 content-fade-in
        `,children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-zinc-100 dark:bg-zinc-950",children:l.jsxs("tr",{className:"text-left text-zinc-700 dark:text-zinc-300",children:[l.jsx("th",{className:"px-4 py-3",children:"When"}),l.jsx("th",{className:"px-4 py-3",children:"Item"}),l.jsx("th",{className:"px-4 py-3",children:"Action"}),l.jsx("th",{className:"px-4 py-3",children:""}),l.jsx("th",{className:"px-4 py-3",children:"Prev"}),l.jsx("th",{className:"px-4 py-3",children:"New"}),l.jsx("th",{className:"px-4 py-3",children:"User"}),l.jsx("th",{className:"px-4 py-3",children:"Note"})]})}),l.jsx("tbody",{children:d?l.jsx("tr",{children:l.jsx("td",{className:"px-4 py-6 text-center text-zinc-500 dark:text-zinc-400",colSpan:8,children:"Loading..."})}):h.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-4 py-6 text-center text-zinc-500 dark:text-zinc-400",colSpan:8,children:g||"No logs"})}):h.map(y=>l.jsxs("tr",{className:"border-t border-zinc-100 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800/40 transition",children:[l.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:y.created_at?new Date(y.created_at).toLocaleString():""}),l.jsx("td",{className:"px-4 py-2",children:y.item_code}),l.jsx("td",{className:"px-4 py-2 capitalize",children:y.action}),l.jsx("td",{className:"px-4 py-2",children:y.delta??""}),l.jsx("td",{className:"px-4 py-2",children:y.prev_stock??""}),l.jsx("td",{className:"px-4 py-2",children:y.new_stock??""}),l.jsx("td",{className:"px-4 py-2",children:y.user_name||y.user_email||y.user_id||""}),l.jsx("td",{className:"px-4 py-2",children:y.note??""})]},y.id))})]})}),l.jsx("style",{children:`
        .page-fade-in {
          animation: inv-page-fade .25s ease-out;
        }
        .content-fade-in {
          animation: inv-content-rise .28s ease-out;
        }
        @keyframes inv-page-fade {
          from { opacity: 0 }
          to { opacity: 1 }
        }
        @keyframes inv-content-rise {
          from { opacity: 0; transform: translateY(4px) }
          to { opacity: 1; transform: translateY(0) }
        }
      `})]})}const Di="w-full bg-transparent px-3 py-2 text-zinc-900 placeholder-zinc-400 focus:outline-none dark:text-zinc-100 transition-colors duration-150",Wie="absolute inset-0 opacity-0 cursor-pointer";function Hie({open:e,initial:t,onClose:r,onSave:n}){const[a,i]=b.useState(g()),[s,o]=b.useState(null),c=b.useRef(g()),[u,d]=b.useState({company_name:!1,email:!1,web:!1}),[f,h]=b.useState(!1),p=b.useRef(null);b.useEffect(()=>{if(!e)return;const A=t?m(t):g();i(A),c.current=A,o(null),d({company_name:!1,email:!1,web:!1}),h(!1)},[e,t]);function g(){return{id:"",company_name:"",contact_name:"",phone:"",email:"",services:"",comment:"",web:"",logo_url:""}}function m(A){return{id:A.id??"",company_name:A.name||A.company_name||"",contact_name:A.contact_name||"",phone:A.phone||"",email:A.email||"",services:A.services||A.categories||"",comment:A.comment||A.notes||"",web:A.website||A.web||"",logo_url:A.logo_url||A.logo||""}}function x(A,_){i(N=>({...N,[A]:_}))}function v(){return JSON.stringify(a)!==JSON.stringify(c.current)||!!s}function y(){v()&&!window.confirm("Discard changes? Your edits will be lost.")||r==null||r()}function w(A){var N;const _=(N=A.target.files)==null?void 0:N[0];k(_)}function k(A){if(A){if(!A.type.startsWith("image/")){alert("Only image files are allowed (PNG/JPG/SVG)."),p.current&&(p.current.value=""),o(null);return}o(A)}}function S(A){A.preventDefault(),A.stopPropagation(),h(!0)}function E(A){A.preventDefault(),A.stopPropagation(),h(!1)}function j(A){var N,O;A.preventDefault(),A.stopPropagation(),h(!1);const _=(O=(N=A.dataTransfer)==null?void 0:N.files)==null?void 0:O[0];k(_)}const C=aN(a.company_name),T=a.email?Kie(a.email):"",M=a.web?Gie(a.web):"";async function D(A){if(A.preventDefault(),!!aN(a.company_name)||!!T||!!M){d({company_name:!0,email:!0,web:!0});return}let N={id:a.id||void 0,company_name:a.company_name,contact_name:a.contact_name||null,phone:a.phone||null,email:a.email||null,services:a.services||null,comment:a.comment||null,web:a.web||null,logo_url:a.logo_url||null};try{if(s){const O=new FormData;O.append("file",s,s.name);const K=await fetch("/api/uploads",{method:"POST",body:O});if(!K.ok)throw new Error("Upload failed");const I=await K.json();N.logo_url=I.path}n==null||n(N)}catch(O){console.error(" Error uploading logo:",O),alert("Failed to upload logo. Check console for details.")}}return l.jsxs("div",{className:`fixed inset-0 z-50 ${e?"":"pointer-events-none"}`,children:[l.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-[2px] transition-opacity ${e?"opacity-100":"opacity-0"}`,onClick:A=>e&&A.target===A.currentTarget&&y()}),l.jsxs("div",{className:`absolute right-0 top-0 h-full w-full max-w-2xl overflow-y-auto border-l border-zinc-200/60 dark:border-zinc-800
        bg-zinc-50 dark:bg-zinc-950/80 shadow-2xl transform transition-transform ${e?"translate-x-0":"translate-x-full"}`,"aria-hidden":!e,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-zinc-200/60 dark:border-zinc-800 bg-zinc-100/80 dark:bg-zinc-900/80 backdrop-blur px-4 py-3",children:[l.jsx("h3",{className:"text-base font-semibold text-zinc-900 dark:text-zinc-100",children:a.id?"Edit Vendor":"New Vendor"}),l.jsx("button",{onClick:y,className:"rounded-lg p-1.5 text-zinc-700 hover:bg-zinc-200/50 dark:text-zinc-300 dark:hover:bg-zinc-800/60",children:l.jsx(Pr,{className:"h-5 w-5"})})]}),l.jsxs("form",{id:"vendor-form",onSubmit:D,className:"p-4 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[l.jsx(Va,{label:"ID",children:l.jsx(Wa,{children:l.jsx("input",{value:a.id,readOnly:!0,className:Di+" cursor-not-allowed text-zinc-500 dark:text-zinc-400",placeholder:"(auto)"})})}),l.jsxs(Va,{label:"Company Name *",children:[l.jsx(Wa,{status:u.company_name?C?"invalid":"valid":"neutral",children:l.jsx("input",{value:a.company_name,onChange:A=>x("company_name",A.target.value),onBlur:()=>d(A=>({...A,company_name:!0})),className:Di,placeholder:"e.g., American Pool",required:!0})}),u.company_name&&l.jsx(qg,{error:!!C,text:C||"Looks good."})]}),l.jsx(Va,{label:"Logo",className:"md:col-span-2",children:l.jsx(Wa,{noPadding:!0,children:l.jsx("div",{onDragOver:S,onDragEnter:S,onDragLeave:E,onDrop:j,className:`relative flex w-full items-center gap-3 rounded-2xl p-2 transition-all ${f?"ring-2 ring-[#0B5150]/40 border border-[#0B5150]/50 bg-[#0B5150]/5 dark:bg-[#0B5150]/10":"border border-transparent"}`,children:l.jsxs("div",{className:"relative flex w-full items-center gap-3 rounded-xl border border-zinc-300/70 p-2 dark:border-zinc-700/70",children:[l.jsx("span",{className:"inline-flex items-center justify-center rounded-lg bg-zinc-100 p-2 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-300",children:l.jsx(Iy,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-sm text-zinc-700 dark:text-zinc-200",children:"Drag & drop or click to select"}),l.jsx("div",{className:"truncate text-xs text-zinc-500 dark:text-zinc-400",children:s?`${s.name} (${Math.ceil(s.size/1024)} KB)`:a.logo_url?`Existing: ${a.logo_url}`:"No file selected"})]}),l.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:w,className:Wie})]})})})}),l.jsx(Va,{label:"Contact Name",children:l.jsx(Wa,{children:l.jsx("input",{value:a.contact_name,onChange:A=>x("contact_name",A.target.value),className:Di,placeholder:"e.g., Jon Wynes"})})}),l.jsx(Va,{label:"Phone",children:l.jsx(Wa,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(s7,{className:"h-4 w-4 text-zinc-400"}),l.jsx("input",{value:a.phone,onChange:A=>x("phone",A.target.value),className:Di,placeholder:"e.g., 407-555-1234"})]})})}),l.jsxs(Va,{label:"Email",children:[l.jsx(Wa,{status:u.email?T?"invalid":"valid":"neutral",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Rz,{className:"h-4 w-4 text-zinc-400"}),l.jsx("input",{value:a.email,onChange:A=>x("email",A.target.value),onBlur:()=>d(A=>({...A,email:!0})),className:Di,type:"email",placeholder:"vendor@example.com"})]})}),u.email&&a.email&&l.jsx(qg,{error:!!T,text:T||"Looks good."})]}),l.jsx(Va,{label:"Services",children:l.jsx(Wa,{children:l.jsx("input",{value:a.services,onChange:A=>x("services",A.target.value),className:Di,placeholder:"e.g., Pool Services"})})}),l.jsx(Va,{label:"Comment",className:"md:col-span-2",children:l.jsx(Wa,{children:l.jsx("textarea",{rows:4,value:a.comment,onChange:A=>x("comment",A.target.value),className:`${Di} min-h-24 resize-y`,placeholder:"Notes"})})}),l.jsxs(Va,{label:"Web",className:"md:col-span-2",children:[l.jsx(Wa,{status:u.web?M?"invalid":"valid":"neutral",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mz,{className:"h-4 w-4 text-zinc-400"}),l.jsx("input",{value:a.web,onChange:A=>x("web",A.target.value),onBlur:()=>d(A=>({...A,web:!0})),className:Di,placeholder:"https://"})]})}),u.web&&a.web&&l.jsx(qg,{error:!!M,text:M||"Looks good."})]})]}),l.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:y,className:"rounded-xl border border-zinc-300/70 px-4 py-2 text-zinc-700 hover:bg-zinc-100 dark:border-zinc-700/70 dark:text-zinc-300 dark:hover:bg-zinc-800",children:"Cancel"}),l.jsx("button",{type:"submit",className:"rounded-xl border border-[#0B5150] bg-[#0B5150] px-4 py-2 font-medium text-white hover:bg-[#094543] active:scale-[.98] transition-all",children:"Save"})]})]})]})]})}function Va({label:e,children:t,className:r=""}){return l.jsxs("label",{className:`block ${r}`,children:[l.jsx("div",{className:"mb-1 text-sm font-semibold text-zinc-800 dark:text-zinc-200",children:e}),t]})}function Wa({children:e,status:t="neutral",noPadding:r=!1}){const n=t==="valid"?"border-emerald-500 focus-within:ring-2 focus-within:ring-emerald-500/40":t==="invalid"?"border-red-500 focus-within:ring-2 focus-within:ring-red-500/40":"border-zinc-300/60 focus-within:ring-2 focus-within:ring-[#0B5150]/30";return l.jsx("div",{className:`rounded-2xl border bg-white shadow-[0_1px_3px_rgba(0,0,0,0.05)] dark:bg-zinc-900 dark:border-zinc-700 transition-all duration-150 ${n} ${r?"p-0":"p-2"}`,children:e})}function qg({error:e,text:t}){return l.jsx("div",{className:"mt-1 text-xs "+(e?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"),children:t})}function aN(e){return!e||e.trim().length<2?"Company name is required.":""}function Kie(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim())?"":"Invalid email."}function Gie(e){try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"?"":"URL must start with http(s)://"}catch{return"Invalid URL."}}const Yie="flex items-center justify-between gap-3 border-b border-slate-200 bg-white/95 px-4 py-3 backdrop-blur dark:border-white/10 dark:bg-[#1d1f24]/95",Xie="rounded-lg bg-[#083A39] px-4 py-2 text-sm font-medium text-white hover:bg-[#0A4644] focus:outline-none focus:ring-2 focus:ring-[#0B5150]/60 dark:bg-[#09403F] dark:hover:bg-[#0A4644] dark:focus:ring-[#0B5150]/60";function $d({open:e,url:t,title:r="Attachment preview",onClose:n}){if(b.useEffect(()=>{function s(o){o.key==="Escape"&&(n==null||n())}return e&&document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,n]),!e)return null;const a=typeof t=="string"?t.split("/").pop():"";function i(s){s.target===s.currentTarget&&(n==null||n())}return l.jsxs("div",{className:"fixed inset-0 z-[70]",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-[1px]",onClick:i}),l.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[l.jsxs("div",{className:Yie,children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:r}),a?l.jsx("div",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:a}):null]}),l.jsx("button",{type:"button",onClick:n,className:Xie,children:"OK"})]}),l.jsx("div",{className:"flex-1 overflow-hidden bg-slate-100 dark:bg-black",children:l.jsx("iframe",{src:t,className:"h-full w-full bg-white",title:"PDF preview"},t)})]})]})}function f2({title:e,actions:t,children:r}){return l.jsxs("div",{className:"w-full h-full min-h-screen bg-transparent text-zinc-900 dark:text-zinc-100",children:[l.jsxs("header",{className:`
          flex flex-col sm:flex-row sm:items-center sm:justify-between
          gap-3 sm:gap-4
          px-3 sm:px-5 lg:px-8
          pt-4 sm:pt-6
        `,children:[e&&l.jsx("h1",{className:"text-lg sm:text-xl font-semibold tracking-tight text-zinc-900 dark:text-zinc-100",children:e}),t&&l.jsx("div",{className:"flex-shrink-0",children:t})]}),l.jsx("main",{className:`
          w-full
          px-2 sm:px-4 md:px-6 lg:px-8
          pb-6 sm:pb-8
        `,children:r})]})}function qie({columns:e=[],rows:t=[],keyField:r="id",className:n=""}){return l.jsx("div",{className:`dt-loannel-dark rounded-2xl overflow-hidden shadow-[0_1px_3px_rgba(0,0,0,0.05)] dark:shadow-[0_1px_3px_rgba(255,255,255,0.04)] ${n}`,style:{border:"0.5px solid rgba(120,120,120,0.25)"},children:l.jsxs("table",{className:"w-full text-sm border-separate border-spacing-0",children:[l.jsx("thead",{className:"bg-zinc-900 text-zinc-100",children:l.jsx("tr",{children:e.map(a=>l.jsx("th",{className:"text-left font-medium px-4 py-2 whitespace-nowrap",style:{borderBottom:"0.5px solid rgba(255,255,255,0.08)"},children:a.title},a.key))})}),l.jsx("tbody",{className:"bg-white dark:bg-[#1f1f22]",children:t.length>0?t.map((a,i)=>l.jsx("tr",{className:"group transition-colors hover:bg-zinc-100 dark:hover:bg-zinc-800/70",style:{borderBottom:i===t.length-1?"none":"0.5px solid rgba(255,255,255,0.06)"},children:e.map(s=>l.jsx("td",{className:"px-4 py-2 text-zinc-800 dark:text-zinc-200",children:s.render?s.render(a):a[s.key]??""},s.key))},a[r]??i)):l.jsx("tr",{children:l.jsx("td",{colSpan:e.length,className:"px-4 py-6 text-center text-zinc-500 dark:text-zinc-400",children:"No records found."})})})]})})}function Jie(){const e=nr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,s]=b.useState(""),[o,c]=b.useState(""),[u,d]=b.useState(null),[f,h]=b.useState(!1),[p,g]=b.useState(null),m=b.useMemo(()=>t.find(L=>L.id===u)||null,[t,u]),[x,v]=b.useState([]),[y,w]=b.useState([]),[k,S]=b.useState([]),[E,j]=b.useState(!1),[C,T]=b.useState("quotes"),[M,D]=b.useState(""),[A,_]=b.useState(!1);async function N(L=!0){a(!0),s("");try{const X=await Oe.get("/api/vendors/"),ee=Array.isArray(X==null?void 0:X.items)?X.items:Array.isArray(X)?X:[];r(ee),L?ee.length&&u==null?d(ee[0].id):u!=null&&!ee.some(he=>he.id===u)&&d(ee.length?ee[0].id:null):d(ee.length?ee[0].id:null)}catch(X){console.error(X),s("Failed to load vendors.")}finally{a(!1)}}b.useEffect(()=>{N(!1)},[]);const O=b.useMemo(()=>{const L=o.trim().toLowerCase();if(!L)return t;const X=ee=>(ee||"").toString().toLowerCase();return t.filter(ee=>X(ee.name).includes(L)||X(ee.company_name).includes(L)||X(ee.contact_name).includes(L)||X(ee.email).includes(L)||X(ee.phone).includes(L)||X(ee.categories).includes(L))},[t,o]),K=b.useCallback(L=>{if(!O.length)return;const X=O.findIndex(ee=>ee.id===u);if(L.key==="ArrowDown"){L.preventDefault();const ee=X<O.length-1?O[X+1]:O[0];d(ee.id)}else if(L.key==="ArrowUp"){L.preventDefault();const ee=X>0?O[X-1]:O[O.length-1];d(ee.id)}},[O,u]);b.useEffect(()=>(window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)),[K]);const I="px-3 py-1.5 rounded-lg border border-zinc-200/60 dark:border-zinc-700/60 text-zinc-700 dark:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-zinc-800",Y="inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition-all duration-200 shadow-sm hover:shadow-[0_0_8px_rgba(244,63,94,0.3)]";function G({status:L}){const X=(L||"Draft").toString().toLowerCase(),ee=X==="approved"||X==="paid"?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300":X==="rejected"||X==="overdue"?"bg-rose-100 text-rose-800 dark:bg-rose-900/30 dark:text-rose-300":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300";return l.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${ee}`,children:L??""})}function q(L,X=!1){const ee=Number(L||0);return X?`$${ee.toFixed(2)}`:new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(ee)}function ce(L){if(!L)return"";const X=new Date(L);return isNaN(X)?L:X.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function F(L){L&&(D(L),_(!0))}async function z(L){if(window.confirm("Delete this vendor?"))try{await Oe.delete(`/api/vendors/${L}`),await N(!1),d(null)}catch(X){console.error(X),alert("Failed to delete vendor.")}}b.useEffect(()=>{async function L(){if(u)try{j(!0);const[X,ee,he]=await Promise.all([Oe.get(`/api/quotes?vendor_id=${u}`).catch(()=>[]),Oe.get(`/api/invoices?vendor_id=${u}`).catch(()=>[]),Oe.get(`/api/documents?vendor_id=${u}`).catch(()=>[])]),ne=ie=>Array.isArray(ie==null?void 0:ie.items)?ie.items:Array.isArray(ie)?ie:Array.isArray(ie==null?void 0:ie.data)?ie.data:[];v(ne(X)),w(ne(ee)),S(ne(he).filter(ie=>ie.vendor_id===u))}finally{j(!1)}}L()},[u]);const H=b.useMemo(()=>{if(C==="documents")return[{key:"pdf",title:"PDF",render:ee=>l.jsx("button",{onClick:()=>F(ee.file_url||ee.url),className:"inline-flex h-7 w-7 items-center justify-center rounded-full border border-brand/50 text-brand hover:bg-brand/10",children:l.jsx(Aa,{size:14})})},{key:"name",title:"Name",render:ee=>ee.name||ee.filename||"(untitled)"},{key:"description",title:"Description",render:ee=>ee.description||ee.notes||""},{key:"uploaded",title:"Uploaded",render:ee=>ce(ee.uploaded_at||ee.created_at)}];const L=C==="quotes",X=C==="invoices";return[{key:"pdf",title:"PDF",render:ee=>l.jsx("button",{onClick:()=>F(ee.file_url||ee.url),className:"inline-flex h-7 w-7 items-center justify-center rounded-full border border-brand/50 text-brand hover:bg-brand/10",children:l.jsx(Aa,{size:14})})},{key:"status",title:"Status",render:ee=>l.jsx(G,{status:ee.status})},{key:"name",title:L?"Project":"Invoice #",render:ee=>ee.project_name||ee.invoice_number||ee.name||"(untitled)"},{key:"description",title:"Description",render:ee=>ee.description||ee.notes||""},{key:"amount",title:"Amount / Total",align:"right",render:ee=>q(ee.amount||ee.order_total||0,X)}]},[C]);return l.jsxs(f2,{title:"Vendors",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(280px,360px),1fr] gap-4",children:[l.jsxs("aside",{className:"bg-card-day dark:bg-card-dark border border-zinc-200/60 dark:border-zinc-700/60 rounded-2xl shadow-sm flex flex-col h-full",children:[l.jsx("div",{className:"p-3 sm:p-4 border-b border-zinc-200/60 dark:border-zinc-700/60",children:l.jsx("input",{value:o,onChange:L=>c(L.target.value),placeholder:"Search vendor, contact, phone",className:"w-full px-3 py-1.5 rounded-xl text-sm bg-white border border-zinc-300 text-zinc-900 placeholder:text-zinc-500 dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-100 focus:outline-none focus:ring-1 focus:ring-emerald-500/20 focus:border-emerald-600/50"})}),l.jsx("div",{className:"flex-1 overflow-y-auto max-h-[60vh] sm:max-h-[580px] custom-scroll",children:n?l.jsx(iN,{}):i?l.jsx("div",{className:"p-4 text-rose-600 dark:text-rose-400",children:i}):O.length===0?l.jsx("div",{className:"p-4 text-zinc-500 dark:text-zinc-400",children:"No vendors found."}):l.jsx("ul",{className:"divide-y divide-zinc-200/60 dark:divide-zinc-700/60",children:O.map(L=>l.jsxs("li",{onClick:()=>d(L.id),className:`relative px-3 py-3 cursor-pointer group flex items-center gap-3 transition-all ${u===L.id?"bg-brand/15 dark:bg-brand/30 border-l-4":"hover:bg-zinc-100 dark:hover:bg-zinc-800/70"}`,style:u===L.id?{borderLeftColor:"#0B5150"}:{},children:[l.jsx(Zie,{name:L.name||L.company_name||""}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:L.name||L.company_name}),l.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 truncate",children:L.contact_name||""})]}),l.jsxs("div",{className:"hidden sm:flex items-center gap-2 opacity-60 group-hover:opacity-100",children:[l.jsx("button",{type:"button",className:"p-1.5 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800",onClick:X=>{X.stopPropagation(),g(L),h(!0)},children:l.jsx(wi,{className:"h-4 w-4"})}),l.jsx(vd,{className:"h-4 w-4 text-zinc-400"})]})]},L.id))})}),l.jsx("div",{className:"p-4 border-t border-zinc-200/60 dark:border-zinc-700/60",children:l.jsxs("button",{type:"button",onClick:()=>{g(null),h(!0)},className:"w-full h-11 flex items-center justify-center gap-2 rounded-xl bg-[#0B5150] text-white font-medium hover:bg-[#094543] active:scale-[.98]",children:[l.jsx(en,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Add Vendor"})]})})]}),l.jsx("section",{className:"bg-card-day dark:bg-card-dark border border-zinc-200/60 dark:border-zinc-700/60 rounded-2xl shadow-sm flex flex-col",children:m?l.jsxs("div",{className:"p-4 sm:p-6 space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-semibold break-words",children:m.name||m.company_name}),l.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-300 break-words",children:m.contact_name||""})]}),l.jsxs("button",{onClick:()=>z(m.id),className:Y,children:[l.jsx(Wn,{className:"w-4 h-4"})," Delete"]})]}),l.jsx(Qie,{selected:m}),l.jsxs("div",{className:"mt-8 border-t border-zinc-200/60 dark:border-zinc-700/60 pt-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("div",{className:"inline-flex flex-wrap gap-2",children:["quotes","invoices","documents"].map(L=>l.jsx("button",{onClick:()=>T(L),className:`px-3 py-1.5 text-sm rounded-lg transition-all ${C===L?"bg-[#0B5150] text-white":"border border-zinc-200/60 dark:border-zinc-700/60 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`,children:L.charAt(0).toUpperCase()+L.slice(1)},L))}),l.jsx("button",{onClick:()=>e(C==="quotes"?"/quotes":C==="invoices"?"/invoices":"/documents"),className:I,children:"Go to view"})]}),E?l.jsx(iN,{}):l.jsx("div",{className:"dt-loannel-dark rounded-2xl overflow-x-auto border border-zinc-200/60 dark:border-zinc-700/60",children:l.jsx(qie,{columns:H,rows:C==="quotes"?x:C==="invoices"?y:k})})]})]}):l.jsx("div",{className:"p-6 text-zinc-500 dark:text-zinc-400 text-center",children:"Select a vendor from the list."})})]}),l.jsx(Hie,{open:f,initial:p,onClose:()=>{h(!1),g(null)},onSave:async L=>{try{L instanceof FormData?p!=null&&p.id?await Oe.put(`/api/vendors/${p.id}`,L):await Oe.post("/api/vendors/",L):p!=null&&p.id?await Oe.put(`/api/vendors/${p.id}`,L):await Oe.post("/api/vendors/",L),await N(!1),h(!1),g(null)}catch(X){console.error(" Error saving vendor:",X),alert("Failed to save vendor.")}}}),l.jsx($d,{open:A,url:M,onClose:()=>_(!1)})]})}function Qie({selected:e}){const t="https://api.getsnova.com";let r=null;if(e.logo_url){const n=e.logo_url.trim().replace(/ /g,"_");n.startsWith("http")?r=n:n.startsWith("/uploads/")?r=`${t.replace(/\/$/,"")}${n}`:n.startsWith("uploads/")?r=`${t.replace(/\/$/,"")}/${n}`:r=`${t.replace(/\/$/,"")}/${n.replace(/^\//,"")}`}return l.jsx("div",{className:"overflow-hidden rounded-2xl border border-zinc-200/60 dark:border-zinc-700/60 bg-zinc-50 dark:bg-zinc-800/50 shadow-sm",children:l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsx("div",{className:"w-full md:w-[320px] flex items-center justify-center bg-white dark:bg-zinc-900 p-3 sm:p-4",children:r?l.jsx("img",{src:r,alt:"Vendor logo",className:"w-full h-[200px] object-contain rounded-xl border border-zinc-300/60 dark:border-zinc-700/60 bg-white dark:bg-zinc-900 p-2"}):l.jsx("div",{className:"h-[200px] w-full grid place-items-center text-zinc-400 text-sm",children:"No logo"})}),l.jsxs("div",{className:"flex-1 p-4 sm:p-5 grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-3",children:[l.jsx(Fo,{label:"Email",value:e.email||""}),l.jsx(Fo,{label:"Phone",value:e.phone||""}),l.jsx(Fo,{label:"Categories",value:e.categories||e.services||""}),l.jsx(Fo,{label:"Status",value:e.status||"Active"}),l.jsx(Fo,{label:"Address",value:e.address||"",full:!0}),e.notes&&l.jsx(Fo,{label:"Notes",value:e.notes,full:!0})]})]})})}function Fo({label:e,value:t,full:r}){return l.jsxs("div",{className:r?"sm:col-span-2 space-y-1":"space-y-1",children:[l.jsx("div",{className:"text-xs uppercase tracking-wide text-zinc-500 dark:text-zinc-400",children:e}),l.jsx("div",{className:"text-sm text-zinc-900 dark:text-zinc-100 break-words whitespace-pre-wrap",children:t})]})}function Zie({name:e=""}){const t=e.split(" ").slice(0,2).map(r=>r[0]).join("").toUpperCase();return l.jsx("div",{className:"h-9 w-9 rounded-lg bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-100 grid place-items-center font-semibold",children:t||"V"})}function iN(){return l.jsxs("div",{className:"p-4 text-zinc-600 dark:text-zinc-300 flex items-center justify-center gap-2",children:[l.jsx(Sp,{className:"h-4 w-4 animate-spin"}),"Loading"]})}function ese(e){if(e==null||e==="")return"";const t=Number(e);return Number.isNaN(t)?"":`$${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function tse({onRowClick:e,onEdit:t,reloadToken:r,filterQ:n=""}){const[a,i]=b.useState([]),[s,o]=b.useState({}),[c,u]=b.useState(!0),[d,f]=b.useState(""),[h,p]=b.useState(!1),[g,m]=b.useState(""),[x,v]=b.useState("Attachment preview"),[y,w]=b.useState({key:null,direction:"asc"});b.useEffect(()=>{let _=!0;async function N(){try{u(!0),f("");const O=await Ne("/api/quotes/"),K=Array.isArray(O==null?void 0:O.items)?O.items:Array.isArray(O)?O:[];_&&i(K);const I=await Ne("/api/vendors/?per_page=1000"),Y={};((I==null?void 0:I.items)||[]).forEach(G=>{Y[String(G.id)]=G.name||G.company||G.contact_name||`#${G.id}`}),_&&o(Y)}catch(O){console.error(O),_&&f("Failed to load quotes.")}finally{_&&u(!1)}}return N(),()=>{_=!1}},[r]);const k=b.useMemo(()=>a.map(_=>{const N=_.vendor_id!=null?String(_.vendor_id):null,O=N&&s[N]||_.vendor&&(_.vendor.name||_.vendor.company)||"";return{..._,vendor_name:O}}),[a,s]),S=b.useMemo(()=>{const _=n.trim().toLowerCase();if(!_)return k;const N=O=>(O==null?"":String(O)).toLowerCase();return k.filter(O=>N(O.quote_number||O.id).includes(_)||N(O.vendor_name).includes(_)||N(O.status).includes(_)||N(O.amount).includes(_))},[k,n]),E=b.useMemo(()=>y.key?[...S].sort((N,O)=>{const K=N[y.key]??"",I=O[y.key]??"";return typeof K=="number"&&typeof I=="number"?y.direction==="asc"?K-I:I-K:y.direction==="asc"?String(K).localeCompare(String(I)):String(I).localeCompare(String(K))}):S,[S,y]);function j(_){w(N=>{if(N.key===_){const O=N.direction==="asc"?"desc":"asc";return{key:_,direction:O}}return{key:_,direction:"asc"}})}function C(_){return _?/^https?:\/\//i.test(_)||_.startsWith("/")?_:`/${_.replace(/^\/+/,"")}`:""}function T(_){const N=Array.isArray(_.attachments)?_.attachments[0]:_.attachments;if(!N)return;const O=C(N);m(O),v(_.quote_number?`Quote ${_.quote_number}`:"Attachment preview"),p(!0)}async function M(_){if(_!=null&&_.id)try{const N={status:"Approved"};await Ne(`/api/quotes/${_.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),i(O=>O.map(K=>K.id===_.id?{...K,status:"Approved"}:K))}catch(N){console.error("Approve failed:",N),alert("Failed to approve quote.")}}async function D(_){if(!(!(_!=null&&_.id)||!confirm("Delete this quote?")))try{await Ne(`/api/quotes/${_.id}`,{method:"DELETE"}),i(O=>O.filter(K=>K.id!==_.id))}catch(O){console.error("Delete failed:",O),alert("Failed to delete quote.")}}const A="px-4 sm:px-5 py-2.5 border-b border-zinc-200 dark:border-zinc-800";return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-[15px] leading-6 border-separate [border-spacing:0] cursor-default select-none",children:[l.jsx("thead",{className:"bg-zinc-900 sticky top-0 z-10",children:l.jsx("tr",{children:[{label:"Attachment",key:null,align:"center"},{label:"Quote #",key:"quote_number"},{label:"Vendor",key:"vendor_name"},{label:"Amount",key:"amount",align:"left"},{label:"Status",key:"status",align:"center"},{label:"Actions",key:null,align:"center"}].map((_,N,O)=>{const K=y.key===_.key,I=K&&y.direction==="asc"?"":K?"":"";return l.jsx("th",{onClick:()=>_.key&&j(_.key),className:["px-4 sm:px-5 py-3 font-medium text-zinc-300 border-b border-zinc-800 select-none bg-zinc-900",_.key?"cursor-pointer":"",_.align==="center"?"text-center":_.align==="right"?"text-right":"text-left"].join(" "),children:l.jsxs("div",{className:`flex ${_.align==="center"?"justify-center":_.align==="right"?"justify-end":"justify-between"} items-center gap-1`,children:[l.jsx("span",{children:_.label}),I&&l.jsx("span",{className:"text-xs opacity-60",children:I})]})},_.label)})})}),l.jsxs("tbody",{children:[c&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 sm:px-5 py-6 text-center text-zinc-500 dark:text-zinc-400",children:"Loading"})}),!c&&d&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 sm:px-5 py-6 text-center text-rose-600 dark:text-rose-400",children:d})}),!c&&!d&&E.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 sm:px-5 py-6 text-center text-zinc-500 dark:text-zinc-400",children:"No quotes found."})}),!c&&!d&&E.map((_,N,O)=>{const K=N===O.length-1,I=Array.isArray(_.attachments)?C(_.attachments[0]):C(_.attachments||""),Y=String(_.status||"").toLowerCase();return l.jsxs("tr",{className:`bg-transparent text-zinc-800 hover:bg-zinc-50 dark:bg-transparent dark:hover:bg-[#1a1a1a] dark:text-zinc-200 transition ${K?"last:[&>td]:border-b-0":""}`,children:[l.jsx("td",{className:A+" text-center",children:I?l.jsx("button",{type:"button",onClick:()=>T(_),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-zinc-700 bg-transparent text-[#0B5150] hover:bg-zinc-100 dark:text-[#5ad5d3] dark:hover:bg-zinc-800",title:"Open PDF",children:l.jsx(Aa,{size:16})}):l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-zinc-300 text-zinc-400 dark:border-zinc-700 dark:text-zinc-500",children:l.jsx(Aa,{size:16})})}),l.jsx("td",{className:A,children:l.jsxs("div",{className:"inline-flex items-center gap-2",children:[l.jsx(Aa,{className:"h-4 w-4 text-zinc-500"}),l.jsx("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:_.quote_number||`#${_.id}`})]})}),l.jsx("td",{className:A+" text-zinc-700 dark:text-zinc-300",children:_.vendor_name}),l.jsx("td",{className:A+" text-zinc-700 dark:text-zinc-300",children:ese(_.amount)}),l.jsx("td",{className:A+" text-center",children:l.jsx(rse,{value:_.status})}),l.jsx("td",{className:A+" text-center",children:l.jsxs("div",{className:"inline-flex justify-center gap-2 flex-wrap",children:[Y!=="approved"&&l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-emerald-300 bg-transparent text-emerald-700 hover:bg-emerald-50 dark:border-emerald-800 dark:text-emerald-300 dark:hover:bg-emerald-900/30",onClick:()=>M(_),title:"Approve",type:"button",children:[l.jsx(yd,{size:13}),"Approve"]}),l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-zinc-300 bg-transparent text-zinc-800 hover:bg-zinc-100 dark:border-zinc-700 dark:text-zinc-200 dark:hover:bg-zinc-800",onClick:()=>t==null?void 0:t(_),title:"Edit",type:"button",children:[l.jsx(wi,{size:13}),"Edit"]}),I&&l.jsxs("a",{href:I,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-[#0B5150]/40 text-[#0B5150] hover:bg-[#0B5150]/10 dark:border-[#0B5150]/60 dark:text-[#5ad5d3] dark:hover:bg-[#0B5150]/20",title:"Download",children:[l.jsx(rz,{size:13}),"Download"]}),l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-rose-300 bg-transparent text-rose-700 hover:bg-rose-50 dark:border-rose-800 dark:text-rose-300 dark:hover:bg-rose-900/30",onClick:()=>D(_),title:"Delete",type:"button",children:[l.jsx(Wn,{size:13}),"Delete"]})]})})]},_.id)})]})]})}),l.jsx($d,{open:h,url:g,title:x,onClose:()=>p(!1)})]})}function rse({value:e}){const t=String(e||"").toLowerCase(),r={approved:"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:ring-emerald-800",pending:"bg-amber-100 text-amber-800 ring-1 ring-amber-200 dark:bg-amber-900/40 dark:text-amber-300 dark:ring-amber-800",denied:"bg-rose-100 text-rose-800 ring-1 ring-rose-200 dark:bg-rose-900/40 dark:text-rose-300 dark:ring-rose-800",default:"bg-zinc-100 text-zinc-700 ring-1 ring-zinc-200 dark:bg-zinc-800 dark:text-zinc-200 dark:ring-zinc-700"},n=r[t]||r.default;return l.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium ${n}`,children:e||""})}const nse={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.getsnova.com"},ase=["Pending","Approved","Capex Submitted","Denied"],Jg="w-full bg-transparent px-3 py-2 text-zinc-900 placeholder-zinc-400 focus:outline-none dark:text-zinc-100 transition-colors duration-150",ise="absolute inset-0 opacity-0 cursor-pointer";function sse({open:e,initial:t,vendors:r=[],onClose:n,onSaved:a}){const[i,s]=b.useState(y()),[o,c]=b.useState(null),[u,d]=b.useState(!1),f=b.useRef(null),h=b.useRef(y()),[p,g]=b.useState([]),[m,x]=b.useState(!1),v=typeof import.meta<"u"&&nse&&"https://api.getsnova.com"||(typeof window<"u"?window.location.origin.replace(":5173",":5000"):"http://localhost:5000");b.useEffect(()=>{if(!e)return;const I=t?w(t):y();s(I),h.current=I,c(null),d(!1),S()},[e,t]);function y(){return{quote_number:"",vendor_id:"",scope_title:"",amount:"",currency:"USD",status:"Pending",task_id:"",attachments:""}}function w(I){return{quote_number:(I==null?void 0:I.quote_number)||"",vendor_id:String((I==null?void 0:I.vendor_id)??""),scope_title:(I==null?void 0:I.scope_title)||"",amount:(I==null?void 0:I.amount)??"",currency:(I==null?void 0:I.currency)||"USD",status:(I==null?void 0:I.status)||"Pending",task_id:(I==null?void 0:I.task_id)!=null?String(I.task_id):(I==null?void 0:I.linked_task_id)!=null?String(I.linked_task_id):(I==null?void 0:I.linked_project_id)!=null?String(I.linked_project_id):"",attachments:(I==null?void 0:I.attachments)||""}}function k(I,Y){s(G=>({...G,[I]:Y}))}async function S(){try{x(!0);const I=await Ne("/api/tasks/"),G=((I==null?void 0:I.items)||(Array.isArray(I)?I:[])).filter(q=>(q.status||"").toLowerCase()!=="complete");g(G)}catch(I){console.error("GET /api/tasks/ failed:",I),g([])}finally{x(!1)}}function E(){return JSON.stringify(i)!==JSON.stringify(h.current)||!!o}function j(){E()&&!window.confirm("Discard changes? Your edits will be lost.")||n==null||n()}function C(I){var G;const Y=(G=I.target.files)==null?void 0:G[0];T(Y)}function T(I){if(I){if(I.type!=="application/pdf"){alert("Only PDF is allowed."),f.current&&(f.current.value=""),c(null);return}c(I)}}function M(I){I.preventDefault(),I.stopPropagation(),d(!0)}function D(I){I.preventDefault(),I.stopPropagation(),d(!1)}function A(I){var G,q;I.preventDefault(),I.stopPropagation(),d(!1);const Y=(q=(G=I.dataTransfer)==null?void 0:G.files)==null?void 0:q[0];T(Y)}async function _(I){const Y=new FormData;Y.append("file",I,I.name);const G=await fetch(`${v}/api/uploads`,{method:"POST",body:Y,credentials:"include"});if(!G.ok)throw new Error(await G.text());const q=await G.json().catch(()=>({})),ce=q.url||q.path||q.file||q.filename||"";return ce?typeof ce=="string"&&!ce.startsWith("http")&&!ce.startsWith("/uploads/")?`/uploads/${ce.replace(/^\/+/,"")}`:ce:""}async function N(I){I.preventDefault();const Y={...i,vendor_id:i.vendor_id?Number(i.vendor_id):null,amount:i.amount===""?null:Number(i.amount),task_id:i.task_id?Number(i.task_id):null};try{if(o){const q=await _(o);q&&(Y.attachments=q)}const G=t!=null&&t.id?await Ne(`/api/quotes/${t.id}`,{method:"PUT",body:JSON.stringify(Y)}):await Ne("/api/quotes/",{method:"POST",body:JSON.stringify(Y)});a==null||a(G),n==null||n()}catch(G){console.error(G),alert((G==null?void 0:G.message)||"Save failed.")}}const O=b.useMemo(()=>r.map(I=>({value:String(I.id),label:I.name||I.company||`#${I.id}`})),[r]),K=b.useMemo(()=>{const I=G=>{const q=G.room||G.area||"",ce=G.title||`Task #${G.id}`,F=G.status||"";return`${q?`${q}  `:""}${ce}  (${F})    #${G.id}`},Y=p.map(G=>({value:String(G.id),label:I(G)}));return[{value:"",label:" None"},...Y]},[p]);return l.jsxs("div",{className:`fixed inset-0 z-50 ${e?"":"pointer-events-none"}`,children:[l.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-[2px] transition-opacity ${e?"opacity-100":"opacity-0"}`,onClick:I=>e&&I.target===I.currentTarget&&j()}),l.jsxs("div",{className:`absolute right-0 top-0 h-full w-full max-w-2xl overflow-y-auto border-l 
        bg-white shadow-2xl border-zinc-200 dark:border-zinc-800 dark:bg-zinc-900 transform transition-transform
        ${e?"translate-x-0":"translate-x-full"}`,"aria-hidden":!e,children:[l.jsxs("div",{className:`sticky top-0 z-10 flex items-center justify-between border-b bg-white/90 px-4 py-3 
                     backdrop-blur border-zinc-200 dark:border-zinc-800 dark:bg-zinc-900/90`,children:[l.jsx("h3",{className:"text-base font-semibold text-zinc-900 dark:text-zinc-100",children:t!=null&&t.id?"Edit Quote":"New Quote / Estimate"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:j,className:`rounded-xl px-4 py-2 text-zinc-700 border border-zinc-300 bg-white hover:bg-zinc-50
                         dark:text-zinc-300 dark:border-zinc-700 dark:bg-zinc-900 dark:hover:bg-zinc-800`,type:"button",children:"Cancel"}),l.jsx("button",{form:"quote-form",type:"submit",className:"rounded-xl bg-[#0B5150] px-4 py-2 font-medium text-white hover:bg-[#094543] active:scale-[.98] transition",children:"Save"}),l.jsx("button",{onClick:j,className:`rounded-xl p-2 text-zinc-700 border border-zinc-300 bg-white hover:bg-zinc-50
                         dark:text-zinc-300 dark:border-zinc-700 dark:bg-zinc-900 dark:hover:bg-zinc-800`,"aria-label":"Close",type:"button",children:l.jsx(Pr,{className:"h-5 w-5"})})]})]}),l.jsx("form",{id:"quote-form",onSubmit:N,className:"p-5 space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[l.jsx(Ts,{label:"Quote #",children:l.jsx(As,{children:l.jsx("input",{value:i.quote_number,onChange:I=>k("quote_number",I.target.value),className:Jg,placeholder:"e.g., Q-2024-001",required:!0})})}),l.jsx(Ts,{label:"Vendor",children:l.jsx(As,{children:l.jsx(sN,{value:i.vendor_id,onChange:I=>k("vendor_id",I),options:O,placeholder:"Select vendor",emptyLabel:"No vendors"})})}),l.jsx(Ts,{label:"Amount",className:"md:col-span-2",children:l.jsx(As,{children:l.jsxs("div",{className:"flex items-stretch overflow-hidden rounded-xl border border-zinc-300 dark:border-zinc-700",children:[l.jsx("span",{className:"inline-flex items-center px-3 text-zinc-500 dark:text-zinc-400",children:l.jsx(QA,{className:"h-4 w-4"})}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:i.amount,onChange:I=>k("amount",I.target.value),className:Jg,placeholder:"0","aria-label":"Amount"})]})})}),l.jsx(Ts,{label:"Description / Scope",className:"md:col-span-2",children:l.jsx(As,{children:l.jsx("textarea",{rows:5,value:i.scope_title,onChange:I=>k("scope_title",I.target.value),className:`${Jg} min-h-28 resize-y`,placeholder:"Scope summary"})})}),l.jsxs(Ts,{label:"Assign to Task",className:"md:col-span-2",children:[l.jsx(As,{children:l.jsx(sN,{value:i.task_id,onChange:I=>k("task_id",I),options:K,placeholder:m?"Loading tasks":"Select a task",emptyLabel:"No tasks"})}),l.jsxs("div",{className:"mt-1 text-xs text-zinc-500 dark:text-zinc-400",children:["Solo se listan tasks con estado diferente a"," ",l.jsx("span",{className:"font-medium",children:"Complete"}),"."]})]}),l.jsx(Ts,{label:"Quote PDF",className:"md:col-span-2",children:l.jsx(As,{noPadding:!0,children:l.jsx("div",{onDragOver:M,onDragEnter:M,onDragLeave:D,onDrop:A,className:"relative flex w-full items-center gap-3 rounded-2xl p-2 transition-all "+(u?"ring-2 ring-[#0B9C99]/50 border border-[#0B9C99] bg-[#0B9C99]/5 dark:bg-zinc-900/30":"border border-transparent"),role:"button","aria-label":"Drag & drop a PDF, or click to select",children:l.jsxs("div",{className:"relative flex w-full items-center gap-3 rounded-xl border border-zinc-300 p-2 dark:border-zinc-700",children:[l.jsx("span",{className:"inline-flex items-center justify-center rounded-lg bg-zinc-100 p-2 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-300",children:l.jsx(Z0,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-sm text-zinc-700 dark:text-zinc-200",children:"Drag & drop a PDF, or click to select"}),l.jsx("div",{className:"truncate text-xs text-zinc-500 dark:text-zinc-400",children:o?`${o.name} (${Math.ceil(o.size/1024)} KB)`:"No file selected"})]}),l.jsx("input",{ref:f,type:"file",accept:"application/pdf",onChange:C,className:ise})]})})})}),l.jsx(Ts,{label:"Status",className:"md:col-span-2",children:l.jsx(As,{children:l.jsx("div",{className:"flex flex-wrap gap-2",children:ase.map(I=>l.jsx("button",{type:"button",onClick:()=>k("status",I),className:"rounded-xl px-4 py-2 text-sm transition "+(i.status===I?"bg-[#0B5150] text-white":"border border-zinc-300 text-zinc-700 hover:bg-zinc-50 dark:border-zinc-700 dark:text-zinc-300 dark:hover:bg-zinc-800"),"aria-pressed":i.status===I,children:I},I))})})})]})})]})]})}function Ts({label:e,children:t,className:r=""}){return l.jsxs("label",{className:`block ${r}`,children:[l.jsx("div",{className:"mb-1 text-sm font-semibold text-zinc-800 dark:text-zinc-200",children:e}),t]})}function As({children:e,noPadding:t=!1}){return l.jsx("div",{className:`rounded-2xl border bg-white shadow-sm transition-colors duration-150 hover:border-zinc-300 focus-within:ring-2 focus-within:ring-[#0B5150]/10
                  dark:bg-zinc-900 dark:border-zinc-700 dark:hover:border-zinc-600 ${t?"p-0":"p-2"}`,children:e})}function sN({value:e,onChange:t,options:r=[],placeholder:n="Select",emptyLabel:a="No options"}){const[i,s]=b.useState(!1),[o,c]=b.useState(-1),[u,d]=b.useState(""),f=b.useRef(null),h=b.useMemo(()=>{const v=u.trim().toLowerCase();return v?r.filter(y=>{var w;return(w=y.label)==null?void 0:w.toLowerCase().includes(v)}):r},[r,u]),p=b.useMemo(()=>r.find(v=>v.value===String(e)),[r,e]);b.useEffect(()=>{function v(y){f.current&&(f.current.contains(y.target)||s(!1))}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);function g(){s(v=>{const y=!v;return y&&(d(""),c(0)),y})}function m(v){t==null||t(v),s(!1)}function x(v){if(!i&&(v.key==="ArrowDown"||v.key==="Enter"||v.key===" ")){v.preventDefault(),s(!0),d(""),c(0);return}if(i){if(v.key==="Escape")s(!1);else if(v.key==="ArrowDown")v.preventDefault(),c(y=>Math.min(y+1,Math.max(h.length-1,0)));else if(v.key==="ArrowUp")v.preventDefault(),c(y=>Math.max(y-1,0));else if(v.key==="Enter"){v.preventDefault();const y=h[o];y&&m(y.value)}}}return l.jsxs("div",{ref:f,className:"relative",children:[l.jsxs("button",{type:"button",onClick:g,onKeyDown:x,"aria-haspopup":"listbox","aria-expanded":i,className:"flex w-full items-center justify-between rounded-xl px-3 py-2 text-left text-zinc-900 dark:text-zinc-100",children:[l.jsx("span",{className:p?"":"text-zinc-400",children:p?p.label:n}),l.jsx($u,{className:`ml-2 h-4 w-4 text-zinc-400 transition-transform duration-150 ${i?"rotate-180":""}`})]}),i&&l.jsxs("div",{role:"listbox",tabIndex:-1,className:"absolute z-50 mt-2 max-h-64 w-full overflow-auto rounded-2xl border border-zinc-300 bg-white shadow-xl ring-1 ring-black/5 dark:border-zinc-700 dark:bg-zinc-900",children:[l.jsx("div",{className:"sticky top-0 z-10 border-b border-zinc-200 bg-white px-2 py-2 dark:border-zinc-700 dark:bg-zinc-900",children:l.jsx("input",{autoFocus:!0,value:u,onChange:v=>{d(v.target.value),c(0)},placeholder:"Type to filter...",className:"w-full rounded-lg border border-zinc-300 bg-white px-2 py-1.5 text-sm text-zinc-800 placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-[#0B5150]/40 dark:border-zinc-700 dark:bg-zinc-800 dark:text-zinc-100 dark:placeholder-zinc-400"})}),l.jsxs("ul",{className:"py-1",children:[h.length===0&&l.jsx("li",{className:"px-3 py-2 text-sm text-zinc-500 dark:text-zinc-400",children:a}),h.map((v,y)=>{const w=o===y,k=String(e)===v.value;return l.jsx("li",{children:l.jsxs("button",{type:"button",role:"option","aria-selected":k,onMouseEnter:()=>c(y),onClick:()=>m(v.value),className:`flex w-full items-center justify-between px-3 py-2 text-left text-sm transition-colors ${w?"bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-zinc-100":"text-zinc-700 hover:bg-zinc-50 dark:text-zinc-200 dark:hover:bg-zinc-800/60"}`,children:[l.jsx("span",{className:"truncate",children:v.label}),k&&l.jsx(JA,{className:"ml-2 h-4 w-4",style:{color:"#0B9C99"}})]})},v.value)})]})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zh={};zh.version="0.18.5";var G6=1252,ose=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Y6=function(e){ose.indexOf(e)!=-1&&(G6=e)};function lse(){Y6(1252)}var sd=function(e){Y6(e)};function cse(){sd(1200),lse()}var $f=function(t){return String.fromCharCode(t)},oN=function(t){return String.fromCharCode(t)},Bh,Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function od(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=Ki.charAt(i)+Ki.charAt(s)+Ki.charAt(o)+Ki.charAt(c);return t}function xi(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=Ki.indexOf(e.charAt(u++)),s=Ki.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Ki.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Ki.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var $e=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ai=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function po(e){return $e?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function lN(e){return $e?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var sa=function(t){return $e?Ai(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function _m(e){if(typeof ArrayBuffer>"u")return sa(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Ud(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function use(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var pr=$e?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ai(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function dse(e){for(var t=[],r=0,n=e.length+250,a=po(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=po(65535),n=65530)}return t.push(a.slice(0,r)),pr(t)}var gu=/\u0000/g,Uf=/[\u0001-\u0006]/g;function bl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function oa(e,t){var r=""+e;return r.length>=t?r:Et("0",t-r.length)+r}function h2(e,t){var r=""+e;return r.length>=t?r:Et(" ",t-r.length)+r}function $h(e,t){var r=""+e;return r.length>=t?r:r+Et(" ",t-r.length)}function fse(e,t){var r=""+Math.round(e);return r.length>=t?r:Et("0",t-r.length)+r}function hse(e,t){var r=""+e;return r.length>=t?r:Et("0",t-r.length)+r}var cN=Math.pow(2,32);function Lo(e,t){if(e>cN||e<-cN)return fse(e,t);var r=Math.round(e);return hse(r,t)}function Uh(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var uN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Qg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pse(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},dN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mse={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vh(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),o=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=i):(d=u,o=s)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function Vf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=kse(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var X6=new Date(1899,11,31,0,0,0),gse=X6.getTime(),xse=new Date(1900,2,1,0,0,0);function q6(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=xse&&(r+=24*60*60*1e3),(r-(gse+(e.getTimezoneOffset()-X6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function p2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vse(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yse(e){var t=e<0?12:11,r=p2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function bse(e){var t=p2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function wse(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=yse(e):t===10?r=e.toFixed(10).substr(0,12):r=bse(e),p2(vse(r.toUpperCase()))}function N1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):wse(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return cs(14,q6(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function kse(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function _se(e,t,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Qg[r.m-1][1];case 5:return Qg[r.m-1][0];default:return Qg[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return uN[r.q][0];default:return uN[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?oa(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=oa(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?oa(c,u):"";return d}function Gi(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var J6=/%/g;function Sse(e,t,r){var n=t.replace(J6,""),a=t.length-n.length;return ni(e,n,r*Math.pow(10,2*a))+Et("%",a)}function Ese(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ni(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Q6(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Q6(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Z6=/# (\?+)( ?)\/( ?)(\d+)/;function jse(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Et(" ",e[1].length+1+e[4].length):h2(s,e[1].length)+e[2]+"/"+e[3]+oa(o,e[4].length))}function Nse(e,t,r){return r+(t===0?"":""+t)+Et(" ",e[1].length+2+e[4].length)}var e8=/^#*0*\.([0#]+)/,t8=/\).*[0#]/,r8=/\(###\) ###\\?-####/;function Ir(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function fN(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function hN(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Tse(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Ase(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Cn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(t8)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Cn("n",n,r):"("+Cn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ese(e,t,r);if(t.indexOf("%")!==-1)return Sse(e,t,r);if(t.indexOf("E")!==-1)return Q6(t,r);if(t.charCodeAt(0)===36)return"$"+Cn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Lo(c,t.length);if(t.match(/^[#?]+$/))return a=Lo(r,0),a==="0"&&(a=""),a.length>t.length?a:Ir(t.substr(0,t.length-a.length))+a;if(i=t.match(Z6))return jse(i,c,u);if(t.match(/^#+0+$/))return u+Lo(c,t.length-t.indexOf("0"));if(i=t.match(e8))return a=fN(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ir(i[1])).replace(/\.$/,"."+Ir(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Et("0",Ir(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+fN(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Gi(Lo(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Cn(e,t,-r):Gi(""+(Math.floor(r)+Tse(r,i[1].length)))+"."+oa(hN(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Cn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=bl(Cn(e,t.replace(/[\\-]/g,""),r)),s=0,bl(bl(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(r8))return a=Cn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Vh(c,Math.pow(10,s)-1,!1),a=""+u,d=ni("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=$h(o[2],s),d.length<i[4].length&&(d=Ir(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Vh(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?h2(o[1],s)+i[2]+"/"+i[3]+$h(o[2],s):Et(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Lo(r,0),t.length<=a.length?a:Ir(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Ir(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=hN(r,i[1].length),r<0?"-"+Cn(e,t,-r):Gi(Ase(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?oa(0,3-g.length):"")+g})+"."+oa(s,i[1].length);switch(t){case"###,##0.00":return Cn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Gi(Lo(c,0));return p!=="0"?u+p:"";case"###,###.00":return Cn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Cn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Cse(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ni(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Pse(e,t,r){var n=t.replace(J6,""),a=t.length-n.length;return ni(e,n,r*Math.pow(10,2*a))+Et("%",a)}function n8(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+n8(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ka(e,t,r){if(e.charCodeAt(0)===40&&!t.match(t8)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ka("n",n,r):"("+ka("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Cse(e,t,r);if(t.indexOf("%")!==-1)return Pse(e,t,r);if(t.indexOf("E")!==-1)return n8(t,r);if(t.charCodeAt(0)===36)return"$"+ka(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+oa(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ir(t.substr(0,t.length-a.length))+a;if(i=t.match(Z6))return Nse(i,c,u);if(t.match(/^#+0+$/))return u+oa(c,t.length-t.indexOf("0"));if(i=t.match(e8))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ir(i[1])).replace(/\.$/,"."+Ir(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Et("0",Ir(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Gi(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ka(e,t,-r):Gi(""+r)+"."+Et("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ka(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=bl(ka(e,t.replace(/[\\-]/g,""),r)),s=0,bl(bl(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(r8))return a=ka(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Vh(c,Math.pow(10,s)-1,!1),a=""+u,d=ni("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=$h(o[2],s),d.length<i[4].length&&(d=Ir(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Vh(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?h2(o[1],s)+i[2]+"/"+i[3]+$h(o[2],s):Et(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ir(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Ir(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ka(e,t,-r):Gi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?oa(0,3-g.length):"")+g})+"."+oa(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Gi(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return ka(e,t.slice(0,t.lastIndexOf(".")),r)+Ir(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ni(e,t,r){return(r|0)===r?ka(e,t,r):Cn(e,t,r)}function Ose(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var a8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function i8(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Uh(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(a8))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Dse(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",u,d,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Uh(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),g=p==="("||p===")"?p:"t";a[a.length]={t:g,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=Vf(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Vf(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var m={t:o,v:o};if(u==null&&(u=Vf(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),u==null&&m.t==="T")return"";a[a.length]=m,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(a8)){if(u==null&&(u=Vf(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",i8(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,v=0,y;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,c="h",x<1&&(x=1);break;case"s":(y=a[s].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",k;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=_se(a[s].t.charCodeAt(0),a[s].v,u,v),a[s].t="t";break;case"n":case"?":for(k=s+1;a[k]!=null&&((o=a[k].t)==="?"||o==="D"||(o===" "||o==="t")&&a[k+1]!=null&&(a[k+1].t==="?"||a[k+1].t==="t"&&a[k+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[k].v==="/"||a[k].v===" "&&a[k+1]!=null&&a[k+1].t=="?"));)a[s].v+=a[k].v,a[k]={v:"",t:";"},++k;w+=a[s].v,s=k-1;break;case"G":a[s].t="t",a[s].v=N1(t,r);break}var S="",E,j;if(w.length>0){w.charCodeAt(0)==40?(E=t<0&&w.charCodeAt(0)===45?-t:t,j=ni("n",w,E)):(E=t<0&&n>1?-t:t,j=ni("n",w,E),E<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),k=j.length-1;var C=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){C=s;break}var T=a.length;if(C===a.length&&j.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(k>=a[s].v.length-1?(k-=a[s].v.length,a[s].v=j.substr(k+1,a[s].v.length)):k<0?a[s].v="":(a[s].v=j.substr(0,k+1),k=-1),a[s].t="t",T=s);k>=0&&T<a.length&&(a[T].v=j.substr(0,k+1)+a[T].v)}else if(C!==a.length&&j.indexOf("E")===-1){for(k=j.indexOf(".")-1,s=C;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===C?a[s].v.indexOf(".")-1:a[s].v.length-1,S=a[s].v.substr(d+1);d>=0;--d)k>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(S=j.charAt(k--)+S);a[s].v=S,a[s].t="t",T=s}for(k>=0&&T<a.length&&(a[T].v=j.substr(0,k+1)+a[T].v),k=j.indexOf(".")+1,s=C;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==C)){for(d=a[s].v.indexOf(".")>-1&&s===C?a[s].v.indexOf(".")+1:0,S=a[s].v.substr(0,d);d<a[s].v.length;++d)k<j.length&&(S+=j.charAt(k++));a[s].v=S,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(E=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=ni(a[s].t,a[s].v,E),a[s].t="t");var M="";for(s=0;s!==a.length;++s)a[s]!=null&&(M+=a[s].v);return M}var pN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mN(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Mse(e,t){var r=Ose(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(pN),o=r[1].match(pN);return mN(t,s)?[n,r[0]]:mN(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function cs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:jt)[e],n==null&&(n=r.table&&r.table[dN[e]]||jt[dN[e]]),n==null&&(n=mse[e]||"General");break}if(Uh(n,0))return N1(t,r);t instanceof Date&&(t=q6(t,r.date1904));var a=Mse(n,t);if(Uh(a[1]))return N1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Dse(a[1],t,r,a[0])}function s8(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(jt[r]==null){t<0&&(t=r);continue}if(jt[r]==e){t=r;break}}t<0&&(t=391)}return jt[t]=e,t}function Sm(e){for(var t=0;t!=392;++t)e[t]!==void 0&&s8(e[t],t)}function Em(){jt=pse()}var o8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ise(e){var t=typeof e=="number"?jt[e]:e;return t=t.replace(o8,"(\\d+)"),new RegExp("^"+t+"$")}function Fse(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(o8)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":c=p;break;case"m":s>=0?o=p:a=p;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var Lse=function(){var e={};e.version="1.2.0";function t(){for(var j=0,C=new Array(256),T=0;T!=256;++T)j=T,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,C[T]=j;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(j){var C=0,T=0,M=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)D[M]=j[M];for(M=0;M!=256;++M)for(T=j[M],C=256+M;C<4096;C+=256)T=D[C]=T>>>8^j[T&255];var A=[];for(M=1;M!=16;++M)A[M-1]=typeof Int32Array<"u"?D.subarray(M*256,M*256+256):D.slice(M*256,M*256+256);return A}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],p=a[8],g=a[9],m=a[10],x=a[11],v=a[12],y=a[13],w=a[14];function k(j,C){for(var T=C^-1,M=0,D=j.length;M<D;)T=T>>>8^r[(T^j.charCodeAt(M++))&255];return~T}function S(j,C){for(var T=C^-1,M=j.length-15,D=0;D<M;)T=w[j[D++]^T&255]^y[j[D++]^T>>8&255]^v[j[D++]^T>>16&255]^x[j[D++]^T>>>24]^m[j[D++]]^g[j[D++]]^p[j[D++]]^h[j[D++]]^f[j[D++]]^d[j[D++]]^u[j[D++]]^c[j[D++]]^o[j[D++]]^s[j[D++]]^i[j[D++]]^r[j[D++]];for(M+=15;D<M;)T=T>>>8^r[(T^j[D++])&255];return~T}function E(j,C){for(var T=C^-1,M=0,D=j.length,A=0,_=0;M<D;)A=j.charCodeAt(M++),A<128?T=T>>>8^r[(T^A)&255]:A<2048?(T=T>>>8^r[(T^(192|A>>6&31))&255],T=T>>>8^r[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,_=j.charCodeAt(M++)&1023,T=T>>>8^r[(T^(240|A>>8&7))&255],T=T>>>8^r[(T^(128|A>>2&63))&255],T=T>>>8^r[(T^(128|_>>6&15|(A&3)<<4))&255],T=T>>>8^r[(T^(128|_&63))&255]):(T=T>>>8^r[(T^(224|A>>12&15))&255],T=T>>>8^r[(T^(128|A>>6&63))&255],T=T>>>8^r[(T^(128|A&63))&255]);return~T}return e.table=r,e.bstr=k,e.buf=S,e.str=E,e}(),Ye=function(){var t={};t.version="1.2.1";function r(P,U){for(var R=P.split("/"),B=U.split("/"),V=0,W=0,Q=Math.min(R.length,B.length);V<Q;++V){if(W=R[V].length-B[V].length)return W;if(R[V]!=B[V])return R[V]<B[V]?-1:1}return R.length-B.length}function n(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:n(P.slice(0,-1));var U=P.lastIndexOf("/");return U===-1?P:P.slice(0,U+1)}function a(P){if(P.charAt(P.length-1)=="/")return a(P.slice(0,-1));var U=P.lastIndexOf("/");return U===-1?P:P.slice(U+1)}function i(P,U){typeof U=="string"&&(U=new Date(U));var R=U.getHours();R=R<<6|U.getMinutes(),R=R<<5|U.getSeconds()>>>1,P.write_shift(2,R);var B=U.getFullYear()-1980;B=B<<4|U.getMonth()+1,B=B<<5|U.getDate(),P.write_shift(2,B)}function s(P){var U=P.read_shift(2)&65535,R=P.read_shift(2)&65535,B=new Date,V=R&31;R>>>=5;var W=R&15;R>>>=4,B.setMilliseconds(0),B.setFullYear(R+1980),B.setMonth(W-1),B.setDate(V);var Q=U&31;U>>>=5;var oe=U&63;return U>>>=6,B.setHours(U),B.setMinutes(oe),B.setSeconds(Q<<1),B}function o(P){un(P,0);for(var U={},R=0;P.l<=P.length-4;){var B=P.read_shift(2),V=P.read_shift(2),W=P.l+V,Q={};switch(B){case 21589:R=P.read_shift(1),R&1&&(Q.mtime=P.read_shift(4)),V>5&&(R&2&&(Q.atime=P.read_shift(4)),R&4&&(Q.ctime=P.read_shift(4))),Q.mtime&&(Q.mt=new Date(Q.mtime*1e3));break}P.l=W,U[B]=Q}return U}var c;function u(){return c||(c={})}function d(P,U){if(P[0]==80&&P[1]==75)return Jd(P,U);if((P[0]|32)==109&&(P[1]|32)==105)return $t(P,U);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var R=3,B=512,V=0,W=0,Q=0,oe=0,J=0,Z=[],te=P.slice(0,512);un(te,0);var ue=f(te);switch(R=ue[0],R){case 3:B=512;break;case 4:B=4096;break;case 0:if(ue[1]==0)return Jd(P,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+R)}B!==512&&(te=P.slice(0,B),un(te,28));var ve=P.slice(0,B);h(te,R);var we=te.read_shift(4,"i");if(R===3&&we!==0)throw new Error("# Directory Sectors: Expected 0 saw "+we);te.l+=4,Q=te.read_shift(4,"i"),te.l+=4,te.chk("00100000","Mini Stream Cutoff Size: "),oe=te.read_shift(4,"i"),V=te.read_shift(4,"i"),J=te.read_shift(4,"i"),W=te.read_shift(4,"i");for(var pe=-1,be=0;be<109&&(pe=te.read_shift(4,"i"),!(pe<0));++be)Z[be]=pe;var Ae=p(P,B);x(J,W,Ae,B,Z);var pt=y(Ae,Q,Z,B);pt[Q].name="!Directory",V>0&&oe!==_&&(pt[oe].name="!MiniFAT"),pt[Z[0]].name="!FAT",pt.fat_addrs=Z,pt.ssz=B;var mt={},wr=[],yc=[],bc=[];w(Q,pt,Ae,wr,V,mt,yc,oe),g(yc,bc,wr),wr.shift();var wc={FileIndex:yc,FullPaths:bc};return U&&U.raw&&(wc.raw={header:ve,sectors:Ae}),wc}function f(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(N,"Header Signature: "),P.l+=16;var U=P.read_shift(2,"u");return[P.read_shift(2,"u"),U]}function h(P,U){var R=9;switch(P.l+=2,R=P.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+R);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+R);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+R)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function p(P,U){for(var R=Math.ceil(P.length/U)-1,B=[],V=1;V<R;++V)B[V-1]=P.slice(V*U,(V+1)*U);return B[R-1]=P.slice(R*U),B}function g(P,U,R){for(var B=0,V=0,W=0,Q=0,oe=0,J=R.length,Z=[],te=[];B<J;++B)Z[B]=te[B]=B,U[B]=R[B];for(;oe<te.length;++oe)B=te[oe],V=P[B].L,W=P[B].R,Q=P[B].C,Z[B]===B&&(V!==-1&&Z[V]!==V&&(Z[B]=Z[V]),W!==-1&&Z[W]!==W&&(Z[B]=Z[W])),Q!==-1&&(Z[Q]=B),V!==-1&&B!=Z[B]&&(Z[V]=Z[B],te.lastIndexOf(V)<oe&&te.push(V)),W!==-1&&B!=Z[B]&&(Z[W]=Z[B],te.lastIndexOf(W)<oe&&te.push(W));for(B=1;B<J;++B)Z[B]===B&&(W!==-1&&Z[W]!==W?Z[B]=Z[W]:V!==-1&&Z[V]!==V&&(Z[B]=Z[V]));for(B=1;B<J;++B)if(P[B].type!==0){if(oe=B,oe!=Z[oe])do oe=Z[oe],U[B]=U[oe]+"/"+U[B];while(oe!==0&&Z[oe]!==-1&&oe!=Z[oe]);Z[B]=-1}for(U[0]+="/",B=1;B<J;++B)P[B].type!==2&&(U[B]+="/")}function m(P,U,R){for(var B=P.start,V=P.size,W=[],Q=B;R&&V>0&&Q>=0;)W.push(U.slice(Q*A,Q*A+A)),V-=A,Q=Ls(R,Q*4);return W.length===0?se(0):pr(W).slice(0,P.size)}function x(P,U,R,B,V){var W=_;if(P===_){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var Q=R[P],oe=(B>>>2)-1;if(!Q)return;for(var J=0;J<oe&&(W=Ls(Q,J*4))!==_;++J)V.push(W);x(Ls(Q,B-4),U-1,R,B,V)}}function v(P,U,R,B,V){var W=[],Q=[];V||(V=[]);var oe=B-1,J=0,Z=0;for(J=U;J>=0;){V[J]=!0,W[W.length]=J,Q.push(P[J]);var te=R[Math.floor(J*4/B)];if(Z=J*4&oe,B<4+Z)throw new Error("FAT boundary crossed: "+J+" 4 "+B);if(!P[te])break;J=Ls(P[te],Z)}return{nodes:W,data:_N([Q])}}function y(P,U,R,B){var V=P.length,W=[],Q=[],oe=[],J=[],Z=B-1,te=0,ue=0,ve=0,we=0;for(te=0;te<V;++te)if(oe=[],ve=te+U,ve>=V&&(ve-=V),!Q[ve]){J=[];var pe=[];for(ue=ve;ue>=0;){pe[ue]=!0,Q[ue]=!0,oe[oe.length]=ue,J.push(P[ue]);var be=R[Math.floor(ue*4/B)];if(we=ue*4&Z,B<4+we)throw new Error("FAT boundary crossed: "+ue+" 4 "+B);if(!P[be]||(ue=Ls(P[be],we),pe[ue]))break}W[ve]={nodes:oe,data:_N([J])}}return W}function w(P,U,R,B,V,W,Q,oe){for(var J=0,Z=B.length?2:0,te=U[P].data,ue=0,ve=0,we;ue<te.length;ue+=128){var pe=te.slice(ue,ue+128);un(pe,64),ve=pe.read_shift(2),we=y2(pe,0,ve-Z),B.push(we);var be={name:we,type:pe.read_shift(1),color:pe.read_shift(1),L:pe.read_shift(4,"i"),R:pe.read_shift(4,"i"),C:pe.read_shift(4,"i"),clsid:pe.read_shift(16),state:pe.read_shift(4,"i"),start:0,size:0},Ae=pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2);Ae!==0&&(be.ct=k(pe,pe.l-8));var pt=pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2);pt!==0&&(be.mt=k(pe,pe.l-8)),be.start=pe.read_shift(4,"i"),be.size=pe.read_shift(4,"i"),be.size<0&&be.start<0&&(be.size=be.type=0,be.start=_,be.name=""),be.type===5?(J=be.start,V>0&&J!==_&&(U[J].name="!StreamData")):be.size>=4096?(be.storage="fat",U[be.start]===void 0&&(U[be.start]=v(R,be.start,U.fat_addrs,U.ssz)),U[be.start].name=be.name,be.content=U[be.start].data.slice(0,be.size)):(be.storage="minifat",be.size<0?be.size=0:J!==_&&be.start!==_&&U[J]&&(be.content=m(be,U[J].data,(U[oe]||{}).data))),be.content&&un(be.content,0),W[we]=be,Q.push(be)}}function k(P,U){return new Date((hn(P,U+4)/1e7*Math.pow(2,32)+hn(P,U)/1e7-11644473600)*1e3)}function S(P,U){return u(),d(c.readFileSync(P),U)}function E(P,U){var R=U&&U.type;switch(R||$e&&Buffer.isBuffer(P)&&(R="buffer"),R||"base64"){case"file":return S(P,U);case"base64":return d(sa(xi(P)),U);case"binary":return d(sa(P),U)}return d(P,U)}function j(P,U){var R=U||{},B=R.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=B+"/",P.FileIndex[0]={name:B,type:5}),R.CLSID&&(P.FileIndex[0].clsid=R.CLSID),C(P)}function C(P){var U="Sh33tJ5";if(!Ye.find(P,"/"+U)){var R=se(4);R[0]=55,R[1]=R[3]=50,R[2]=54,P.FileIndex.push({name:U,type:2,content:R,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+U),T(P)}}function T(P,U){j(P);for(var R=!1,B=!1,V=P.FullPaths.length-1;V>=0;--V){var W=P.FileIndex[V];switch(W.type){case 0:B?R=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:B=!0,isNaN(W.R*W.L*W.C)&&(R=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(R=!0);break;default:R=!0;break}}if(!(!R&&!U)){var Q=new Date(1987,1,19),oe=0,J=Object.create?Object.create(null):{},Z=[];for(V=0;V<P.FullPaths.length;++V)J[P.FullPaths[V]]=!0,P.FileIndex[V].type!==0&&Z.push([P.FullPaths[V],P.FileIndex[V]]);for(V=0;V<Z.length;++V){var te=n(Z[V][0]);B=J[te],B||(Z.push([te,{name:a(te).replace("/",""),type:1,clsid:K,ct:Q,mt:Q,content:null}]),J[te]=!0)}for(Z.sort(function(we,pe){return r(we[0],pe[0])}),P.FullPaths=[],P.FileIndex=[],V=0;V<Z.length;++V)P.FullPaths[V]=Z[V][0],P.FileIndex[V]=Z[V][1];for(V=0;V<Z.length;++V){var ue=P.FileIndex[V],ve=P.FullPaths[V];if(ue.name=a(ve).replace("/",""),ue.L=ue.R=ue.C=-(ue.color=1),ue.size=ue.content?ue.content.length:0,ue.start=0,ue.clsid=ue.clsid||K,V===0)ue.C=Z.length>1?1:-1,ue.size=0,ue.type=5;else if(ve.slice(-1)=="/"){for(oe=V+1;oe<Z.length&&n(P.FullPaths[oe])!=ve;++oe);for(ue.C=oe>=Z.length?-1:oe,oe=V+1;oe<Z.length&&n(P.FullPaths[oe])!=n(ve);++oe);ue.R=oe>=Z.length?-1:oe,ue.type=1}else n(P.FullPaths[V+1]||"")==n(ve)&&(ue.R=V+1),ue.type=2}}}function M(P,U){var R=U||{};if(R.fileType=="mad")return Vr(P,R);switch(T(P),R.fileType){case"zip":return Qd(P,R)}var B=function(we){for(var pe=0,be=0,Ae=0;Ae<we.FileIndex.length;++Ae){var pt=we.FileIndex[Ae];if(pt.content){var mt=pt.content.length;mt>0&&(mt<4096?pe+=mt+63>>6:be+=mt+511>>9)}}for(var wr=we.FullPaths.length+3>>2,yc=pe+7>>3,bc=pe+127>>7,wc=yc+be+wr+bc,_s=wc+127>>7,Dm=_s<=109?0:Math.ceil((_s-109)/127);wc+_s+Dm+127>>7>_s;)Dm=++_s<=109?0:Math.ceil((_s-109)/127);var $a=[1,Dm,_s,bc,wr,be,pe,0];return we.FileIndex[0].size=pe<<6,$a[7]=(we.FileIndex[0].start=$a[0]+$a[1]+$a[2]+$a[3]+$a[4]+$a[5])+($a[6]+7>>3),$a}(P),V=se(B[7]<<9),W=0,Q=0;{for(W=0;W<8;++W)V.write_shift(1,O[W]);for(W=0;W<8;++W)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),W=0;W<3;++W)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,B[2]),V.write_shift(4,B[0]+B[1]+B[2]+B[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,B[3]?B[0]+B[1]+B[2]-1:_),V.write_shift(4,B[3]),V.write_shift(-4,B[1]?B[0]-1:_),V.write_shift(4,B[1]),W=0;W<109;++W)V.write_shift(-4,W<B[2]?B[1]+W:-1)}if(B[1])for(Q=0;Q<B[1];++Q){for(;W<236+Q*127;++W)V.write_shift(-4,W<B[2]?B[1]+W:-1);V.write_shift(-4,Q===B[1]-1?_:Q+1)}var oe=function(we){for(Q+=we;W<Q-1;++W)V.write_shift(-4,W+1);we&&(++W,V.write_shift(-4,_))};for(Q=W=0,Q+=B[1];W<Q;++W)V.write_shift(-4,I.DIFSECT);for(Q+=B[2];W<Q;++W)V.write_shift(-4,I.FATSECT);oe(B[3]),oe(B[4]);for(var J=0,Z=0,te=P.FileIndex[0];J<P.FileIndex.length;++J)te=P.FileIndex[J],te.content&&(Z=te.content.length,!(Z<4096)&&(te.start=Q,oe(Z+511>>9)));for(oe(B[6]+7>>3);V.l&511;)V.write_shift(-4,I.ENDOFCHAIN);for(Q=W=0,J=0;J<P.FileIndex.length;++J)te=P.FileIndex[J],te.content&&(Z=te.content.length,!(!Z||Z>=4096)&&(te.start=Q,oe(Z+63>>6)));for(;V.l&511;)V.write_shift(-4,I.ENDOFCHAIN);for(W=0;W<B[4]<<2;++W){var ue=P.FullPaths[W];if(!ue||ue.length===0){for(J=0;J<17;++J)V.write_shift(4,0);for(J=0;J<3;++J)V.write_shift(4,-1);for(J=0;J<12;++J)V.write_shift(4,0);continue}te=P.FileIndex[W],W===0&&(te.start=te.size?te.start-1:_);var ve=W===0&&R.root||te.name;if(Z=2*(ve.length+1),V.write_shift(64,ve,"utf16le"),V.write_shift(2,Z),V.write_shift(1,te.type),V.write_shift(1,te.color),V.write_shift(-4,te.L),V.write_shift(-4,te.R),V.write_shift(-4,te.C),te.clsid)V.write_shift(16,te.clsid,"hex");else for(J=0;J<4;++J)V.write_shift(4,0);V.write_shift(4,te.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,te.start),V.write_shift(4,te.size),V.write_shift(4,0)}for(W=1;W<P.FileIndex.length;++W)if(te=P.FileIndex[W],te.size>=4096)if(V.l=te.start+1<<9,$e&&Buffer.isBuffer(te.content))te.content.copy(V,V.l,0,te.size),V.l+=te.size+511&-512;else{for(J=0;J<te.size;++J)V.write_shift(1,te.content[J]);for(;J&511;++J)V.write_shift(1,0)}for(W=1;W<P.FileIndex.length;++W)if(te=P.FileIndex[W],te.size>0&&te.size<4096)if($e&&Buffer.isBuffer(te.content))te.content.copy(V,V.l,0,te.size),V.l+=te.size+63&-64;else{for(J=0;J<te.size;++J)V.write_shift(1,te.content[J]);for(;J&63;++J)V.write_shift(1,0)}if($e)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function D(P,U){var R=P.FullPaths.map(function(J){return J.toUpperCase()}),B=R.map(function(J){var Z=J.split("/");return Z[Z.length-(J.slice(-1)=="/"?2:1)]}),V=!1;U.charCodeAt(0)===47?(V=!0,U=R[0].slice(0,-1)+U):V=U.indexOf("/")!==-1;var W=U.toUpperCase(),Q=V===!0?R.indexOf(W):B.indexOf(W);if(Q!==-1)return P.FileIndex[Q];var oe=!W.match(Uf);for(W=W.replace(gu,""),oe&&(W=W.replace(Uf,"!")),Q=0;Q<R.length;++Q)if((oe?R[Q].replace(Uf,"!"):R[Q]).replace(gu,"")==W||(oe?B[Q].replace(Uf,"!"):B[Q]).replace(gu,"")==W)return P.FileIndex[Q];return null}var A=64,_=-2,N="d0cf11e0a1b11ae1",O=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",I={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:_,FREESECT:-1,HEADER_SIGNATURE:N,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(P,U,R){u();var B=M(P,R);c.writeFileSync(U,B)}function G(P){for(var U=new Array(P.length),R=0;R<P.length;++R)U[R]=String.fromCharCode(P[R]);return U.join("")}function q(P,U){var R=M(P,U);switch(U&&U.type||"buffer"){case"file":return u(),c.writeFileSync(U.filename,R),R;case"binary":return typeof R=="string"?R:G(R);case"base64":return od(typeof R=="string"?R:G(R));case"buffer":if($e)return Buffer.isBuffer(R)?R:Ai(R);case"array":return typeof R=="string"?sa(R):R}return R}var ce;function F(P){try{var U=P.InflateRaw,R=new U;if(R._processChunk(new Uint8Array([3,0]),R._finishFlushFlag),R.bytesRead)ce=P;else throw new Error("zlib does not expose bytesRead")}catch(B){console.error("cannot use native zlib: "+(B.message||B))}}function z(P,U){if(!ce)return Ao(P,U);var R=ce.InflateRaw,B=new R,V=B._processChunk(P.slice(P.l),B._finishFlushFlag);return P.l+=B.bytesRead,V}function H(P){return ce?ce.deflateRawSync(P):Ra(P)}var L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(P){var U=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(U>>16|U>>8|U)&255}for(var ne=typeof Uint8Array<"u",ie=ne?new Uint8Array(256):[],Se=0;Se<256;++Se)ie[Se]=he(Se);function ae(P,U){var R=ie[P&255];return U<=8?R>>>8-U:(R=R<<8|ie[P>>8&255],U<=16?R>>>16-U:(R=R<<8|ie[P>>16&255],R>>>24-U))}function Le(P,U){var R=U&7,B=U>>>3;return(P[B]|(R<=6?0:P[B+1]<<8))>>>R&3}function Ee(P,U){var R=U&7,B=U>>>3;return(P[B]|(R<=5?0:P[B+1]<<8))>>>R&7}function tt(P,U){var R=U&7,B=U>>>3;return(P[B]|(R<=4?0:P[B+1]<<8))>>>R&15}function De(P,U){var R=U&7,B=U>>>3;return(P[B]|(R<=3?0:P[B+1]<<8))>>>R&31}function ye(P,U){var R=U&7,B=U>>>3;return(P[B]|(R<=1?0:P[B+1]<<8))>>>R&127}function Xt(P,U,R){var B=U&7,V=U>>>3,W=(1<<R)-1,Q=P[V]>>>B;return R<8-B||(Q|=P[V+1]<<8-B,R<16-B)||(Q|=P[V+2]<<16-B,R<24-B)||(Q|=P[V+3]<<24-B),Q&W}function Bt(P,U,R){var B=U&7,V=U>>>3;return B<=5?P[V]|=(R&7)<<B:(P[V]|=R<<B&255,P[V+1]=(R&7)>>8-B),U+3}function La(P,U,R){var B=U&7,V=U>>>3;return R=(R&1)<<B,P[V]|=R,U+1}function Ci(P,U,R){var B=U&7,V=U>>>3;return R<<=B,P[V]|=R&255,R>>>=8,P[V+1]=R,U+8}function br(P,U,R){var B=U&7,V=U>>>3;return R<<=B,P[V]|=R&255,R>>>=8,P[V+1]=R&255,P[V+2]=R>>>8,U+16}function xa(P,U){var R=P.length,B=2*R>U?2*R:U+5,V=0;if(R>=U)return P;if($e){var W=lN(B);if(P.copy)P.copy(W);else for(;V<P.length;++V)W[V]=P[V];return W}else if(ne){var Q=new Uint8Array(B);if(Q.set)Q.set(P);else for(;V<R;++V)Q[V]=P[V];return Q}return P.length=B,P}function En(P){for(var U=new Array(P),R=0;R<P;++R)U[R]=0;return U}function To(P,U,R){var B=1,V=0,W=0,Q=0,oe=0,J=P.length,Z=ne?new Uint16Array(32):En(32);for(W=0;W<32;++W)Z[W]=0;for(W=J;W<R;++W)P[W]=0;J=P.length;var te=ne?new Uint16Array(J):En(J);for(W=0;W<J;++W)Z[V=P[W]]++,B<V&&(B=V),te[W]=0;for(Z[0]=0,W=1;W<=B;++W)Z[W+16]=oe=oe+Z[W-1]<<1;for(W=0;W<J;++W)oe=P[W],oe!=0&&(te[W]=Z[oe+16]++);var ue=0;for(W=0;W<J;++W)if(ue=P[W],ue!=0)for(oe=ae(te[W],B)>>B-ue,Q=(1<<B+4-ue)-1;Q>=0;--Q)U[oe|Q<<ue]=ue&15|W<<4;return B}var Pi=ne?new Uint16Array(512):En(512),mc=ne?new Uint16Array(32):En(32);if(!ne){for(var va=0;va<512;++va)Pi[va]=0;for(va=0;va<32;++va)mc[va]=0}(function(){for(var P=[],U=0;U<32;U++)P.push(5);To(P,mc,32);var R=[];for(U=0;U<=143;U++)R.push(8);for(;U<=255;U++)R.push(9);for(;U<=279;U++)R.push(7);for(;U<=287;U++)R.push(8);To(R,Pi,288)})();var gc=function(){for(var U=ne?new Uint8Array(32768):[],R=0,B=0;R<ee.length-1;++R)for(;B<ee[R+1];++B)U[B]=R;for(;B<32768;++B)U[B]=29;var V=ne?new Uint8Array(259):[];for(R=0,B=0;R<X.length-1;++R)for(;B<X[R+1];++B)V[B]=R;function W(oe,J){for(var Z=0;Z<oe.length;){var te=Math.min(65535,oe.length-Z),ue=Z+te==oe.length;for(J.write_shift(1,+ue),J.write_shift(2,te),J.write_shift(2,~te&65535);te-- >0;)J[J.l++]=oe[Z++]}return J.l}function Q(oe,J){for(var Z=0,te=0,ue=ne?new Uint16Array(32768):[];te<oe.length;){var ve=Math.min(65535,oe.length-te);if(ve<10){for(Z=Bt(J,Z,+(te+ve==oe.length)),Z&7&&(Z+=8-(Z&7)),J.l=Z/8|0,J.write_shift(2,ve),J.write_shift(2,~ve&65535);ve-- >0;)J[J.l++]=oe[te++];Z=J.l*8;continue}Z=Bt(J,Z,+(te+ve==oe.length)+2);for(var we=0;ve-- >0;){var pe=oe[te];we=(we<<5^pe)&32767;var be=-1,Ae=0;if((be=ue[we])&&(be|=te&-32768,be>te&&(be-=32768),be<te))for(;oe[be+Ae]==oe[te+Ae]&&Ae<250;)++Ae;if(Ae>2){pe=V[Ae],pe<=22?Z=Ci(J,Z,ie[pe+1]>>1)-1:(Ci(J,Z,3),Z+=5,Ci(J,Z,ie[pe-23]>>5),Z+=3);var pt=pe<8?0:pe-4>>2;pt>0&&(br(J,Z,Ae-X[pe]),Z+=pt),pe=U[te-be],Z=Ci(J,Z,ie[pe]>>3),Z-=3;var mt=pe<4?0:pe-2>>1;mt>0&&(br(J,Z,te-be-ee[pe]),Z+=mt);for(var wr=0;wr<Ae;++wr)ue[we]=te&32767,we=(we<<5^oe[te])&32767,++te;ve-=Ae-1}else pe<=143?pe=pe+48:Z=La(J,Z,1),Z=Ci(J,Z,ie[pe]),ue[we]=te&32767,++te}Z=Ci(J,Z,0)-1}return J.l=(Z+7)/8|0,J.l}return function(J,Z){return J.length<8?W(J,Z):Q(J,Z)}}();function Ra(P){var U=se(50+Math.floor(P.length*1.1)),R=gc(P,U);return U.slice(0,R)}var xc=ne?new Uint16Array(32768):En(32768),za=ne?new Uint16Array(32768):En(32768),Yd=ne?new Uint16Array(128):En(128),Xd=1,vc=1;function qd(P,U){var R=De(P,U)+257;U+=5;var B=De(P,U)+1;U+=5;var V=tt(P,U)+4;U+=4;for(var W=0,Q=ne?new Uint8Array(19):En(19),oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],J=1,Z=ne?new Uint8Array(8):En(8),te=ne?new Uint8Array(8):En(8),ue=Q.length,ve=0;ve<V;++ve)Q[L[ve]]=W=Ee(P,U),J<W&&(J=W),Z[W]++,U+=3;var we=0;for(Z[0]=0,ve=1;ve<=J;++ve)te[ve]=we=we+Z[ve-1]<<1;for(ve=0;ve<ue;++ve)(we=Q[ve])!=0&&(oe[ve]=te[we]++);var pe=0;for(ve=0;ve<ue;++ve)if(pe=Q[ve],pe!=0){we=ie[oe[ve]]>>8-pe;for(var be=(1<<7-pe)-1;be>=0;--be)Yd[we|be<<pe]=pe&7|ve<<3}var Ae=[];for(J=1;Ae.length<R+B;)switch(we=Yd[ye(P,U)],U+=we&7,we>>>=3){case 16:for(W=3+Le(P,U),U+=2,we=Ae[Ae.length-1];W-- >0;)Ae.push(we);break;case 17:for(W=3+Ee(P,U),U+=3;W-- >0;)Ae.push(0);break;case 18:for(W=11+ye(P,U),U+=7;W-- >0;)Ae.push(0);break;default:Ae.push(we),J<we&&(J=we);break}var pt=Ae.slice(0,R),mt=Ae.slice(R);for(ve=R;ve<286;++ve)pt[ve]=0;for(ve=B;ve<30;++ve)mt[ve]=0;return Xd=To(pt,xc,286),vc=To(mt,za,30),U}function Pm(P,U){if(P[0]==3&&!(P[1]&3))return[po(U),2];for(var R=0,B=0,V=lN(U||1<<18),W=0,Q=V.length>>>0,oe=0,J=0;!(B&1);){if(B=Ee(P,R),R+=3,B>>>1)B>>1==1?(oe=9,J=5):(R=qd(P,R),oe=Xd,J=vc);else{R&7&&(R+=8-(R&7));var Z=P[R>>>3]|P[(R>>>3)+1]<<8;if(R+=32,Z>0)for(!U&&Q<W+Z&&(V=xa(V,W+Z),Q=V.length);Z-- >0;)V[W++]=P[R>>>3],R+=8;continue}for(;;){!U&&Q<W+32767&&(V=xa(V,W+32767),Q=V.length);var te=Xt(P,R,oe),ue=B>>>1==1?Pi[te]:xc[te];if(R+=ue&15,ue>>>=4,!(ue>>>8&255))V[W++]=ue;else{if(ue==256)break;ue-=257;var ve=ue<8?0:ue-4>>2;ve>5&&(ve=0);var we=W+X[ue];ve>0&&(we+=Xt(P,R,ve),R+=ve),te=Xt(P,R,J),ue=B>>>1==1?mc[te]:za[te],R+=ue&15,ue>>>=4;var pe=ue<4?0:ue-2>>1,be=ee[ue];for(pe>0&&(be+=Xt(P,R,pe),R+=pe),!U&&Q<we&&(V=xa(V,we+100),Q=V.length);W<we;)V[W]=V[W-be],++W}}}return U?[V,R+7>>>3]:[V.slice(0,W),R+7>>>3]}function Ao(P,U){var R=P.slice(P.l||0),B=Pm(R,U);return P.l+=B[1],B[0]}function Xn(P,U){if(P)typeof console<"u"&&console.error(U);else throw new Error(U)}function Jd(P,U){var R=P;un(R,0);var B=[],V=[],W={FileIndex:B,FullPaths:V};j(W,{root:U.root});for(var Q=R.length-4;(R[Q]!=80||R[Q+1]!=75||R[Q+2]!=5||R[Q+3]!=6)&&Q>=0;)--Q;R.l=Q+4,R.l+=4;var oe=R.read_shift(2);R.l+=6;var J=R.read_shift(4);for(R.l=J,Q=0;Q<oe;++Q){R.l+=20;var Z=R.read_shift(4),te=R.read_shift(4),ue=R.read_shift(2),ve=R.read_shift(2),we=R.read_shift(2);R.l+=8;var pe=R.read_shift(4),be=o(R.slice(R.l+ue,R.l+ue+ve));R.l+=ue+ve+we;var Ae=R.l;R.l=pe+4,Om(R,Z,te,W,be),R.l=Ae}return W}function Om(P,U,R,B,V){P.l+=2;var W=P.read_shift(2),Q=P.read_shift(2),oe=s(P);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var J=P.read_shift(4),Z=P.read_shift(4),te=P.read_shift(4),ue=P.read_shift(2),ve=P.read_shift(2),we="",pe=0;pe<ue;++pe)we+=String.fromCharCode(P[P.l++]);if(ve){var be=o(P.slice(P.l,P.l+ve));(be[21589]||{}).mt&&(oe=be[21589].mt),((V||{})[21589]||{}).mt&&(oe=V[21589].mt)}P.l+=ve;var Ae=P.slice(P.l,P.l+Z);switch(Q){case 8:Ae=z(P,te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Q)}var pt=!1;W&8&&(J=P.read_shift(4),J==134695760&&(J=P.read_shift(4),pt=!0),Z=P.read_shift(4),te=P.read_shift(4)),Z!=U&&Xn(pt,"Bad compressed size: "+U+" != "+Z),te!=R&&Xn(pt,"Bad uncompressed size: "+R+" != "+te),Dr(B,we,Ae,{unsafe:!0,mt:oe})}function Qd(P,U){var R=U||{},B=[],V=[],W=se(1),Q=R.compression?8:0,oe=0,J=0,Z=0,te=0,ue=0,ve=P.FullPaths[0],we=ve,pe=P.FileIndex[0],be=[],Ae=0;for(J=1;J<P.FullPaths.length;++J)if(we=P.FullPaths[J].slice(ve.length),pe=P.FileIndex[J],!(!pe.size||!pe.content||we=="Sh33tJ5")){var pt=te,mt=se(we.length);for(Z=0;Z<we.length;++Z)mt.write_shift(1,we.charCodeAt(Z)&127);mt=mt.slice(0,mt.l),be[ue]=Lse.buf(pe.content,0);var wr=pe.content;Q==8&&(wr=H(wr)),W=se(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,oe),W.write_shift(2,Q),pe.mt?i(W,pe.mt):W.write_shift(4,0),W.write_shift(-4,be[ue]),W.write_shift(4,wr.length),W.write_shift(4,pe.content.length),W.write_shift(2,mt.length),W.write_shift(2,0),te+=W.length,B.push(W),te+=mt.length,B.push(mt),te+=wr.length,B.push(wr),W=se(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,oe),W.write_shift(2,Q),W.write_shift(4,0),W.write_shift(-4,be[ue]),W.write_shift(4,wr.length),W.write_shift(4,pe.content.length),W.write_shift(2,mt.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,pt),Ae+=W.l,V.push(W),Ae+=mt.length,V.push(mt),++ue}return W=se(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,ue),W.write_shift(2,ue),W.write_shift(4,Ae),W.write_shift(4,te),W.write_shift(2,0),pr([pr(B),pr(V),W])}var ks={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Te(P,U){if(P.ctype)return P.ctype;var R=P.name||"",B=R.match(/\.([^\.]+)$/);return B&&ks[B[1]]||U&&(B=(R=U).match(/[\.\\]([^\.\\])+$/),B&&ks[B[1]])?ks[B[1]]:"application/octet-stream"}function Pt(P){for(var U=od(P),R=[],B=0;B<U.length;B+=76)R.push(U.slice(B,B+76));return R.join(`\r
`)+`\r
`}function qt(P){var U=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Z){var te=Z.charCodeAt(0).toString(16).toUpperCase();return"="+(te.length==1?"0"+te:te)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var R=[],B=U.split(`\r
`),V=0;V<B.length;++V){var W=B[V];if(W.length==0){R.push("");continue}for(var Q=0;Q<W.length;){var oe=76,J=W.slice(Q,Q+oe);J.charAt(oe-1)=="="?oe--:J.charAt(oe-2)=="="?oe-=2:J.charAt(oe-3)=="="&&(oe-=3),J=W.slice(Q,Q+oe),Q+=oe,Q<W.length&&(J+="="),R.push(J)}}return R.join(`\r
`)}function Or(P){for(var U=[],R=0;R<P.length;++R){for(var B=P[R];R<=P.length&&B.charAt(B.length-1)=="=";)B=B.slice(0,B.length-1)+P[++R];U.push(B)}for(var V=0;V<U.length;++V)U[V]=U[V].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return sa(U.join(`\r
`))}function Co(P,U,R){for(var B="",V="",W="",Q,oe=0;oe<10;++oe){var J=U[oe];if(!J||J.match(/^\s*$/))break;var Z=J.match(/^(.*?):\s*([^\s].*)$/);if(Z)switch(Z[1].toLowerCase()){case"content-location":B=Z[2].trim();break;case"content-type":W=Z[2].trim();break;case"content-transfer-encoding":V=Z[2].trim();break}}switch(++oe,V.toLowerCase()){case"base64":Q=sa(xi(U.slice(oe).join("")));break;case"quoted-printable":Q=Or(U.slice(oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var te=Dr(P,B.slice(R.length),Q,{unsafe:!0});W&&(te.ctype=W)}function $t(P,U){if(G(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var R=U&&U.root||"",B=($e&&Buffer.isBuffer(P)?P.toString("binary"):G(P)).split(`\r
`),V=0,W="";for(V=0;V<B.length;++V)if(W=B[V],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),R||(R=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,R.length)!=R))for(;R.length>0&&(R=R.slice(0,R.length-1),R=R.slice(0,R.lastIndexOf("/")+1),W.slice(0,R.length)!=R););var Q=(B[1]||"").match(/boundary="(.*?)"/);if(!Q)throw new Error("MAD cannot find boundary");var oe="--"+(Q[1]||""),J=[],Z=[],te={FileIndex:J,FullPaths:Z};j(te);var ue,ve=0;for(V=0;V<B.length;++V){var we=B[V];we!==oe&&we!==oe+"--"||(ve++&&Co(te,B.slice(ue,V),R),ue=V)}return te}function Vr(P,U){var R=U||{},B=R.boundary||"SheetJS";B="------="+B;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+B.slice(2)+'"',"","",""],W=P.FullPaths[0],Q=W,oe=P.FileIndex[0],J=1;J<P.FullPaths.length;++J)if(Q=P.FullPaths[J].slice(W.length),oe=P.FileIndex[J],!(!oe.size||!oe.content||Q=="Sh33tJ5")){Q=Q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ae){return"_x"+Ae.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ae){return"_u"+Ae.charCodeAt(0).toString(16)+"_"});for(var Z=oe.content,te=$e&&Buffer.isBuffer(Z)?Z.toString("binary"):G(Z),ue=0,ve=Math.min(1024,te.length),we=0,pe=0;pe<=ve;++pe)(we=te.charCodeAt(pe))>=32&&we<128&&++ue;var be=ue>=ve*4/5;V.push(B),V.push("Content-Location: "+(R.root||"file:///C:/SheetJS/")+Q),V.push("Content-Transfer-Encoding: "+(be?"quoted-printable":"base64")),V.push("Content-Type: "+Te(oe,Q)),V.push(""),V.push(be?qt(te):Pt(te))}return V.push(B+`--\r
`),V.join(`\r
`)}function Po(P){var U={};return j(U,P),U}function Dr(P,U,R,B){var V=B&&B.unsafe;V||j(P);var W=!V&&Ye.find(P,U);if(!W){var Q=P.FullPaths[0];U.slice(0,Q.length)==Q?Q=U:(Q.slice(-1)!="/"&&(Q+="/"),Q=(Q+U).replace("//","/")),W={name:a(U),type:2},P.FileIndex.push(W),P.FullPaths.push(Q),V||Ye.utils.cfb_gc(P)}return W.content=R,W.size=R?R.length:0,B&&(B.CLSID&&(W.clsid=B.CLSID),B.mt&&(W.mt=B.mt),B.ct&&(W.ct=B.ct)),W}function sn(P,U){j(P);var R=Ye.find(P,U);if(R){for(var B=0;B<P.FileIndex.length;++B)if(P.FileIndex[B]==R)return P.FileIndex.splice(B,1),P.FullPaths.splice(B,1),!0}return!1}function Zd(P,U,R){j(P);var B=Ye.find(P,U);if(B){for(var V=0;V<P.FileIndex.length;++V)if(P.FileIndex[V]==B)return P.FileIndex[V].name=a(R),P.FullPaths[V]=R,!0}return!1}function Ba(P){T(P,!0)}return t.find=D,t.read=E,t.parse=d,t.write=q,t.writeFile=Y,t.utils={cfb_new:Po,cfb_add:Dr,cfb_del:sn,cfb_mov:Zd,cfb_gc:Ba,ReadShift:vu,CheckField:E8,prep_blob:un,bconcat:pr,use_zlib:F,_deflateRaw:Ra,_inflateRaw:Ao,consts:I},t}();function Rse(e){return typeof e=="string"?_m(e):Array.isArray(e)?use(e):e}function Vd(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=_m(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?cd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Rse(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Ud(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function yr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function gN(e,t){for(var r=[],n=yr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function m2(e){for(var t=[],r=yr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function jm(e){for(var t=[],r=yr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function zse(e){for(var t=[],r=yr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Wh=new Date(1899,11,30,0,0,0);function nn(e,t){var r=e.getTime(),n=Wh.getTime()+(e.getTimezoneOffset()-Wh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var l8=new Date,Bse=Wh.getTime()+(l8.getTimezoneOffset()-Wh.getTimezoneOffset())*6e4,xN=l8.getTimezoneOffset();function c8(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Bse),t.getTimezoneOffset()!==xN&&t.setTime(t.getTime()+(t.getTimezoneOffset()-xN)*6e4),t}var vN=new Date("2017-02-19T19:06:09.000Z"),u8=isNaN(vN.getFullYear())?new Date("2/19/17"):vN,$se=u8.getFullYear()==2017;function Br(e,t){var r=new Date(e);if($se)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(u8.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Nm(e,t){if($e&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function an(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=an(e[r]));return t}function Et(e,t){for(var r="";r.length<t;)r+=e;return r}function ai(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Use=["january","february","march","april","may","june","july","august","september","october","november","december"];function ld(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Use.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Pe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return $e?n=Ai(r):n=dse(r),Ye.utils.cfb_add(e,t,n)}Ye.utils.cfb_add(e,t,r)}else e.file(t,r)}function g2(){return Ye.utils.cfb_new()}var zt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Vse={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},x2=m2(Vse),v2=/[&<>'"]/g,Wse=/[\u0000-\u0008\u000b-\u001f]/g;function He(e){var t=e+"";return t.replace(v2,function(r){return x2[r]}).replace(Wse,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function yN(e){return He(e).replace(/ /g,"_x0020_")}var d8=/[\u0000-\u001f]/g;function Hse(e){var t=e+"";return t.replace(v2,function(r){return x2[r]}).replace(/\n/g,"<br/>").replace(d8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Kse(e){var t=e+"";return t.replace(v2,function(r){return x2[r]}).replace(d8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Gse(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Yse(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Zg(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function bN(e){var t=po(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function wN(e){return Ai(e,"binary").toString("utf8")}var Wf="foo bar baz",xu=$e&&(wN(Wf)==Zg(Wf)&&wN||bN(Wf)==Zg(Wf)&&bN)||Zg,cd=$e?function(e){return Ai(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Xse=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),f8=/(^\s|\s$|\n)/;function mr(e,t){return"<"+e+(t.match(f8)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ud(e){return yr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function me(e,t,r){return"<"+e+(r!=null?ud(r):"")+(t!=null?(t.match(f8)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function T1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function qse(e,t){switch(typeof e){case"string":var r=me("vt:lpwstr",He(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return me((e|0)==e?"vt:i4":"vt:r8",He(String(e)));case"boolean":return me("vt:bool",e?"true":"false")}if(e instanceof Date)return me("vt:filetime",T1(e));throw new Error("Unable to serialize "+e)}var Zt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},dc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],fn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Jse(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Qse(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var kN=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},_N=$e?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ai(t)})):kN(e)}:kN,SN=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(eu(e,a)));return n.join("").replace(gu,"")},y2=$e?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(gu,""):SN(e,t,r)}:SN,EN=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},h8=$e?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):EN(e,t,r)}:EN,jN=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Uo(e,a)));return n.join("")},Wd=$e?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):jN(t,r,n)}:jN,p8=function(e,t){var r=hn(e,t);return r>0?Wd(e,t+4,t+4+r-1):""},m8=p8,g8=function(e,t){var r=hn(e,t);return r>0?Wd(e,t+4,t+4+r-1):""},x8=g8,v8=function(e,t){var r=2*hn(e,t);return r>0?Wd(e,t+4,t+4+r-1):""},y8=v8,b8=function(t,r){var n=hn(t,r);return n>0?y2(t,r+4,r+4+n):""},w8=b8,k8=function(e,t){var r=hn(e,t);return r>0?Wd(e,t+4,t+4+r):""},_8=k8,S8=function(e,t){return Jse(e,t)},Hh=S8,b2=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};$e&&(m8=function(t,r){if(!Buffer.isBuffer(t))return p8(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},x8=function(t,r){if(!Buffer.isBuffer(t))return g8(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},y8=function(t,r){if(!Buffer.isBuffer(t))return v8(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},w8=function(t,r){if(!Buffer.isBuffer(t))return b8(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},_8=function(t,r){if(!Buffer.isBuffer(t))return k8(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Hh=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):S8(t,r)},b2=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Uo=function(e,t){return e[t]},eu=function(e,t){return e[t+1]*256+e[t]},Zse=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},hn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ls=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},eoe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function vu(e,t){var r="",n,a,i=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,$e&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(eu(this,u)),u+=2;e*=2;break;case"utf8":r=Wd(this,this.l,this.l+e);break;case"utf16le":e*=2,r=y2(this,this.l,this.l+e);break;case"wstr":return vu.call(this,e,"dbcs");case"lpstr-ansi":r=m8(this,this.l),e=4+hn(this,this.l);break;case"lpstr-cp":r=x8(this,this.l),e=4+hn(this,this.l);break;case"lpwstr":r=y8(this,this.l),e=4+2*hn(this,this.l);break;case"lpp4":e=4+hn(this,this.l),r=w8(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+hn(this,this.l),r=_8(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Uo(this,this.l+e++))!==0;)i.push($f(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=eu(this,this.l+e))!==0;)i.push($f(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Uo(this,u),this.l=u+1,o=vu.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($f(eu(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Uo(this,u),this.l=u+1,o=vu.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($f(Uo(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Uo(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zse:eu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ls:eoe)(this,this.l),this.l+=4,n):(a=hn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Hh(this,this.l):a=Hh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=h8(this,this.l,e);break}}return this.l+=e,r}var toe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},roe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},noe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function aoe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)noe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,toe(this,t,this.l);break;case 8:if(n=8,r==="f"){Qse(this,t,this.l);break}case 16:break;case-4:n=4,roe(this,t,this.l);break}return this.l+=n,this}function E8(e,t){var r=h8(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function un(e,t){e.l=t,e.read_shift=vu,e.chk=E8,e.write_shift=aoe}function Ia(e,t){e.l+=t}function se(e){var t=po(e);return un(t,0),t}function rn(){var e=[],t=$e?256:2048,r=function(u){var d=se(u);return un(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),pr(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function le(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=Jfe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&b2(r)&&e.push(r)}}function yu(e,t,r){var n=an(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function NN(e,t,r){var n=an(e);return n.s=yu(n.s,t.s,r),n.e=yu(n.e,t.s,r),n}function bu(e,t){if(e.cRel&&e.c<0)for(e=an(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=an(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ge(e);return!e.cRel&&e.cRel!=null&&(r=ooe(r)),!e.rRel&&e.rRel!=null&&(r=ioe(r)),r}function ex(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Tr(e.s.c)+":"+(e.e.cRel?"":"$")+Tr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+xr(e.s.r)+":"+(e.e.rRel?"":"$")+xr(e.e.r):bu(e.s,t.biff)+":"+bu(e.e,t.biff)}function w2(e){return parseInt(soe(e),10)-1}function xr(e){return""+(e+1)}function ioe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function soe(e){return e.replace(/\$(\d+)$/,"$1")}function k2(e){for(var t=loe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Tr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ooe(e){return e.replace(/^([A-Z])/,"$$$1")}function loe(e){return e.replace(/^\$([A-Z])/,"$1")}function coe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function er(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ge(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function wn(e){var t=e.indexOf(":");return t==-1?{s:er(e),e:er(e)}:{s:er(e.slice(0,t)),e:er(e.slice(t+1))}}function Rt(e,t){return typeof t>"u"||typeof t=="number"?Rt(e.s,e.e):(typeof e!="string"&&(e=Ge(e)),typeof t!="string"&&(t=Ge(t)),e==t?e:e+":"+t)}function lt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function TN(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=cs(e.z,r?nn(t):t)}catch{}try{return e.w=cs((e.XF||{}).numFmtId||(r?14:0),r?nn(t):t)}catch{return""+t}}function vi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Hd[e.v]||e.v:t==null?TN(e,e.v):TN(e,t))}function _o(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function j8(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?er(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=lt(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},g=s+f,m=o+h;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||jt[14],n.cellDates?(p.t="d",p.w=cs(p.z,nn(p.v))):(p.t="n",p.v=nn(p.v),p.w=cs(p.z,p.v))):p.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(p.z=i[g][m].z),i[g][m]=p;else{var x=Ge({c:m,r:g});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return u.s.c<1e7&&(i["!ref"]=Rt(u)),i}function fc(e,t){return j8(null,e,t)}function uoe(e){return e.read_shift(4,"i")}function ua(e,t){return t||(t=se(4)),t.write_shift(4,e),t}function Ar(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function tr(e,t){var r=!1;return t==null&&(r=!0,t=se(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function doe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function foe(e,t){return t||(t=se(4)),t.write_shift(2,0),t.write_shift(2,0),t}function _2(e,t){var r=e.l,n=e.read_shift(1),a=Ar(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(doe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function hoe(e,t){var r=!1;return t==null&&(r=!0,t=se(15+4*e.t.length)),t.write_shift(1,0),tr(e.t,t),r?t.slice(0,t.l):t}var poe=_2;function moe(e,t){var r=!1;return t==null&&(r=!0,t=se(23+4*e.t.length)),t.write_shift(1,1),tr(e.t,t),t.write_shift(4,1),foe({},t),r?t.slice(0,t.l):t}function Yn(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function So(e,t){return t==null&&(t=se(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Eo(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function jo(e,t){return t==null&&(t=se(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var goe=Ar,N8=tr;function S2(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Kh(e,t){var r=!1;return t==null&&(r=!0,t=se(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var xoe=Ar,A1=S2,E2=Kh;function T8(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Hh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ls(t,0)>>2;return r?a/100:a}function A8(e,t){t==null&&(t=se(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function C8(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function voe(e,t){return t||(t=se(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var No=C8,hc=voe;function pc(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function mo(e,t){return(t||se(8)).write_shift(8,e,"f")}function yoe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Toe[a];u&&(t.rgb=zN(u));break;case 2:t.rgb=zN([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Gh(e,t){if(t||(t=se(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function boe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function woe(e,t){t||(t=se(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var P8=2,on=3,Hf=11,Yh=19,Kf=64,koe=65,_oe=71,Soe=4108,Eoe=4126,fr=80,AN={1:{n:"CodePage",t:P8},2:{n:"Category",t:fr},3:{n:"PresentationFormat",t:fr},4:{n:"ByteCount",t:on},5:{n:"LineCount",t:on},6:{n:"ParagraphCount",t:on},7:{n:"SlideCount",t:on},8:{n:"NoteCount",t:on},9:{n:"HiddenCount",t:on},10:{n:"MultimediaClipCount",t:on},11:{n:"ScaleCrop",t:Hf},12:{n:"HeadingPairs",t:Soe},13:{n:"TitlesOfParts",t:Eoe},14:{n:"Manager",t:fr},15:{n:"Company",t:fr},16:{n:"LinksUpToDate",t:Hf},17:{n:"CharacterCount",t:on},19:{n:"SharedDoc",t:Hf},22:{n:"HyperlinksChanged",t:Hf},23:{n:"AppVersion",t:on,p:"version"},24:{n:"DigSig",t:koe},26:{n:"ContentType",t:fr},27:{n:"ContentStatus",t:fr},28:{n:"Language",t:fr},29:{n:"Version",t:fr},255:{},2147483648:{n:"Locale",t:Yh},2147483651:{n:"Behavior",t:Yh},1919054434:{}},CN={1:{n:"CodePage",t:P8},2:{n:"Title",t:fr},3:{n:"Subject",t:fr},4:{n:"Author",t:fr},5:{n:"Keywords",t:fr},6:{n:"Comments",t:fr},7:{n:"Template",t:fr},8:{n:"LastAuthor",t:fr},9:{n:"RevNumber",t:fr},10:{n:"EditTime",t:Kf},11:{n:"LastPrinted",t:Kf},12:{n:"CreatedDate",t:Kf},13:{n:"ModifiedDate",t:Kf},14:{n:"PageCount",t:on},15:{n:"WordCount",t:on},16:{n:"CharCount",t:on},17:{n:"Thumbnail",t:_oe},18:{n:"Application",t:fr},19:{n:"DocSecurity",t:on},255:{},2147483648:{n:"Locale",t:Yh},2147483651:{n:"Behavior",t:Yh},1919054434:{}};function joe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Noe=joe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Toe=an(Noe),Hd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Aoe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Gf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function O8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function D8(e,t){var r=zse(Aoe),n=[],a;n[n.length]=zt,n[n.length]=me("Types",null,{xmlns:Zt.CT,"xmlns:xsd":Zt.xsd,"xmlns:xsi":Zt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return me("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=me("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Gf[c][t.bookType]||Gf[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=me("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Gf[c][t.bookType]||Gf[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=me("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Re={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function M8(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function wl(e){var t=[zt,me("Relationships",null,{xmlns:Zt.RELS})];return yr(e["!id"]).forEach(function(r){t[t.length]=me("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ve(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Re.HLINK,Re.XPATH,Re.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function Coe(e){var t=[zt];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function PN(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Poe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Ooe(e){var t=[zt];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(PN(e[r][0],e[r][1])),t.push(Poe("",e[r][0]));return t.push(PN("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function I8(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+zh.version+"</meta:generator></office:meta></office:document-meta>"}var no=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tx(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=He(t),n[n.length]=r?me(e,t,r):mr(e,t))}function F8(e,t){var r=t||{},n=[zt,me("cp:coreProperties",null,{"xmlns:cp":Zt.CORE_PROPS,"xmlns:dc":Zt.dc,"xmlns:dcterms":Zt.dcterms,"xmlns:dcmitype":Zt.dcmitype,"xmlns:xsi":Zt.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&tx("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:T1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&tx("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:T1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=no.length;++i){var s=no[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&tx(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var kl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],L8=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function R8(e){var t=[],r=me;return e||(e={}),e.Application="SheetJS",t[t.length]=zt,t[t.length]=me("Properties",null,{xmlns:Zt.EXT_PROPS,"xmlns:vt":Zt.vt}),kl.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=He(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+He(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function z8(e){var t=[zt,me("Properties",null,{xmlns:Zt.CUST_PROPS,"xmlns:vt":Zt.vt})];if(!e)return t.join("");var r=1;return yr(e).forEach(function(a){++r,t[t.length]=me("property",qse(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:He(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var ON={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Doe(e,t){var r=[];return yr(ON).map(function(n){for(var a=0;a<no.length;++a)if(no[a][1]==n)return no[a];for(a=0;a<kl.length;++a)if(kl[a][1]==n)return kl[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(mr(ON[n[1]]||n[1],a))}}),me("DocumentProperties",r.join(""),{xmlns:fn.o})}function Moe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&yr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<no.length;++s)if(i==no[s][1])return;for(s=0;s<kl.length;++s)if(i==kl[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(me(yN(i),o,{"dt:dt":c}))}}),t&&yr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(me(yN(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+fn.o+'">'+a.join("")+"</"+n+">"}function Ioe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=se(8);return s.write_shift(4,n),s.write_shift(4,a),s}function DN(e,t){var r=se(4),n=se(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=se(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Ioe(t);break;case 31:case 80:for(n=se(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return pr([r,n])}var B8=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Foe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function MN(e,t,r){var n=se(8),a=[],i=[],s=8,o=0,c=se(8),u=se(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=se(8),u.write_shift(4,0),a.unshift(u);var d=[se(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(c=se(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=pr(d),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(B8.indexOf(e[o][0])>-1||L8.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var g=r[p];if(g.p=="version"&&typeof h=="string"){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}c=DN(g.t,h)}else{var x=Foe(h);x==-1&&(x=31,h=String(h)),c=DN(x,h)}i.push(c),u=se(8),u.write_shift(4,t?p:2+o),a.push(u),s+=8+c.length}var v=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,v),v+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),pr([n].concat(a).concat(i))}function IN(e,t,r,n,a,i){var s=se(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Ye.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=MN(e,r,n);if(o.push(c),a){var u=MN(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return pr(o)}function Loe(e,t){t||(t=se(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Roe(e,t){return e.read_shift(t)===1}function Fr(e,t){return t||(t=se(2)),t.write_shift(2,+!!e),t}function $8(e){return e.read_shift(2,"u")}function On(e,t){return t||(t=se(2)),t.write_shift(2,e),t}function U8(e,t,r){return r||(r=se(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function V8(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function zoe(e){var t=e.t||"",r=se(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=se(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return pr(a)}function Boe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function $oe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Boe(e,n,r)}function Uoe(e,t,r){if(r.biff>5)return $oe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function W8(e,t,r){return r||(r=se(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function FN(e,t){t||(t=se(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Voe(e){var t=se(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),FN(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&FN(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function go(e,t,r,n){return n||(n=se(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Woe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Hoe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function H8(e,t){return t||(t=se(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function j2(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=se(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Koe(e,t){var r=!t||t.biff==8,n=se(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Goe(e,t){var r=!t||t.biff>=8?2:1,n=se(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Yoe(e,t){var r=se(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=zoe(e[a]);var i=pr([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Xoe(){var e=se(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function qoe(e){var t=se(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Joe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=se(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Qoe(e,t,r,n){var a=se(10);return go(e,t,n,a),a.write_shift(4,r),a}function Zoe(e,t,r,n,a){var i=!a||a.biff==8,s=se(8+ +i+(1+i)*r.length);return go(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function ele(e,t,r,n){var a=r&&r.biff==5;n||(n=se(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function tle(e,t){var r=t.biff==8||!t.biff?4:2,n=se(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function LN(e,t,r,n){var a=r&&r.biff==5;n||(n=se(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function rle(e){var t=se(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function nle(e,t,r,n,a,i){var s=se(8);return go(e,t,n,s),U8(r,i,s),s}function ale(e,t,r,n){var a=se(14);return go(e,t,n,a),mo(r,a),a}function ile(e,t,r){if(r.biff<8)return sle(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Woe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function sle(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=V8(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function ole(e){var t=se(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)H8(e[r],t);return t}function lle(e){var t=se(24),r=er(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return pr([t,Voe(e[1])])}function cle(e){var t=e[1].Tooltip,r=se(10+2*(t.length+1));r.write_shift(2,2048);var n=er(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function ule(e){return e||(e=se(4)),e.write_shift(2,1),e.write_shift(2,1),e}function dle(e,t,r){if(!r.cellStyles)return Ia(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function fle(e,t){var r=se(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function hle(e){for(var t=se(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function ple(e,t,r){var n=se(15);return Gd(n,e,t),n.write_shift(8,r,"f"),n}function mle(e,t,r){var n=se(9);return Gd(n,e,t),n.write_shift(2,r),n}var gle=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=m2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=po(1);switch(c.type){case"base64":d=sa(xi(o));break;case"binary":d=sa(o);break;case"buffer":case"array":d=o;break}un(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,x=521;f==2&&(m=d.read_shift(2)),d.l+=3,f!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(x=d.read_shift(2));var v=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var w=[],k={},S=Math.min(d.length,f==2?521:x-10-(p?264:0)),E=g?32:11;d.l<S&&d[d.l]!=13;)switch(k={},k.name=Bh.utils.decode(y,d.slice(d.l,d.l+E)).replace(/[\u0000\r\n].*$/g,""),d.l+=E,k.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(k.offset=d.read_shift(4)),k.len=d.read_shift(1),f==2&&(k.offset=d.read_shift(2)),k.dec=d.read_shift(1),k.name.length&&w.push(k),f!=2&&(d.l+=g?13:14),k.type){case"B":(!p||k.len!=8)&&c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(d[d.l]!==13&&(d.l=x-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=x;var j=0,C=0;for(u[0]=[],C=0;C!=w.length;++C)u[0][C]=w[C].name;for(;m-- >0;){if(d[d.l]===42){d.l+=v;continue}for(++d.l,u[++j]=[],C=0,C=0;C!=w.length;++C){var T=d.slice(d.l,d.l+w[C].len);d.l+=w[C].len,un(T,0);var M=Bh.utils.decode(y,T);switch(w[C].type){case"C":M.trim().length&&(u[j][C]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[j][C]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[j][C]=M;break;case"F":u[j][C]=parseFloat(M.trim());break;case"+":case"I":u[j][C]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[j][C]=!0;break;case"N":case"F":u[j][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][C]="##MEMO##"+(g?parseInt(M.trim(),10):T.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[j][C]=+M||0);break;case"@":u[j][C]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[j][C]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[j][C]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][C]=-T.read_shift(-8,"f");break;case"B":if(p&&w[C].len==8){u[j][C]=T.read_shift(8,"f");break}case"G":case"P":T.l+=w[C].len;break;case"0":if(w[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=fc(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(o,c){try{return _o(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&sd(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=rn(),f=Zh(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),g=o["!cols"]||[],m=0,x=0,v=0,y=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++v;continue}if(h[m]!=null){if(++v,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(x=0;x<1024;++x)if(h.indexOf(h[m]+"_"+x)==-1){h[m]+="_"+x;break}}}}var w=lt(o["!ref"]),k=[],S=[],E=[];for(m=0;m<=w.e.c-w.s.c;++m){var j="",C="",T=0,M=[];for(x=0;x<p.length;++x)p[x][m]!=null&&M.push(p[x][m]);if(M.length==0||h[m]==null){k[m]="?";continue}for(x=0;x<M.length;++x){switch(typeof M[x]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=M[x]instanceof Date?"D":"C";break;default:C="C"}T=Math.max(T,String(M[x]).length),j=j&&j!=C?"C":C}T>250&&(T=250),C=((g[m]||{}).DBF||{}).type,C=="C"&&g[m].DBF.len>T&&(T=g[m].DBF.len),j=="B"&&C=="N"&&(j="N",E[m]=g[m].DBF.dec,T=g[m].DBF.len),S[m]=j=="C"||C=="N"?T:i[j]||0,y+=S[m],k[m]=j}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,p.length),D.write_shift(2,296+32*v),D.write_shift(2,y),m=0;m<4;++m)D.write_shift(4,0);for(D.write_shift(4,0|(+t[G6]||3)<<8),m=0,x=0;m<h.length;++m)if(h[m]!=null){var A=d.next(32),_=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,_,"sbcs"),A.write_shift(1,k[m]=="?"?"C":k[m],"sbcs"),A.write_shift(4,x),A.write_shift(1,S[m]||i[k[m]]||0),A.write_shift(1,E[m]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),x+=S[m]||i[k[m]]||0}var N=d.next(264);for(N.write_shift(4,13),m=0;m<65;++m)N.write_shift(4,0);for(m=0;m<p.length;++m){var O=d.next(y);for(O.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(k[x]){case"L":O.write_shift(1,p[m][x]==null?63:p[m][x]?84:70);break;case"B":O.write_shift(8,p[m][x]||0,"f");break;case"N":var K="0";for(typeof p[m][x]=="number"&&(K=p[m][x].toFixed(E[x]||0)),v=0;v<S[x]-K.length;++v)O.write_shift(1,32);O.write_shift(1,K,"sbcs");break;case"D":p[m][x]?(O.write_shift(4,("0000"+p[m][x].getFullYear()).slice(-4),"sbcs"),O.write_shift(2,("00"+(p[m][x].getMonth()+1)).slice(-2),"sbcs"),O.write_shift(2,("00"+p[m][x].getDate()).slice(-2),"sbcs")):O.write_shift(8,"00000000","sbcs");break;case"C":var I=String(p[m][x]!=null?p[m][x]:"").slice(0,S[x]);for(O.write_shift(1,I,"sbcs"),v=0;v<S[x]-I.length;++v)O.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),xle=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+yr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var g=e[p];return typeof g=="number"?oN(g):g},n=function(h,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:oN(m)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(xi(h),p);case"binary":return i(h,p);case"buffer":return i($e&&Buffer.isBuffer(h)?h.toString("binary"):Ud(h),p);case"array":return i(Nm(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var g=h.split(/[\n\r]+/),m=-1,x=-1,v=0,y=0,w=[],k=[],S=null,E={},j=[],C=[],T=[],M=0,D;for(+p.codepage>=0&&sd(+p.codepage);v!==g.length;++v){M=0;var A=g[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),_=A.replace(/;;/g,"\0").split(";").map(function(L){return L.replace(/\u0000/g,";")}),N=_[0],O;if(A.length>0)switch(N){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":_[1].charAt(0)=="P"&&k.push(A.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,I=!1,Y=!1,G=!1,q=-1,ce=-1;for(y=1;y<_.length;++y)switch(_[y].charAt(0)){case"A":break;case"X":x=parseInt(_[y].slice(1))-1,I=!0;break;case"Y":for(m=parseInt(_[y].slice(1))-1,I||(x=0),D=w.length;D<=m;++D)w[D]=[];break;case"K":O=_[y].slice(1),O.charAt(0)==='"'?O=O.slice(1,O.length-1):O==="TRUE"?O=!0:O==="FALSE"?O=!1:isNaN(ai(O))?isNaN(ld(O).getDate())||(O=Br(O)):(O=ai(O),S!==null&&i8(S)&&(O=c8(O))),K=!0;break;case"E":G=!0;var F=mce(_[y].slice(1),{r:m,c:x});w[m][x]=[w[m][x],F];break;case"S":Y=!0,w[m][x]=[w[m][x],"S5S"];break;case"G":break;case"R":q=parseInt(_[y].slice(1))-1;break;case"C":ce=parseInt(_[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}if(K&&(w[m][x]&&w[m][x].length==2?w[m][x][0]=O:w[m][x]=O,S=null),Y){if(G)throw new Error("SYLK shared formula cannot have own formula");var z=q>-1&&w[q][ce];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");w[m][x][1]=gce(z[1],{r:m-q,c:x-ce})}break;case"F":var H=0;for(y=1;y<_.length;++y)switch(_[y].charAt(0)){case"X":x=parseInt(_[y].slice(1))-1,++H;break;case"Y":for(m=parseInt(_[y].slice(1))-1,D=w.length;D<=m;++D)w[D]=[];break;case"M":M=parseInt(_[y].slice(1))/20;break;case"F":break;case"G":break;case"P":S=k[parseInt(_[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=_[y].slice(1).split(" "),D=parseInt(T[0],10);D<=parseInt(T[1],10);++D)M=parseInt(T[2],10),C[D-1]=M===0?{hidden:!0}:{wch:M},N2(C[D-1]);break;case"C":x=parseInt(_[y].slice(1))-1,C[x]||(C[x]={});break;case"R":m=parseInt(_[y].slice(1))-1,j[m]||(j[m]={}),M>0?(j[m].hpt=M,j[m].hpx=q8(M)):M===0&&(j[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}H<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}}return j.length>0&&(E["!rows"]=j),C.length>0&&(E["!cols"]=C),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,E]}function s(h,p){var g=a(h,p),m=g[0],x=g[1],v=fc(m,p);return yr(x).forEach(function(y){v[y]=x[y]}),v}function o(h,p){return _o(s(h,p),p)}function c(h,p,g,m){var x="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+A2(h.f,{r:g,c:m}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(h,p){p.forEach(function(g,m){var x="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Xh(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=qh(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function d(h,p){p.forEach(function(g,m){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Jh(g.hpx)+";"),x.length>2&&h.push(x+"R"+(m+1))})}function f(h,p){var g=["ID;PWXL;N;E"],m=[],x=lt(h["!ref"]),v,y=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var k=x.s.r;k<=x.e.r;++k)for(var S=x.s.c;S<=x.e.c;++S){var E=Ge({r:k,c:S});v=y?(h[k]||[])[S]:h[E],!(!v||v.v==null&&(!v.f||v.F))&&m.push(c(v,h,k,S))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),vle=function(){function e(i,s){switch(s.type){case"base64":return t(xi(i),s);case"binary":return t(i,s);case"buffer":return t($e&&Buffer.isBuffer(i)?i.toString("binary"):Ud(i),s);case"array":return t(Nm(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=o[d].trim().split(","),p=h[0],g=h[1];++d;for(var m=o[d]||"";(m.match(/["]/g)||[]).length&1&&d<o.length-1;)m+=`
`+o[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){f[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[c][u]=!0:m==="FALSE"?f[c][u]=!1:isNaN(ai(g))?isNaN(ld(g).getDate())?f[c][u]=g:f[c][u]=Br(g):f[c][u]=ai(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return fc(e(i,s),s)}function n(i,s){return _o(r(i,s),s)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=lt(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){s(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=Ge({r:p,c:g});if(f=h?(c[p]||[])[g]:c[m],!f){s(u,1,0,"");continue}switch(f.t){case"n":var x=f.w;!x&&f.v!=null&&(x=f.v),x==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=cs(f.z||jt[14],nn(Br(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var v=`\r
`,y=u.join(v);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),K8=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),g=-1,m=-1,x=0,v=[];x!==p.length;++x){var y=p[x].trim().split(":");if(y[0]==="cell"){var w=er(y[1]);if(v.length<=w.r)for(g=v.length;g<=w.r;++g)v[g]||(v[g]=[]);switch(g=w.r,m=w.c,y[2]){case"t":v[g][m]=e(y[3]);break;case"v":v[g][m]=+y[3];break;case"vtf":var k=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[g][m]=!!+y[4];break;default:v[g][m]=+y[4];break}y[2]=="vtf"&&(v[g][m]=[v[g][m],k])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(f,h){return fc(r(f,h),h)}function a(f,h){return _o(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],g,m="",x=wn(f["!ref"]),v=Array.isArray(f),y=x.s.r;y<=x.e.r;++y)for(var w=x.s.c;w<=x.e.c;++w)if(m=Ge({r:y,c:w}),g=v?(f[y]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(t(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=t(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var k=nn(Br(g.v));p[2]="vtc",p[3]="nd",p[4]=""+k,p[5]=g.w||cs(g.z||jt[14],k);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,s,o,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),yle=function(){function e(d,f,h,p,g){g.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(ai(d))?isNaN(ld(d).getDate())?f[h][p]=d:f[h][p]=Br(d):f[h][p]=ai(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var x=10,v=0,y=0;y<=m;++y)v=g[y].indexOf(" "),v==-1?v=g[y].length:v++,x=Math.max(x,v);for(y=0;y<=m;++y){p[y]=[];var w=0;for(e(g[y].slice(0,x).trim(),p,y,w,h),w=1;w<=(g[y].length-x)/10+1;++w)e(g[y].slice(x+(w-1)*10,x+w*10).trim(),p,y,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p]);if(!g.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&g.push([f[p],p])}return g.sort(function(m,x){return m[0]-x[0]||n[m[1]]-n[x[1]]}),r[g.pop()[1]]||44}function i(d,f){var h=f||{},p="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var x=0,v=0,y=0,w=0,k=0,S=p.charCodeAt(0),E=!1,j=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Ise(h.dateNF):null;function M(){var D=d.slice(w,k),A={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)A.t="z";else if(h.raw)A.t="s",A.v=D;else if(D.trim().length===0)A.t="s",A.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(A.t="s",A.v=D.slice(2,-1).replace(/""/g,'"')):xce(D)?(A.t="n",A.f=D.slice(1)):(A.t="s",A.v=D);else if(D=="TRUE")A.t="b",A.v=!0;else if(D=="FALSE")A.t="b",A.v=!1;else if(!isNaN(y=ai(D)))A.t="n",h.cellText!==!1&&(A.w=D),A.v=y;else if(!isNaN(ld(D).getDate())||T&&D.match(T)){A.z=h.dateNF||jt[14];var _=0;T&&D.match(T)&&(D=Fse(D,h.dateNF,D.match(T)||[]),_=1),h.cellDates?(A.t="d",A.v=Br(D,_)):(A.t="n",A.v=nn(Br(D,_))),h.cellText!==!1&&(A.w=cs(A.z,A.v instanceof Date?nn(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=D;if(A.t=="z"||(h.dense?(g[x]||(g[x]=[]),g[x][v]=A):g[Ge({c:v,r:x})]=A),w=k+1,C=d.charCodeAt(w),m.e.c<v&&(m.e.c=v),m.e.r<x&&(m.e.r=x),j==S)++v;else if(v=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;k<d.length;++k)switch(j=d.charCodeAt(k)){case 34:C===34&&(E=!E);break;case S:case 10:case 13:if(!E&&M())break e;break}return k-w>0&&M(),g["!ref"]=Rt(m),g}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):fc(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:P0e(d,f);switch(f.type){case"base64":h=xi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Bh<"u"||(h=$e&&Buffer.isBuffer(d)?d.toString("binary"):Ud(d));break;case"array":h=Nm(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=xu(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=xu(h):f.type=="binary"&&typeof Bh<"u",h.slice(0,19)=="socialcalc:version:"?K8.to_sheet(f.type=="string"?h:xu(h),f):s(h,f)}function c(d,f){return _o(o(d,f),f)}function u(d){for(var f=[],h=lt(d["!ref"]),p,g=Array.isArray(d),m=h.s.r;m<=h.e.r;++m){for(var x=[],v=h.s.c;v<=h.e.c;++v){var y=Ge({r:m,c:v});if(p=g?(d[m]||[])[v]:d[y],!p||p.v==null){x.push("          ");continue}for(var w=(p.w||(vi(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(v===0?" ":""))}f.push(x.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),RN=function(){function e(F,z,H){if(F){un(F,F.l||0);for(var L=H.Enum||q;F.l<F.length;){var X=F.read_shift(2),ee=L[X]||L[65535],he=F.read_shift(2),ne=F.l+he,ie=ee.f&&ee.f(F,he,H);if(F.l=ne,z(ie,ee,X))return}}}function t(F,z){switch(z.type){case"base64":return r(sa(xi(F)),z);case"binary":return r(sa(F),z);case"buffer":case"array":return r(F,z)}throw"Unsupported type "+z.type}function r(F,z){if(!F)return F;var H=z||{},L=H.dense?[]:{},X="Sheet1",ee="",he=0,ne={},ie=[],Se=[],ae={s:{r:0,c:0},e:{r:0,c:0}},Le=H.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)H.Enum=q,e(F,function(ye,Xt,Bt){switch(Bt){case 0:H.vers=ye,ye>=4096&&(H.qpro=!0);break;case 6:ae=ye;break;case 204:ye&&(ee=ye);break;case 222:ee=ye;break;case 15:case 51:H.qpro||(ye[1].v=ye[1].v.slice(1));case 13:case 14:case 16:Bt==14&&(ye[2]&112)==112&&(ye[2]&15)>1&&(ye[2]&15)<15&&(ye[1].z=H.dateNF||jt[14],H.cellDates&&(ye[1].t="d",ye[1].v=c8(ye[1].v))),H.qpro&&ye[3]>he&&(L["!ref"]=Rt(ae),ne[X]=L,ie.push(X),L=H.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},he=ye[3],X=ee||"Sheet"+(he+1),ee="");var La=H.dense?(L[ye[0].r]||[])[ye[0].c]:L[Ge(ye[0])];if(La){La.t=ye[1].t,La.v=ye[1].v,ye[1].z!=null&&(La.z=ye[1].z),ye[1].f!=null&&(La.f=ye[1].f);break}H.dense?(L[ye[0].r]||(L[ye[0].r]=[]),L[ye[0].r][ye[0].c]=ye[1]):L[Ge(ye[0])]=ye[1];break}},H);else if(F[2]==26||F[2]==14)H.Enum=ce,F[2]==14&&(H.qpro=!0,F.l=0),e(F,function(ye,Xt,Bt){switch(Bt){case 204:X=ye;break;case 22:ye[1].v=ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ye[3]>he&&(L["!ref"]=Rt(ae),ne[X]=L,ie.push(X),L=H.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},he=ye[3],X="Sheet"+(he+1)),Le>0&&ye[0].r>=Le)break;H.dense?(L[ye[0].r]||(L[ye[0].r]=[]),L[ye[0].r][ye[0].c]=ye[1]):L[Ge(ye[0])]=ye[1],ae.e.c<ye[0].c&&(ae.e.c=ye[0].c),ae.e.r<ye[0].r&&(ae.e.r=ye[0].r);break;case 27:ye[14e3]&&(Se[ye[14e3][0]]=ye[14e3][1]);break;case 1537:Se[ye[0]]=ye[1],ye[0]==he&&(X=ye[1]);break}},H);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(L["!ref"]=Rt(ae),ne[ee||X]=L,ie.push(ee||X),!Se.length)return{SheetNames:ie,Sheets:ne};for(var Ee={},tt=[],De=0;De<Se.length;++De)ne[ie[De]]?(tt.push(Se[De]||ie[De]),Ee[Se[De]]=ne[Se[De]]||ne[ie[De]]):(tt.push(Se[De]),Ee[Se[De]]={"!ref":"A1"});return{SheetNames:tt,Sheets:Ee}}function n(F,z){var H=z||{};if(+H.codepage>=0&&sd(+H.codepage),H.type=="string")throw new Error("Cannot write WK1 to JS string");var L=rn(),X=lt(F["!ref"]),ee=Array.isArray(F),he=[];ge(L,0,i(1030)),ge(L,6,c(X));for(var ne=Math.min(X.e.r,8191),ie=X.s.r;ie<=ne;++ie)for(var Se=xr(ie),ae=X.s.c;ae<=X.e.c;++ae){ie===X.s.r&&(he[ae]=Tr(ae));var Le=he[ae]+Se,Ee=ee?(F[ie]||[])[ae]:F[Le];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?ge(L,13,p(ie,ae,Ee.v)):ge(L,14,m(ie,ae,Ee.v));else{var tt=vi(Ee);ge(L,15,f(ie,ae,tt.slice(0,239)))}}return ge(L,1),L.end()}function a(F,z){var H=z||{};if(+H.codepage>=0&&sd(+H.codepage),H.type=="string")throw new Error("Cannot write WK3 to JS string");var L=rn();ge(L,0,s(F));for(var X=0,ee=0;X<F.SheetNames.length;++X)(F.Sheets[F.SheetNames[X]]||{})["!ref"]&&ge(L,27,G(F.SheetNames[X],ee++));var he=0;for(X=0;X<F.SheetNames.length;++X){var ne=F.Sheets[F.SheetNames[X]];if(!(!ne||!ne["!ref"])){for(var ie=lt(ne["!ref"]),Se=Array.isArray(ne),ae=[],Le=Math.min(ie.e.r,8191),Ee=ie.s.r;Ee<=Le;++Ee)for(var tt=xr(Ee),De=ie.s.c;De<=ie.e.c;++De){Ee===ie.s.r&&(ae[De]=Tr(De));var ye=ae[De]+tt,Xt=Se?(ne[Ee]||[])[De]:ne[ye];if(!(!Xt||Xt.t=="z"))if(Xt.t=="n")ge(L,23,M(Ee,De,he,Xt.v));else{var Bt=vi(Xt);ge(L,22,j(Ee,De,he,Bt.slice(0,239)))}}++he}}return ge(L,1),L.end()}function i(F){var z=se(2);return z.write_shift(2,F),z}function s(F){var z=se(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var H=0,L=0,X=0,ee=0;ee<F.SheetNames.length;++ee){var he=F.SheetNames[ee],ne=F.Sheets[he];if(!(!ne||!ne["!ref"])){++X;var ie=wn(ne["!ref"]);H<ie.e.r&&(H=ie.e.r),L<ie.e.c&&(L=ie.e.c)}}return H>8191&&(H=8191),z.write_shift(2,H),z.write_shift(1,X),z.write_shift(1,L),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(F,z,H){var L={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&H.qpro?(L.s.c=F.read_shift(1),F.l++,L.s.r=F.read_shift(2),L.e.c=F.read_shift(1),F.l++,L.e.r=F.read_shift(2),L):(L.s.c=F.read_shift(2),L.s.r=F.read_shift(2),z==12&&H.qpro&&(F.l+=2),L.e.c=F.read_shift(2),L.e.r=F.read_shift(2),z==12&&H.qpro&&(F.l+=2),L.s.c==65535&&(L.s.c=L.e.c=L.s.r=L.e.r=0),L)}function c(F){var z=se(8);return z.write_shift(2,F.s.c),z.write_shift(2,F.s.r),z.write_shift(2,F.e.c),z.write_shift(2,F.e.r),z}function u(F,z,H){var L=[{c:0,r:0},{t:"n",v:0},0,0];return H.qpro&&H.vers!=20768?(L[0].c=F.read_shift(1),L[3]=F.read_shift(1),L[0].r=F.read_shift(2),F.l+=2):(L[2]=F.read_shift(1),L[0].c=F.read_shift(2),L[0].r=F.read_shift(2)),L}function d(F,z,H){var L=F.l+z,X=u(F,z,H);if(X[1].t="s",H.vers==20768){F.l++;var ee=F.read_shift(1);return X[1].v=F.read_shift(ee,"utf8"),X}return H.qpro&&F.l++,X[1].v=F.read_shift(L-F.l,"cstr"),X}function f(F,z,H){var L=se(7+H.length);L.write_shift(1,255),L.write_shift(2,z),L.write_shift(2,F),L.write_shift(1,39);for(var X=0;X<L.length;++X){var ee=H.charCodeAt(X);L.write_shift(1,ee>=128?95:ee)}return L.write_shift(1,0),L}function h(F,z,H){var L=u(F,z,H);return L[1].v=F.read_shift(2,"i"),L}function p(F,z,H){var L=se(7);return L.write_shift(1,255),L.write_shift(2,z),L.write_shift(2,F),L.write_shift(2,H,"i"),L}function g(F,z,H){var L=u(F,z,H);return L[1].v=F.read_shift(8,"f"),L}function m(F,z,H){var L=se(13);return L.write_shift(1,255),L.write_shift(2,z),L.write_shift(2,F),L.write_shift(8,H,"f"),L}function x(F,z,H){var L=F.l+z,X=u(F,z,H);if(X[1].v=F.read_shift(8,"f"),H.qpro)F.l=L;else{var ee=F.read_shift(2);k(F.slice(F.l,F.l+ee),X),F.l+=ee}return X}function v(F,z,H){var L=z&32768;return z&=-32769,z=(L?F:0)+(z>=8192?z-16384:z),(L?"":"$")+(H?Tr(z):xr(z))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(F,z){un(F,0);for(var H=[],L=0,X="",ee="",he="",ne="";F.l<F.length;){var ie=F[F.l++];switch(ie){case 0:H.push(F.read_shift(8,"f"));break;case 1:ee=v(z[0].c,F.read_shift(2),!0),X=v(z[0].r,F.read_shift(2),!1),H.push(ee+X);break;case 2:{var Se=v(z[0].c,F.read_shift(2),!0),ae=v(z[0].r,F.read_shift(2),!1);ee=v(z[0].c,F.read_shift(2),!0),X=v(z[0].r,F.read_shift(2),!1),H.push(Se+ae+":"+ee+X)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:H.push("("+H.pop()+")");break;case 5:H.push(F.read_shift(2));break;case 6:{for(var Le="";ie=F[F.l++];)Le+=String.fromCharCode(ie);H.push('"'+Le.replace(/"/g,'""')+'"')}break;case 8:H.push("-"+H.pop());break;case 23:H.push("+"+H.pop());break;case 22:H.push("NOT("+H.pop()+")");break;case 20:case 21:ne=H.pop(),he=H.pop(),H.push(["AND","OR"][ie-20]+"("+he+","+ne+")");break;default:if(ie<32&&w[ie])ne=H.pop(),he=H.pop(),H.push(he+w[ie]+ne);else if(y[ie]){if(L=y[ie][1],L==69&&(L=F[F.l++]),L>H.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+H.join("|")+"|");return}var Ee=H.slice(-L);H.length-=L,H.push(y[ie][0]+"("+Ee.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}H.length==1?z[1].f=""+H[0]:console.error("WK1 bad formula parse |"+H.join("|")+"|")}function S(F){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=F.read_shift(2),z[3]=F[F.l++],z[0].c=F[F.l++],z}function E(F,z){var H=S(F);return H[1].t="s",H[1].v=F.read_shift(z-4,"cstr"),H}function j(F,z,H,L){var X=se(6+L.length);X.write_shift(2,F),X.write_shift(1,H),X.write_shift(1,z),X.write_shift(1,39);for(var ee=0;ee<L.length;++ee){var he=L.charCodeAt(ee);X.write_shift(1,he>=128?95:he)}return X.write_shift(1,0),X}function C(F,z){var H=S(F);H[1].v=F.read_shift(2);var L=H[1].v>>1;if(H[1].v&1)switch(L&7){case 0:L=(L>>3)*5e3;break;case 1:L=(L>>3)*500;break;case 2:L=(L>>3)/20;break;case 3:L=(L>>3)/200;break;case 4:L=(L>>3)/2e3;break;case 5:L=(L>>3)/2e4;break;case 6:L=(L>>3)/16;break;case 7:L=(L>>3)/64;break}return H[1].v=L,H}function T(F,z){var H=S(F),L=F.read_shift(4),X=F.read_shift(4),ee=F.read_shift(2);if(ee==65535)return L===0&&X===3221225472?(H[1].t="e",H[1].v=15):L===0&&X===3489660928?(H[1].t="e",H[1].v=42):H[1].v=0,H;var he=ee&32768;return ee=(ee&32767)-16446,H[1].v=(1-he*2)*(X*Math.pow(2,ee+32)+L*Math.pow(2,ee)),H}function M(F,z,H,L){var X=se(14);if(X.write_shift(2,F),X.write_shift(1,H),X.write_shift(1,z),L==0)return X.write_shift(4,0),X.write_shift(4,0),X.write_shift(2,65535),X;var ee=0,he=0,ne=0,ie=0;return L<0&&(ee=1,L=-L),he=Math.log2(L)|0,L/=Math.pow(2,he-31),ie=L>>>0,ie&2147483648||(L/=2,++he,ie=L>>>0),L-=ie,ie|=2147483648,ie>>>=0,L*=Math.pow(2,32),ne=L>>>0,X.write_shift(4,ne),X.write_shift(4,ie),he+=16383+(ee?32768:0),X.write_shift(2,he),X}function D(F,z){var H=T(F);return F.l+=z-14,H}function A(F,z){var H=S(F),L=F.read_shift(4);return H[1].v=L>>6,H}function _(F,z){var H=S(F),L=F.read_shift(8,"f");return H[1].v=L,H}function N(F,z){var H=_(F);return F.l+=z-10,H}function O(F,z){return F[F.l+z-1]==0?F.read_shift(z,"cstr"):""}function K(F,z){var H=F[F.l++];H>z-1&&(H=z-1);for(var L="";L.length<H;)L+=String.fromCharCode(F[F.l++]);return L}function I(F,z,H){if(!(!H.qpro||z<21)){var L=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var X=F.read_shift(z-21,"cstr");return[L,X]}}function Y(F,z){for(var H={},L=F.l+z;F.l<L;){var X=F.read_shift(2);if(X==14e3){for(H[X]=[0,""],H[X][0]=F.read_shift(2);F[F.l];)H[X][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return H}function G(F,z){var H=se(5+F.length);H.write_shift(2,14e3),H.write_shift(2,z);for(var L=0;L<F.length;++L){var X=F.charCodeAt(L);H[H.l++]=X>127?95:X}return H[H.l++]=0,H}var q={0:{n:"BOF",f:$8},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:O},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:E},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:_},40:{n:"FORMULA28",f:N},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:O},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:I},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),ble=/^\s|\s$|[\t\n\r]/;function G8(e,t){if(!t.bookSST)return"";var r=[zt];r[r.length]=me("sst",null,{xmlns:dc[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(ble)&&(i+=' xml:space="preserve"'),i+=">"+He(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function wle(e){return[e.read_shift(4),e.read_shift(4)]}function kle(e,t){return t||(t=se(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var _le=hoe;function Sle(e){var t=rn();le(t,159,kle(e));for(var r=0;r<e.length;++r)le(t,19,_le(e[r]));return le(t,160),t.end()}function Ele(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Y8(e){var t=0,r,n=Ele(e),a=n.length+1,i,s,o,c,u;for(r=po(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var jle=function(){function e(a,i){switch(i.type){case"base64":return t(xi(a),i);case"binary":return t(a,i);case"buffer":return t($e&&Buffer.isBuffer(a)?a.toString("binary"):Ud(a),i);case"array":return t(Nm(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,g,m=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var x=d.slice(p,h.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++m,x.length){var v={v:x,t:"s"};Array.isArray(o)?o[f][m]=v:o[Ge({r:f,c:m})]=v}break}p=h.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=Rt(u),o}function r(a,i){return _o(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=lt(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Ge({r:u,c:d});o=c?(a[u]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(vi(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function zN(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var Nle=6,ii=Nle;function Xh(e){return Math.floor((e+Math.round(128/ii)/256)*ii)}function qh(e){return Math.floor((e-5)/ii*100+.5)/100}function C1(e){return Math.round((e*ii+5)/ii*256)/256}function N2(e){e.width?(e.wpx=Xh(e.width),e.wch=qh(e.wpx),e.MDW=ii):e.wpx?(e.wch=qh(e.wpx),e.width=C1(e.wch),e.MDW=ii):typeof e.wch=="number"&&(e.width=C1(e.wch),e.wpx=Xh(e.width),e.MDW=ii),e.customWidth&&delete e.customWidth}var Tle=96,X8=Tle;function Jh(e){return e*96/X8}function q8(e){return e*X8/96}function Ale(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=me("numFmt",null,{numFmtId:n,formatCode:He(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=me("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Cle(e){var t=[];return t[t.length]=me("cellXfs",null),e.forEach(function(r){t[t.length]=me("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=me("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function J8(e,t){var r=[zt,me("styleSheet",null,{xmlns:dc[0],"xmlns:vt":Zt.vt})],n;return e.SSF&&(n=Ale(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Cle(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Ple(e,t){var r=e.read_shift(2),n=Ar(e);return[r,n]}function Ole(e,t,r){r||(r=se(6+4*t.length)),r.write_shift(2,e),tr(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Dle(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=boe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=yoe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ar(e),n}function Mle(e,t){t||(t=se(25+4*32)),t.write_shift(2,e.sz*20),woe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Gh(e.color,t);var n=0;return n=2,t.write_shift(1,n),tr(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Ile=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rx,Fle=Ia;function BN(e,t){t||(t=se(4*3+8*7+16*1)),rx||(rx=m2(Ile));var r=rx[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Gh({auto:1},t),Gh({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Lle(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Q8(e,t,r){r||(r=se(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function $c(e,t){return t||(t=se(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Rle=Ia;function zle(e,t){return t||(t=se(51)),t.write_shift(1,0),$c(null,t),$c(null,t),$c(null,t),$c(null,t),$c(null,t),t.length>t.l?t.slice(0,t.l):t}function Ble(e,t){return t||(t=se(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Kh(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function $le(e,t,r){var n=se(2052);return n.write_shift(4,e),Kh(t,n),Kh(r,n),n.length>n.l?n.slice(0,n.l):n}function Ule(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(le(e,615,ua(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&le(e,44,Ole(a,t[a]))}),le(e,616))}}function Vle(e){var t=1;le(e,611,ua(t)),le(e,43,Mle({sz:12,color:{theme:1},name:"Calibri",family:2})),le(e,612)}function Wle(e){var t=2;le(e,603,ua(t)),le(e,45,BN({patternType:"none"})),le(e,45,BN({patternType:"gray125"})),le(e,604)}function Hle(e){var t=1;le(e,613,ua(t)),le(e,46,zle()),le(e,614)}function Kle(e){var t=1;le(e,626,ua(t)),le(e,47,Q8({numFmtId:0},65535)),le(e,627)}function Gle(e,t){le(e,617,ua(t.length)),t.forEach(function(r){le(e,47,Q8(r,0))}),le(e,618)}function Yle(e){var t=1;le(e,619,ua(t)),le(e,48,Ble({xfId:0,name:"Normal"})),le(e,620)}function Xle(e){var t=0;le(e,505,ua(t)),le(e,506)}function qle(e){var t=0;le(e,508,$le(t,"TableStyleMedium9","PivotStyleMedium4")),le(e,509)}function Jle(e,t){var r=rn();return le(r,278),Ule(r,e.SSF),Vle(r),Wle(r),Hle(r),Kle(r),Gle(r,t.cellXfs),Yle(r),Xle(r),qle(r),le(r,279),r.end()}function Z8(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[zt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Qle(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ar(e)}}function Zle(e){var t=se(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),tr(e.name,t),t.slice(0,t.l)}function ece(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function tce(e){var t=se(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function rce(e,t){var r=se(8+2*t.length);return r.write_shift(4,e),tr(t,r),r.slice(0,r.l)}function nce(e){return e.l+=4,e.read_shift(4)!=0}function ace(e,t){var r=se(8);return r.write_shift(4,e),r.write_shift(4,1),r}function ice(){var e=rn();return le(e,332),le(e,334,ua(1)),le(e,335,Zle({name:"XLDAPR",version:12e4,flags:3496657072})),le(e,336),le(e,339,rce(1,"XLDAPR")),le(e,52),le(e,35,ua(514)),le(e,4096,ua(0)),le(e,4097,On(1)),le(e,36),le(e,53),le(e,340),le(e,337,ace(1)),le(e,51,tce([[1,0]])),le(e,338),le(e,333),e.end()}function eM(){var e=[zt];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function sce(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ge(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var cl=1024;function tM(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[me("xml",null,{"xmlns:v":fn.v,"xmlns:o":fn.o,"xmlns:x":fn.x,"xmlns:mv":fn.mv}).replace(/\/>/,">"),me("o:shapelayout",me("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),me("v:shapetype",[me("v:stroke",null,{joinstyle:"miter"}),me("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];cl<e*1e3;)cl+=1e3;return t.forEach(function(i){var s=er(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?me("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=me("v:fill",c,o),d={on:"t",obscured:"t"};++cl,a=a.concat(["<v:shape"+ud({id:"_x0000_s"+cl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,me("v:shadow",null,d),me("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",mr("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),mr("x:AutoFill","False"),mr("x:Row",String(s.r)),mr("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function rM(e){var t=[zt,me("comments",null,{xmlns:dc[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=He(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(He(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(mr("t",He(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(mr("t",He(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function oce(e,t,r){var n=[zt,me("ThreadedComments",null,{xmlns:Zt.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(me("threadedComment",mr("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function lce(e){var t=[zt,me("personList",null,{xmlns:Zt.TCMNT,"xmlns:x":dc[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(me("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function cce(e){var t={};t.iauthor=e.read_shift(4);var r=No(e);return t.rfx=r.s,t.ref=Ge(r.s),e.l+=16,t}function uce(e,t){return t==null&&(t=se(36)),t.write_shift(4,e[1].iauthor),hc(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var dce=Ar;function fce(e){return tr(e.slice(0,54))}function hce(e){var t=rn(),r=[];return le(t,628),le(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),le(t,632,fce(a.a)))})}),le(t,631),le(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:er(n[0]),e:er(n[0])};le(t,635,uce([i,a])),a.t&&a.t.length>0&&le(t,637,moe(a)),le(t,636),delete a.iauthor})}),le(t,634),le(t,629),t.end()}function pce(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Ye.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var nM=["xlsb","xlsm","xlam","biff8","xla"],mce=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,a+(o?"":"$")+Tr(d)+(c?"":"$")+xr(u)}return function(a,i){return t=i,a.replace(e,r)}}(),T2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,A2=function(){return function(t,r){return t.replace(T2,function(n,a,i,s,o,c){var u=k2(s)-(i?0:r.c),d=w2(c)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function gce(e,t){return e.replace(T2,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Tr(k2(i)+t.c))+(s=="$"?s+o:xr(w2(o)+t.r))})}function xce(e){return e.length!=1}function Ot(e){e.l+=1}function us(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function aM(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return iM(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=us(e),o=us(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function iM(e){var t=us(e),r=us(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function vce(e,t,r){if(r.biff<8)return iM(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=us(e),s=us(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function sM(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return yce(e);var n=e.read_shift(r&&r.biff==12?4:2),a=us(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function yce(e){var t=us(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function bce(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function wce(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return kce(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function kce(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function _ce(e,t,r){var n=(e[e.l++]&96)>>5,a=aM(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Sce(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=aM(e,i,r);return[n,a,s]}function Ece(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function jce(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function Nce(e,t,r){var n=(e[e.l++]&96)>>5,a=vce(e,t-1,r);return[n,a]}function Tce(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function $N(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Ace(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Cce(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Pce(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Oce(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Dce(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function oM(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Mce(e){return e.read_shift(2),oM(e)}function Ice(e){return e.read_shift(2),oM(e)}function Fce(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=sM(e,0,r);return[n,a]}function Lce(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=wce(e,0,r);return[n,a]}function Rce(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=sM(e,0,r);return[n,a,i]}function zce(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[zue[a],uM[a],n]}function Bce(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:$ce(e);return[a,(i[0]===0?uM:Rue)[i[1]]]}function $ce(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Uce(e,t,r){e.l+=r&&r.biff==2?3:4}function Vce(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Wce(e){return e.l++,Hd[e.read_shift(1)]}function Hce(e){return e.l++,e.read_shift(2)}function Kce(e){return e.l++,e.read_shift(1)!==0}function Gce(e){return e.l++,pc(e)}function Yce(e,t,r){return e.l++,V8(e,t-1,r)}function Xce(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Roe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Hd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=pc(e);break;case 2:r[1]=Uoe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function qce(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?No:Hoe)(e));return a}function Jce(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Xce(e,r.biff);return s}function Qce(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Zce(e,t,r){if(r.biff==5)return eue(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function eue(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function tue(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function rue(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function nue(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function aue(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var iue=Ia,sue=Ia,oue=Ia;function Kd(e,t,r){return e.l+=2,[bce(e)]}function C2(e){return e.l+=6,[]}var lue=Kd,cue=C2,uue=C2,due=Kd;function lM(e){return e.l+=2,[$8(e),e.read_shift(2)&1]}var fue=Kd,hue=lM,pue=C2,mue=Kd,gue=Kd,xue=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vue(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=xue[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function yue(e){return e.l+=2,[e.read_shift(4)]}function bue(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function wue(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function kue(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function _ue(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Sue(e){return e.l+=4,[0,0]}var UN={1:{n:"PtgExp",f:Vce},2:{n:"PtgTbl",f:oue},3:{n:"PtgAdd",f:Ot},4:{n:"PtgSub",f:Ot},5:{n:"PtgMul",f:Ot},6:{n:"PtgDiv",f:Ot},7:{n:"PtgPower",f:Ot},8:{n:"PtgConcat",f:Ot},9:{n:"PtgLt",f:Ot},10:{n:"PtgLe",f:Ot},11:{n:"PtgEq",f:Ot},12:{n:"PtgGe",f:Ot},13:{n:"PtgGt",f:Ot},14:{n:"PtgNe",f:Ot},15:{n:"PtgIsect",f:Ot},16:{n:"PtgUnion",f:Ot},17:{n:"PtgRange",f:Ot},18:{n:"PtgUplus",f:Ot},19:{n:"PtgUminus",f:Ot},20:{n:"PtgPercent",f:Ot},21:{n:"PtgParen",f:Ot},22:{n:"PtgMissArg",f:Ot},23:{n:"PtgStr",f:Yce},26:{n:"PtgSheet",f:bue},27:{n:"PtgEndSheet",f:wue},28:{n:"PtgErr",f:Wce},29:{n:"PtgBool",f:Kce},30:{n:"PtgInt",f:Hce},31:{n:"PtgNum",f:Gce},32:{n:"PtgArray",f:Tce},33:{n:"PtgFunc",f:zce},34:{n:"PtgFuncVar",f:Bce},35:{n:"PtgName",f:Qce},36:{n:"PtgRef",f:Fce},37:{n:"PtgArea",f:_ce},38:{n:"PtgMemArea",f:tue},39:{n:"PtgMemErr",f:iue},40:{n:"PtgMemNoMem",f:sue},41:{n:"PtgMemFunc",f:rue},42:{n:"PtgRefErr",f:nue},43:{n:"PtgAreaErr",f:Ece},44:{n:"PtgRefN",f:Lce},45:{n:"PtgAreaN",f:Nce},46:{n:"PtgMemAreaN",f:kue},47:{n:"PtgMemNoMemN",f:_ue},57:{n:"PtgNameX",f:Zce},58:{n:"PtgRef3d",f:Rce},59:{n:"PtgArea3d",f:Sce},60:{n:"PtgRefErr3d",f:aue},61:{n:"PtgAreaErr3d",f:jce},255:{}},Eue={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},jue={1:{n:"PtgElfLel",f:lM},2:{n:"PtgElfRw",f:mue},3:{n:"PtgElfCol",f:lue},6:{n:"PtgElfRwV",f:gue},7:{n:"PtgElfColV",f:due},10:{n:"PtgElfRadical",f:fue},11:{n:"PtgElfRadicalS",f:pue},13:{n:"PtgElfColS",f:cue},15:{n:"PtgElfColSV",f:uue},16:{n:"PtgElfRadicalLel",f:hue},25:{n:"PtgList",f:vue},29:{n:"PtgSxName",f:yue},255:{}},Nue={0:{n:"PtgAttrNoop",f:Sue},1:{n:"PtgAttrSemi",f:Dce},2:{n:"PtgAttrIf",f:Pce},4:{n:"PtgAttrChoose",f:Ace},8:{n:"PtgAttrGoto",f:Cce},16:{n:"PtgAttrSum",f:Uce},32:{n:"PtgAttrBaxcel",f:$N},33:{n:"PtgAttrBaxcel",f:$N},64:{n:"PtgAttrSpace",f:Mce},65:{n:"PtgAttrSpaceSemi",f:Ice},128:{n:"PtgAttrIfError",f:Oce},255:{}};function Tue(e,t,r,n){if(n.biff<8)return Ia(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Jce(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=qce(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Ia(e,t)),i}function Aue(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=UN[i]||UN[Eue[i]],(i===24||i===25)&&(a=(i===24?jue:Nue)[e[e.l+1]]),!a||!a.f?Ia(e,t):s.push([a.n,a.f(e,t,r)]);return s}function Cue(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Pue={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Oue(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cM(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function VN(e,t,r){var n=cM(e,t,r);return n=="#REF"?n:Oue(n,r)}function Hl(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,f=0,h=0,p,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,x="",v=0,y=e[0].length;v<y;++v){var w=e[0][v];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:x=Et(" ",e[0][m][1][1]);break;case 1:x=Et("\r",e[0][m][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+x,m=-1}o.push(u+Pue[w[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=yu(w[1][1],s,a),o.push(bu(d,i));break;case"PtgRefN":d=r?yu(w[1][1],r,a):w[1][1],o.push(bu(d,i));break;case"PtgRef3d":f=w[1][1],d=yu(w[1][2],s,a),g=VN(n,f,a),o.push(g+"!"+bu(d,i));break;case"PtgFunc":case"PtgFuncVar":var k=w[1][0],S=w[1][1];k||(k=0),k&=127;var E=k==0?[]:o.slice(-k);o.length-=k,S==="User"&&(S=E.shift()),o.push(S+"("+E.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=NN(w[1][1],r?{s:r}:s,a),o.push(ex(p,a));break;case"PtgArea":p=NN(w[1][1],s,a),o.push(ex(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],g=VN(n,f,a),o.push(g+"!"+ex(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],C=j?j.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var T=w[1][1];h=w[1][2];var M;if(a.biff<=5)T<0&&(T=-T),n[T]&&(M=n[T][h]);else{var D="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(D=n.SheetNames[n[T][h].itab-1]+"!"):D=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])D+=n[T][h].Name;else if(n[0]&&n[0][h])D+=n[0][h].Name;else{var A=(cM(n,T,a)||"").split(";;");A[h-1]?D=A[h-1]:D+="SH33TJSERRX"}o.push(D);break}M||(M={Name:"SH33TJSERRY"}),o.push(M.Name);break;case"PtgParen":var _="(",N=")";if(m>=0){switch(x="",e[0][m][1][0]){case 2:_=Et(" ",e[0][m][1][1])+_;break;case 3:_=Et("\r",e[0][m][1][1])+_;break;case 4:N=Et(" ",e[0][m][1][1])+N;break;case 5:N=Et("\r",e[0][m][1][1])+N;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(_+o.pop()+N);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var O={c:r.c,r:r.r};if(n.sharedf[Ge(d)]){var K=n.sharedf[Ge(d)];o.push(Hl(K,s,O,n,a))}else{var I=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Hl(u[1],s,O,n,a)),I=!0;break}I||o.push(w[1])}break;case"PtgArray":o.push("{"+Cue(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&Y.indexOf(e[0][v][0])==-1){w=e[0][m];var G=!0;switch(w[1][0]){case 4:G=!1;case 0:x=Et(" ",w[1][1]);break;case 5:G=!1;case 1:x=Et("\r",w[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((G?x:"")+o.pop()+(G?"":x)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Due(e){if(e==null){var t=se(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return mo(e);return mo(0)}function Mue(e,t,r,n,a){var i=go(t,r,a),s=Due(e.v),o=se(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=se(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=pr([i,s,o,u]);return f}function Tm(e,t,r){var n=e.read_shift(4),a=Aue(e,n,r),i=e.read_shift(4),s=i>0?Tue(e,i,a,r):null;return[a,s]}var Iue=Tm,Am=Tm,Fue=Tm,Lue=Tm,Rue={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},uM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},zue={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Bue(e){var t="of:="+e.replace(T2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function $ue(e){return e.replace(/\./,"!")}var wu=typeof Map<"u";function P2(e,t,r){var n=0,a=e.length;if(r){if(wu?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=wu?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(wu?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Cm(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(ii=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=qh(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=C1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function dM(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function ws(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){s8(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Uue(e,t,r){if(e&&e["!ref"]){var n=lt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Vue(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Rt(e[r])+'"/>';return t+"</mergeCells>"}function Wue(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=cd(He(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+me("outlinePr",null,u)}!i&&!o||(a[a.length]=me("sheetPr",o,s))}var Hue=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Kue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Gue(e){var t={sheet:1};return Hue.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Kue.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Y8(e.password).toString(16).toUpperCase()),me("sheetProtection",null,t)}function Yue(e){return dM(e),me("pageMargins",null,e)}function Xue(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=me("col",null,Cm(a,n)));return r[r.length]="</cols>",r.join("")}function que(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Rt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=wn(a);s.s.r==s.e.r&&(s.e.r=wn(t["!ref"]).e.r,a=Rt(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),me("autoFilter",null,{ref:a})}function Jue(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),me("sheetViews",me("sheetView",null,a),{})}function Que(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Hd[e.v];break;case"d":n&&n.cellDates?a=Br(e.v,-1).toISOString():(e=an(e),e.t="n",a=""+(e.v=nn(Br(e.v)))),typeof e.z>"u"&&(e.z=jt[14]);break;default:a=e.v;break}var o=mr("v",He(a)),c={r:t},u=ws(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=mr("v",""+P2(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=me("f",He(e.f),d)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),me("c",o,c)}function Zue(e,t,r,n){var a=[],i=[],s=lt(e["!ref"]),o="",c,u="",d=[],f=0,h=0,p=e["!rows"],g=Array.isArray(e),m={r:u},x,v=-1;for(h=s.s.c;h<=s.e.c;++h)d[h]=Tr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=xr(f),h=s.s.c;h<=s.e.c;++h){c=d[h]+u;var y=g?(e[f]||[])[h]:e[c];y!==void 0&&(o=Que(y,c,e,t))!=null&&i.push(o)}(i.length>0||p&&p[f])&&(m={r:u},p&&p[f]&&(x=p[f],x.hidden&&(m.hidden=1),v=-1,x.hpx?v=Jh(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(m.ht=v,m.customHeight=1),x.level&&(m.outlineLevel=x.level)),a[a.length]=me("row",i.join(""),m))}if(p)for(;f<p.length;++f)p&&p[f]&&(m={r:f+1},x=p[f],x.hidden&&(m.hidden=1),v=-1,x.hpx?v=Jh(x.hpx):x.hpt&&(v=x.hpt),v>-1&&(m.ht=v,m.customHeight=1),x.level&&(m.outlineLevel=x.level),a[a.length]=me("row","",m));return a.join("")}function fM(e,t,r,n){var a=[zt,me("worksheet",null,{xmlns:dc[0],"xmlns:r":Zt.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=lt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=Rt(d)}n||(n={}),c["!comments"]=[];var f=[];Wue(c,r,e,t,a),a[a.length]=me("dimension",null,{ref:u}),a[a.length]=Jue(c,t,e,r),t.sheetFormat&&(a[a.length]=me("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Xue(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=Zue(c,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=Gue(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=que(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Vue(c["!merges"]));var h=-1,p,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=Ve(n,-1,He(m[1].Target).replace(/#.*$/,""),Re.HLINK),p["r:id"]="rId"+g),(h=m[1].Target.indexOf("#"))>-1&&(p.location=He(m[1].Target.slice(h+1))),m[1].Tooltip&&(p.tooltip=He(m[1].Tooltip)),a[a.length]=me("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Yue(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=mr("ignoredErrors",me("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(g=Ve(n,-1,"../drawings/drawing"+(e+1)+".xml",Re.DRAW),a[a.length]=me("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=f),c["!comments"].length>0&&(g=Ve(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Re.VML),a[a.length]=me("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function ede(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function tde(e,t,r){var n=se(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Jh(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ge(u)];g&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var m=n.l;return n.l=c,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function rde(e,t,r,n){var a=tde(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&le(e,0,a)}var nde=No,ade=hc;function ide(){}function sde(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=goe(e),r}function ode(e,t,r){r==null&&(r=se(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Gh({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),N8(e,r),r.slice(0,r.l)}function lde(e){var t=Yn(e);return[t]}function cde(e,t,r){return r==null&&(r=se(8)),So(t,r)}function ude(e){var t=Eo(e);return[t]}function dde(e,t,r){return r==null&&(r=se(4)),jo(t,r)}function fde(e){var t=Yn(e),r=e.read_shift(1);return[t,r,"b"]}function hde(e,t,r){return r==null&&(r=se(9)),So(t,r),r.write_shift(1,e.v?1:0),r}function pde(e){var t=Eo(e),r=e.read_shift(1);return[t,r,"b"]}function mde(e,t,r){return r==null&&(r=se(5)),jo(t,r),r.write_shift(1,e.v?1:0),r}function gde(e){var t=Yn(e),r=e.read_shift(1);return[t,r,"e"]}function xde(e,t,r){return r==null&&(r=se(9)),So(t,r),r.write_shift(1,e.v),r}function vde(e){var t=Eo(e),r=e.read_shift(1);return[t,r,"e"]}function yde(e,t,r){return r==null&&(r=se(8)),jo(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function bde(e){var t=Yn(e),r=e.read_shift(4);return[t,r,"s"]}function wde(e,t,r){return r==null&&(r=se(12)),So(t,r),r.write_shift(4,t.v),r}function kde(e){var t=Eo(e),r=e.read_shift(4);return[t,r,"s"]}function _de(e,t,r){return r==null&&(r=se(8)),jo(t,r),r.write_shift(4,t.v),r}function Sde(e){var t=Yn(e),r=pc(e);return[t,r,"n"]}function Ede(e,t,r){return r==null&&(r=se(16)),So(t,r),mo(e.v,r),r}function jde(e){var t=Eo(e),r=pc(e);return[t,r,"n"]}function Nde(e,t,r){return r==null&&(r=se(12)),jo(t,r),mo(e.v,r),r}function Tde(e){var t=Yn(e),r=T8(e);return[t,r,"n"]}function Ade(e,t,r){return r==null&&(r=se(12)),So(t,r),A8(e.v,r),r}function Cde(e){var t=Eo(e),r=T8(e);return[t,r,"n"]}function Pde(e,t,r){return r==null&&(r=se(8)),jo(t,r),A8(e.v,r),r}function Ode(e){var t=Yn(e),r=_2(e);return[t,r,"is"]}function Dde(e){var t=Yn(e),r=Ar(e);return[t,r,"str"]}function Mde(e,t,r){return r==null&&(r=se(12+4*e.v.length)),So(t,r),tr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Ide(e){var t=Eo(e),r=Ar(e);return[t,r,"str"]}function Fde(e,t,r){return r==null&&(r=se(8+4*e.v.length)),jo(t,r),tr(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Lde(e,t,r){var n=e.l+t,a=Yn(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=Am(e,n-e.l,r);s[3]=Hl(o,null,a,r.supbooks,r)}else e.l=n;return s}function Rde(e,t,r){var n=e.l+t,a=Yn(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=Am(e,n-e.l,r);s[3]=Hl(o,null,a,r.supbooks,r)}else e.l=n;return s}function zde(e,t,r){var n=e.l+t,a=Yn(e);a.r=r["!row"];var i=pc(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=Am(e,n-e.l,r);s[3]=Hl(o,null,a,r.supbooks,r)}else e.l=n;return s}function Bde(e,t,r){var n=e.l+t,a=Yn(e);a.r=r["!row"];var i=Ar(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=Am(e,n-e.l,r);s[3]=Hl(o,null,a,r.supbooks,r)}else e.l=n;return s}var $de=No,Ude=hc;function Vde(e,t){return t==null&&(t=se(4)),t.write_shift(4,e),t}function Wde(e,t){var r=e.l+t,n=No(e),a=S2(e),i=Ar(e),s=Ar(e),o=Ar(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function Hde(e,t){var r=se(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));hc({s:er(e[0]),e:er(e[0])},r),E2("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return tr(a||"",r),tr(e[1].Tooltip||"",r),tr("",r),r.slice(0,r.l)}function Kde(){}function Gde(e,t,r){var n=e.l+t,a=C8(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Iue(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Yde(e,t,r){var n=e.l+t,a=No(e),i=[a];if(r.cellFormula){var s=Lue(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function Xde(e,t,r){r==null&&(r=se(18));var n=Cm(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var hM=["left","right","top","bottom","header","footer"];function qde(e){var t={};return hM.forEach(function(r){t[r]=pc(e)}),t}function Jde(e,t){return t==null&&(t=se(6*8)),dM(e),hM.forEach(function(r){mo(e[r],t)}),t}function Qde(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Zde(e,t,r){r==null&&(r=se(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function efe(e){var t=se(24);return t.write_shift(4,4),t.write_shift(4,1),hc(e,t),t}function tfe(e,t){return t==null&&(t=se(16*4+2)),t.write_shift(2,e.password?Y8(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function rfe(){}function nfe(){}function afe(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=an(t),t.z=t.z||jt[14],t.v=nn(Br(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=ws(a.cellXfs,t,a),t.l&&i["!links"].push([Ge(c),t.l]),t.c&&i["!comments"].push([Ge(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=P2(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,s?le(e,18,_de(t,c)):le(e,7,wde(t,c))):(c.t="str",s?le(e,17,Fde(t,c)):le(e,6,Mde(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?le(e,13,Pde(t,c)):le(e,2,Ade(t,c)):s?le(e,16,Nde(t,c)):le(e,5,Ede(t,c)),!0;case"b":return c.t="b",s?le(e,15,mde(t,c)):le(e,4,hde(t,c)),!0;case"e":return c.t="e",s?le(e,14,yde(t,c)):le(e,3,xde(t,c)),!0}return s?le(e,12,dde(t,c)):le(e,1,cde(t,c)),!0}function ife(e,t,r,n){var a=lt(t["!ref"]||"A1"),i,s="",o=[];le(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=xr(d),rde(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=Tr(h)),i=o[h]+s;var p=c?(t[d]||[])[h]:t[i];if(!p){f=!1;continue}f=afe(e,p,d,h,n,t,f)}}le(e,146)}function sfe(e,t){!t||!t["!merges"]||(le(e,177,Vde(t["!merges"].length)),t["!merges"].forEach(function(r){le(e,176,Ude(r))}),le(e,178))}function ofe(e,t){!t||!t["!cols"]||(le(e,390),t["!cols"].forEach(function(r,n){r&&le(e,60,Xde(n,r))}),le(e,391))}function lfe(e,t){!t||!t["!ref"]||(le(e,648),le(e,649,efe(lt(t["!ref"]))),le(e,650))}function cfe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Ve(r,-1,n[1].Target.replace(/#.*$/,""),Re.HLINK);le(e,494,Hde(n,a))}}),delete t["!links"]}function ufe(e,t,r,n){if(t["!comments"].length>0){var a=Ve(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Re.VML);le(e,551,E2("rId"+a)),t["!legacy"]=a}}function dfe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Rt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=wn(i);o.s.r==o.e.r&&(o.e.r=wn(t["!ref"]).e.r,i=Rt(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),le(e,161,hc(lt(i))),le(e,162)}}function ffe(e,t,r){le(e,133),le(e,137,Zde(t,r)),le(e,138),le(e,134)}function hfe(e,t){t["!protect"]&&le(e,535,tfe(t["!protect"]))}function pfe(e,t,r,n){var a=rn(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=lt(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],le(a,129),(r.vbaraw||s["!outline"])&&le(a,147,ode(o,s["!outline"])),le(a,148,ade(c)),ffe(a,s,r.Workbook),ofe(a,s),ife(a,s,e,t),hfe(a,s),dfe(a,s,r,e),sfe(a,s),cfe(a,s,n),s["!margins"]&&le(a,476,Jde(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&lfe(a,s),ufe(a,s,e,n),le(a,130),a.end()}function mfe(e,t){e.l+=10;var r=Ar(e);return{name:r}}var gfe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function xfe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Yse(e.Workbook.WBProps.date1904)?"true":"false"}var vfe="][*?/\\".split("");function pM(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return vfe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function yfe(e,t,r){e.forEach(function(n,a){pM(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function bfe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];yfe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Uue(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function mM(e){var t=[zt];t[t.length]=me("workbook",null,{xmlns:dc[0],"xmlns:r":Zt.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gfe.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=me("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:He(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=me("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=me("definedName",He(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function wfe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=A1(e),r.name=Ar(e),r}function kfe(e,t){return t||(t=se(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),E2(e.strRelID,t),tr(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function _fe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ar(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Sfe(e,t){t||(t=se(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),N8(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Efe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=xoe(e),s=Fue(e,0,r),o=S2(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function jfe(e,t){le(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};le(e,156,kfe(a))}le(e,144)}function Nfe(e,t){t||(t=se(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return tr("SheetJS",t),tr(zh.version,t),tr(zh.version,t),tr("7262",t),t.length>t.l?t.slice(0,t.l):t}function Tfe(e,t){t||(t=se(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Afe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(le(e,135),le(e,158,Tfe(a)),le(e,136))}}function Cfe(e,t){var r=rn();return le(r,131),le(r,128,Nfe()),le(r,153,Sfe(e.Workbook&&e.Workbook.WBProps||null)),Afe(r,e),jfe(r,e),le(r,132),r.end()}function Pfe(e,t,r){return(t.slice(-4)===".bin"?Cfe:mM)(e)}function Ofe(e,t,r,n,a){return(t.slice(-4)===".bin"?pfe:fM)(e,r,n,a)}function Dfe(e,t,r){return(t.slice(-4)===".bin"?Jle:J8)(e,r)}function Mfe(e,t,r){return(t.slice(-4)===".bin"?Sle:G8)(e,r)}function Ife(e,t,r){return(t.slice(-4)===".bin"?hce:rM)(e)}function Ffe(e){return(e.slice(-4)===".bin"?ice:eM)()}function Lfe(e,t){var r=[];return e.Props&&r.push(Doe(e.Props,t)),e.Custprops&&r.push(Moe(e.Props,e.Custprops)),r.join("")}function Rfe(){return""}function zfe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(me("NumberFormat",null,{"ss:Format":He(jt[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(me("Style",i.join(""),s))}),me("Styles",r.join(""))}function gM(e){return me("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+A2(e.Ref,{r:0,c:0})})}function Bfe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(gM(a)))}return me("Names",r.join(""))}function $fe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(gM(o)))}return i.join("")}function Ufe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(me("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(me("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(me("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(me("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(mr("ProtectContents","True")),e["!protect"].objects&&a.push(mr("ProtectObjects","True")),e["!protect"].scenarios&&a.push(mr("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(mr("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(mr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":me("WorksheetOptions",a.join(""),{xmlns:fn.x})}function Vfe(e){return e.map(function(t){var r=Gse(t.t||""),n=me("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return me("Comment",n,{"ss:Author":t.a})}).join("")}function Wfe(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+He(A2(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=er(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=He(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=He(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Hd[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||jt[14]);break;case"s":f="String",h=Kse(e.v||"");break}var p=ws(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var g=e.v!=null?h:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=Vfe(e.c)),me("Cell",m,o)}function Hfe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=q8(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Kfe(e,t,r,n){if(!e["!ref"])return"";var a=lt(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,v){N2(x);var y=!!x.width,w=Cm(v,x),k={"ss:Index":v+1};y&&(k["ss:Width"]=Xh(w.width)),x.hidden&&(k["ss:Hidden"]="1"),o.push(me("Column",null,k))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[Hfe(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(h=!0);break}if(!h){var p={r:u,c:f},g=Ge(p),m=c?(e[u]||[])[f]:e[g];d.push(Wfe(m,g,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function Gfe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?$fe(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?Kfe(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Ufe(i,t,e,r)),n.join("")}function Yfe(e,t){t||(t={}),e.SSF||(e.SSF=an(jt)),e.SSF&&(Em(),Sm(e.SSF),t.revssf=jm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],ws(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Lfe(e,t)),r.push(Rfe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(me("Worksheet",Gfe(n,t,e),{"ss:Name":He(e.SheetNames[n])}));return r[2]=zfe(e,t),r[3]=Bfe(e),zt+me("Workbook",r.join(""),{xmlns:fn.ss,"xmlns:o":fn.o,"xmlns:x":fn.x,"xmlns:ss":fn.ss,"xmlns:dt":fn.dt,"xmlns:html":fn.html})}var nx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Xfe(e,t){var r=[],n=[],a=[],i=0,s,o=gN(AN,"n"),c=gN(CN,"n");if(e.Props)for(s=yr(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=yr(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)B8.indexOf(a[i][0])>-1||L8.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&Ye.utils.cfb_add(t,"/SummaryInformation",IN(n,nx.SI,c,CN)),(r.length||u.length)&&Ye.utils.cfb_add(t,"/DocumentSummaryInformation",IN(r,nx.DSI,o,AN,u.length?u:null,nx.UDI))}function qfe(e,t){var r=t||{},n=Ye.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ye.utils.cfb_add(n,a,xM(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Xfe(e,n),r.biff==8&&e.vbaraw&&pce(n,Ye.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Jfe={0:{f:ede},1:{f:lde},2:{f:Tde},3:{f:gde},4:{f:fde},5:{f:Sde},6:{f:Dde},7:{f:bde},8:{f:Bde},9:{f:zde},10:{f:Lde},11:{f:Rde},12:{f:ude},13:{f:Cde},14:{f:vde},15:{f:pde},16:{f:jde},17:{f:Ide},18:{f:kde},19:{f:_2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Efe},40:{},42:{},43:{f:Dle},44:{f:Ple},45:{f:Fle},46:{f:Rle},47:{f:Lle},48:{},49:{f:uoe},50:{},51:{f:ece},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:dle},62:{f:Ode},63:{f:sce},64:{f:rfe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ia,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Qde},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sde},148:{f:nde,p:16},151:{f:Kde},152:{},153:{f:_fe},154:{},155:{},156:{f:wfe},157:{},158:{},159:{T:1,f:wle},160:{T:-1},161:{T:1,f:No},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$de},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Qle},336:{T:-1},337:{f:nce,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:A1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ile},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Gde},427:{f:Yde},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:qde},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ide},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Wde},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:A1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:dce},633:{T:1},634:{T:-1},635:{T:1,f:cce},636:{T:-1},637:{f:poe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mfe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nfe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ge(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&b2(r)&&e.push(r)}}function Qfe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return ge(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Gd(e,t,r){return e||(e=se(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Zfe(e,t,r,n){var a=se(9);return Gd(a,e,t),U8(r,n||"b",a),a}function e0e(e,t,r){var n=se(8+2*r.length);return Gd(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function t0e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?nn(Br(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?ge(e,2,mle(r,n,a)):ge(e,3,ple(r,n,a));return;case"b":case"e":ge(e,5,Zfe(r,n,t.v,t.t));return;case"s":case"str":ge(e,4,e0e(r,n,(t.v||"").slice(0,255)));return}ge(e,1,Gd(null,r,n))}function r0e(e,t,r,n){var a=Array.isArray(t),i=lt(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Rt(i)}for(var u=i.s.r;u<=i.e.r;++u){o=xr(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Tr(d)),s=c[d]+o;var f=a?(t[u]||[])[d]:t[s];f&&t0e(e,f,u,d)}}}function n0e(e,t){for(var r=t||{},n=rn(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ge(n,r.biff==4?1033:r.biff==3?521:9,j2(e,16,r)),r0e(n,e.Sheets[e.SheetNames[a]],a,r),ge(n,10),n.end()}function a0e(e,t,r){ge(e,49,Joe({sz:12,name:"Arial"},r))}function i0e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ge(e,1054,ele(a,t[a],r))})}function s0e(e,t){var r=se(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ge(e,2151,r),r=se(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),H8(lt(t["!ref"]||"A1"),r),r.write_shift(4,4),ge(e,2152,r)}function o0e(e,t){for(var r=0;r<16;++r)ge(e,224,LN({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ge(e,224,LN(n,0,t))})}function l0e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ge(e,440,lle(n)),n[1].Tooltip&&ge(e,2048,cle(n))}delete t["!links"]}function c0e(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&ge(e,125,fle(Cm(a,n),a))})}}function u0e(e,t,r,n,a){var i=16+ws(a.cellXfs,t,a);if(t.v==null&&!t.bf){ge(e,513,go(r,n,i));return}if(t.bf)ge(e,6,Mue(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?nn(Br(t.v)):t.v;ge(e,515,ale(r,n,s,i));break;case"b":case"e":ge(e,517,nle(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=P2(a.Strings,t.v,a.revStrings);ge(e,253,Qoe(r,n,o,i))}else ge(e,516,Zoe(r,n,(t.v||"").slice(0,255),i,a));break;default:ge(e,513,go(r,n,i))}}function d0e(e,t,r){var n=rn(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],p=lt(i["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}ge(n,2057,j2(r,16,t)),ge(n,13,On(1)),ge(n,12,On(100)),ge(n,15,Fr(!0)),ge(n,17,Fr(!1)),ge(n,16,mo(.001)),ge(n,95,Fr(!0)),ge(n,42,Fr(!1)),ge(n,43,Fr(!1)),ge(n,130,On(1)),ge(n,128,rle()),ge(n,131,Fr(!1)),ge(n,132,Fr(!1)),u&&c0e(n,i["!cols"]),ge(n,512,tle(p,t)),u&&(i["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){f=xr(m);for(var x=p.s.c;x<=p.e.c;++x){m===p.s.r&&(h[x]=Tr(x)),d=h[x]+f;var v=c?(i[m]||[])[x]:i[d];v&&(u0e(n,v,m,x,t),u&&v.l&&i["!links"].push([d,v.l]))}}var y=o.CodeName||o.name||a;return u&&ge(n,574,qoe((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&ge(n,229,ole(i["!merges"])),u&&l0e(n,i),ge(n,442,W8(y)),u&&s0e(n,i),ge(n,10),n.end()}function f0e(e,t,r){var n=rn(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(ge(n,2057,j2(e,5,r)),r.bookType=="xla"&&ge(n,135),ge(n,225,o?On(1200):null),ge(n,193,Loe(2)),c&&ge(n,191),c&&ge(n,192),ge(n,226),ge(n,92,Koe("SheetJS",r)),ge(n,66,On(o?1200:1252)),o&&ge(n,353,On(0)),o&&ge(n,448),ge(n,317,hle(e.SheetNames.length)),o&&e.vbaraw&&ge(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";ge(n,442,W8(u))}ge(n,156,On(17)),ge(n,25,Fr(!1)),ge(n,18,Fr(!1)),ge(n,19,On(0)),o&&ge(n,431,Fr(!1)),o&&ge(n,444,On(0)),ge(n,61,Xoe()),ge(n,64,Fr(!1)),ge(n,141,On(0)),ge(n,34,Fr(xfe(e)=="true")),ge(n,14,Fr(!0)),o&&ge(n,439,Fr(!1)),ge(n,218,On(0)),a0e(n,e,r),i0e(n,e.SSF,r),o0e(n,r),o&&ge(n,352,Fr(!1));var d=n.end(),f=rn();o&&ge(f,140,ule()),o&&r.Strings&&Qfe(f,252,Yoe(r.Strings)),ge(f,10);var h=f.end(),p=rn(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var x=d.length+g+h.length;for(m=0;m<e.SheetNames.length;++m){var v=i[m]||{};ge(p,133,Goe({pos:x,hs:v.Hidden||0,dt:0,name:e.SheetNames[m]},r)),x+=t[m].length}var y=p.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var w=[];return d.length&&w.push(d),y.length&&w.push(y),h.length&&w.push(h),pr(w)}function h0e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=an(jt)),e&&e.SSF&&(Em(),Sm(e.SSF),r.revssf=jm(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,O2(r),r.cellXfs=[],ws(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=d0e(a,r,e);return n.unshift(f0e(e,n,r)),pr(n)}function xM(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=wn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return h0e(e,t);case 4:case 3:case 2:return n0e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function p0e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var d=Ge({r,c:s}),f=n.dense?(e[r]||[])[s]:e[d],h=f&&f.v!=null&&(f.h||Hse(f.w||(vi(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),c>1&&(p.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(me("td",h,p))}}var g="<tr>";return g+i.join("")+"</tr>"}var m0e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',g0e="</body></html>";function x0e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function vM(e,t){var r=t||{},n=r.header!=null?r.header:m0e,a=r.footer!=null?r.footer:g0e,i=[n],s=wn(e["!ref"]);r.dense=Array.isArray(e),i.push(x0e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(p0e(e,s,o,r));return i.push("</table>"+a),i.join("")}function yM(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?er(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=wn(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),g=0,m=0,x=0,v=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<c;++g){var k=o[g];if(WN(k)){if(n.display)continue;p[m]={hidden:!0}}var S=k.children;for(x=v=0;x<S.length;++x){var E=S[x];if(!(n.display&&WN(E))){var j=E.hasAttribute("data-v")?E.getAttribute("data-v"):E.hasAttribute("v")?E.getAttribute("v"):Xse(E.innerHTML),C=E.getAttribute("data-z")||E.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==v+i&&T.s.r<m+a&&m+a<=T.e.r&&(v=T.e.c+1-i,h=-1)}w=+E.getAttribute("colspan")||1,((y=+E.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:v+i},e:{r:m+a+(y||1)-1,c:v+i+(w||1)-1}});var M={t:"s",v:j},D=E.getAttribute("data-t")||E.getAttribute("t")||"";j!=null&&(j.length==0?M.t=D||"z":n.raw||j.trim().length==0||D=="s"||(j==="TRUE"?M={t:"b",v:!0}:j==="FALSE"?M={t:"b",v:!1}:isNaN(ai(j))?isNaN(ld(j).getDate())||(M={t:"d",v:Br(j)},n.cellDates||(M={t:"n",v:nn(M.v)}),M.z=n.dateNF||jt[14]):M={t:"n",v:ai(j)})),M.z===void 0&&C!=null&&(M.z=C);var A="",_=E.getElementsByTagName("A");if(_&&_.length)for(var N=0;N<_.length&&!(_[N].hasAttribute("href")&&(A=_[N].getAttribute("href"),A.charAt(0)!="#"));++N);A&&A.charAt(0)!="#"&&(M.l={Target:A}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][v+i]=M):e[Ge({c:v+i,r:m+a})]=M,u.e.c<v+i&&(u.e.c=v+i),v+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=Rt(u),m>=c&&(e["!fullref"]=Rt((u.e.r=o.length-g+m-1+a,u))),e}function bM(e,t){var r=t||{},n=r.dense?[]:{};return yM(n,e,t)}function v0e(e,t){return _o(bM(e,t),t)}function WN(e){var t="",r=y0e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function y0e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var b0e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ud({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return zt+t}}(),HN=function(){var e=function(i){return He(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+He(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=wn(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,g=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",x=i["!rows"]||[];for(u=0;u<f.s.r;++u)m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=f.e.r;++u){for(m=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var v=!1,y={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>d)&&!(h[p].s.r>u)&&!(h[p].e.c<d)&&!(h[p].e.r<u)){(h[p].s.c!=d||h[p].s.r!=u)&&(v=!0),y["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,y["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(v){c.push(r);continue}var k=Ge({r:u,c:d}),S=g?(i[u]||[])[d]:i[k];if(S&&S.f&&(y["table:formula"]=He(Bue(S.f)),S.F&&S.F.slice(0,k.length)==k)){var E=wn(S.F);y["table:number-matrix-columns-spanned"]=E.e.c-E.s.c+1,y["table:number-matrix-rows-spanned"]=E.e.r-E.s.r+1}if(!S){c.push(t);continue}switch(S.t){case"b":w=S.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=S.v?"true":"false";break;case"n":w=S.w||String(S.v||0),y["office:value-type"]="float",y["office:value"]=S.v||0;break;case"s":case"str":w=S.v==null?"":S.v,y["office:value-type"]="string";break;case"d":w=S.w||Br(S.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Br(S.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(w);if(S.l&&S.l.Target){var C=S.l.Target;C=C.charAt(0)=="#"?"#"+$ue(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),j=me("text:a",j,{"xlink:href":C.replace(/&/g,"&amp;")})}c.push("          "+me("table:table-cell",me("text:p",j,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;N2(f),f.ods=o;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[zt],u=ud({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=ud({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(I8().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function wM(e,t){if(t.bookType=="fods")return HN(e,t);var r=g2(),n="",a=[],i=[];return n="mimetype",Pe(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Pe(r,n,HN(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Pe(r,n,b0e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Pe(r,n,zt+I8()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Pe(r,n,Ooe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Pe(r,n,Coe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Qh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function w0e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):sa(cd(e))}function k0e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function ds(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function _0e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function dd(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ue(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function _l(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ut(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=dd(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=dd(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function lr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Ue(n*8+a.type)),a.type==2&&t.push(Ue(a.data.length)),t.push(a.data))})}),ds(t)}function Qn(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=dd(e,n),i=Ut(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:_l(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Ut(o.data),u=_l(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=_l(i[3][0].data)>>>0>0),r.push(s)}return r}function Ro(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Ue(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ue(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Ue(s.data.length)}],n[2].push({data:lr(s.meta),type:2})});var i=lr(n);t.push(Ue(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),ds(t)}function S0e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=dd(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[ds(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=ds(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Zn(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(S0e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ds(t)}function zo(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Ue(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return ds(t)}function ax(e,t){var r=new Uint8Array(32),n=Qh(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,_0e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function ix(e,t){var r=new Uint8Array(32),n=Qh(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Mi(e){var t=Ut(e);return dd(t[1][0].data)}function E0e(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&_l(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=Qh(e[7][0].data),d=0,f=[],h=Qh(e[4][0].data),p=0,g=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),h.setUint16(m*2,p,!0);var x,v;switch(typeof t[m]){case"string":x=ax({t:"s",v:t[m]},r),v=ix({t:"s",v:t[m]},r);break;case"number":x=ax({t:"n",v:t[m]},r),v=ix({t:"n",v:t[m]},r);break;case"boolean":x=ax({t:"b",v:t[m]},r),v=ix({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(x),d+=x.length,g.push(v),p+=v.length,++c}for(e[2][0].data=Ue(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),h.setUint16(m*2,65535,!0);return e[6][0].data=ds(f),e[3][0].data=ds(g),c}function j0e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=wn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Rt(n)));var i=Zh(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(z){return z.forEach(function(H){typeof H=="string"&&s.push(H)})});var o={},c=[],u=Ye.read(t.numbers,{type:"base64"});u.FileIndex.map(function(z,H){return[z,u.FullPaths[H]]}).forEach(function(z){var H=z[0],L=z[1];if(H.type==2&&H.name.match(/\.iwa/)){var X=H.content,ee=Zn(X),he=Qn(ee);he.forEach(function(ne){c.push(ne.id),o[ne.id]={deps:[],location:L,type:_l(ne.messages[0].meta[1][0].data)}})}}),c.sort(function(z,H){return z-H});var d=c.filter(function(z){return z>1}).map(function(z){return[z,Ue(z)]});u.FileIndex.map(function(z,H){return[z,u.FullPaths[H]]}).forEach(function(z){var H=z[0];if(z[1],!!H.name.match(/\.iwa/)){var L=Qn(Zn(H.content));L.forEach(function(X){X.messages.forEach(function(ee){d.forEach(function(he){X.messages.some(function(ne){return _l(ne.meta[1][0].data)!=11006&&k0e(ne.data,he[1])})&&o[he[0]].deps.push(X.id)})})})}});for(var f=Ye.find(u,o[1].location),h=Qn(Zn(f.content)),p,g=0;g<h.length;++g){var m=h[g];m.id==1&&(p=m)}var x=Mi(Ut(p.messages[0].data)[1][0].data);for(f=Ye.find(u,o[x].location),h=Qn(Zn(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=Mi(Ut(p.messages[0].data)[2][0].data),f=Ye.find(u,o[x].location),h=Qn(Zn(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);for(x=Mi(Ut(p.messages[0].data)[2][0].data),f=Ye.find(u,o[x].location),h=Qn(Zn(f.content)),g=0;g<h.length;++g)m=h[g],m.id==x&&(p=m);var v=Ut(p.messages[0].data);{v[6][0].data=Ue(n.e.r+1),v[7][0].data=Ue(n.e.c+1);var y=Mi(v[46][0].data),w=Ye.find(u,o[y].location),k=Qn(Zn(w.content));{for(var S=0;S<k.length&&k[S].id!=y;++S);if(k[S].id!=y)throw"Bad ColumnRowUIDMapArchive";var E=Ut(k[S].messages[0].data);E[1]=[],E[2]=[],E[3]=[];for(var j=0;j<=n.e.c;++j){var C=[];C[1]=C[2]=[{type:0,data:Ue(j+420690)}],E[1].push({type:2,data:lr(C)}),E[2].push({type:0,data:Ue(j)}),E[3].push({type:0,data:Ue(j)})}E[4]=[],E[5]=[],E[6]=[];for(var T=0;T<=n.e.r;++T)C=[],C[1]=C[2]=[{type:0,data:Ue(T+726270)}],E[4].push({type:2,data:lr(C)}),E[5].push({type:0,data:Ue(T)}),E[6].push({type:0,data:Ue(T)});k[S].messages[0].data=lr(E)}w.content=zo(Ro(k)),w.size=w.content.length,delete v[46];var M=Ut(v[4][0].data);{M[7][0].data=Ue(n.e.r+1);var D=Ut(M[1][0].data),A=Mi(D[2][0].data);w=Ye.find(u,o[A].location),k=Qn(Zn(w.content));{if(k[0].id!=A)throw"Bad HeaderStorageBucket";var _=Ut(k[0].messages[0].data);for(T=0;T<i.length;++T){var N=Ut(_[2][0].data);N[1][0].data=Ue(T),N[4][0].data=Ue(i[T].length),_[2][T]={type:_[2][0].type,data:lr(N)}}k[0].messages[0].data=lr(_)}w.content=zo(Ro(k)),w.size=w.content.length;var O=Mi(M[2][0].data);w=Ye.find(u,o[O].location),k=Qn(Zn(w.content));{if(k[0].id!=O)throw"Bad HeaderStorageBucket";for(_=Ut(k[0].messages[0].data),j=0;j<=n.e.c;++j)N=Ut(_[2][0].data),N[1][0].data=Ue(j),N[4][0].data=Ue(n.e.r+1),_[2][j]={type:_[2][0].type,data:lr(N)};k[0].messages[0].data=lr(_)}w.content=zo(Ro(k)),w.size=w.content.length;var K=Mi(M[4][0].data);(function(){for(var z=Ye.find(u,o[K].location),H=Qn(Zn(z.content)),L,X=0;X<H.length;++X){var ee=H[X];ee.id==K&&(L=ee)}var he=Ut(L.messages[0].data);{he[3]=[];var ne=[];s.forEach(function(ae,Le){ne[1]=[{type:0,data:Ue(Le)}],ne[2]=[{type:0,data:Ue(1)}],ne[3]=[{type:2,data:w0e(ae)}],he[3].push({type:2,data:lr(ne)})})}L.messages[0].data=lr(he);var ie=Ro(H),Se=zo(ie);z.content=Se,z.size=z.content.length})();var I=Ut(M[3][0].data);{var Y=I[1][0];delete I[2];var G=Ut(Y.data);{var q=Mi(G[2][0].data);(function(){for(var z=Ye.find(u,o[q].location),H=Qn(Zn(z.content)),L,X=0;X<H.length;++X){var ee=H[X];ee.id==q&&(L=ee)}var he=Ut(L.messages[0].data);{delete he[6],delete I[7];var ne=new Uint8Array(he[5][0].data);he[5]=[];for(var ie=0,Se=0;Se<=n.e.r;++Se){var ae=Ut(ne);ie+=E0e(ae,i[Se],s),ae[1][0].data=Ue(Se),he[5].push({data:lr(ae),type:2})}he[1]=[{type:0,data:Ue(n.e.c+1)}],he[2]=[{type:0,data:Ue(n.e.r+1)}],he[3]=[{type:0,data:Ue(ie)}],he[4]=[{type:0,data:Ue(n.e.r+1)}]}L.messages[0].data=lr(he);var Le=Ro(H),Ee=zo(Le);z.content=Ee,z.size=z.content.length})()}Y.data=lr(G)}M[3][0].data=lr(I)}v[4][0].data=lr(M)}p.messages[0].data=lr(v);var ce=Ro(h),F=zo(ce);return f.content=F,f.size=f.content.length,u}function N0e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function O2(e){N0e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function T0e(e,t){return t.bookType=="ods"?wM(e,t):t.bookType=="numbers"?j0e(e,t):t.bookType=="xlsb"?A0e(e,t):C0e(e,t)}function A0e(e,t){cl=1024,e&&!e.SSF&&(e.SSF=an(jt)),e&&e.SSF&&(Em(),Sm(e.SSF),t.revssf=jm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,wu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=nM.indexOf(t.bookType)>-1,a=O8();O2(t=t||{});var i=g2(),s="",o=0;if(t.cellXfs=[],ws(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Pe(i,s,F8(e.Props,t)),a.coreprops.push(s),Ve(t.rels,2,s,Re.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Pe(i,s,R8(e.Props)),a.extprops.push(s),Ve(t.rels,3,s,Re.EXT_PROPS),e.Custprops!==e.Props&&yr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Pe(i,s,z8(e.Custprops)),a.custprops.push(s),Ve(t.rels,4,s,Re.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Pe(i,s,Ofe(o-1,s,t,e,d)),a.sheets.push(s),Ve(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Re.WS[0])}if(f){var p=f["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+r,Pe(i,m,Ife(p,m)),a.comments.push(m),Ve(d,-1,"../comments"+o+"."+r,Re.CMNT),g=!0),f["!legacy"]&&g&&Pe(i,"xl/drawings/vmlDrawing"+o+".vml",tM(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Pe(i,M8(s),wl(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Pe(i,s,Mfe(t.Strings,s,t)),a.strs.push(s),Ve(t.wbrels,-1,"sharedStrings."+r,Re.SST)),s="xl/workbook."+r,Pe(i,s,Pfe(e,s)),a.workbooks.push(s),Ve(t.rels,1,s,Re.WB),s="xl/theme/theme1.xml",Pe(i,s,Z8(e.Themes,t)),a.themes.push(s),Ve(t.wbrels,-1,"theme/theme1.xml",Re.THEME),s="xl/styles."+r,Pe(i,s,Dfe(e,s,t)),a.styles.push(s),Ve(t.wbrels,-1,"styles."+r,Re.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Pe(i,s,e.vbaraw),a.vba.push(s),Ve(t.wbrels,-1,"vbaProject.bin",Re.VBA)),s="xl/metadata."+r,Pe(i,s,Ffe(s)),a.metadata.push(s),Ve(t.wbrels,-1,"metadata."+r,Re.XLMETA),Pe(i,"[Content_Types].xml",D8(a,t)),Pe(i,"_rels/.rels",wl(t.rels)),Pe(i,"xl/_rels/workbook."+r+".rels",wl(t.wbrels)),delete t.revssf,delete t.ssf,i}function C0e(e,t){cl=1024,e&&!e.SSF&&(e.SSF=an(jt)),e&&e.SSF&&(Em(),Sm(e.SSF),t.revssf=jm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,wu?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=nM.indexOf(t.bookType)>-1,a=O8();O2(t=t||{});var i=g2(),s="",o=0;if(t.cellXfs=[],ws(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Pe(i,s,F8(e.Props,t)),a.coreprops.push(s),Ve(t.rels,2,s,Re.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Pe(i,s,R8(e.Props)),a.extprops.push(s),Ve(t.rels,3,s,Re.EXT_PROPS),e.Custprops!==e.Props&&yr(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Pe(i,s,z8(e.Custprops)),a.custprops.push(s),Ve(t.rels,4,s,Re.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Pe(i,s,fM(o-1,t,e,f)),a.sheets.push(s),Ve(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Re.WS[0])}if(h){var g=h["!comments"],m=!1,x="";if(g&&g.length>0){var v=!1;g.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(v=!0)})}),v&&(x="xl/threadedComments/threadedComment"+o+"."+r,Pe(i,x,oce(g,d,t)),a.threadedcomments.push(x),Ve(f,-1,"../threadedComments/threadedComment"+o+"."+r,Re.TCMNT)),x="xl/comments"+o+"."+r,Pe(i,x,rM(g)),a.comments.push(x),Ve(f,-1,"../comments"+o+"."+r,Re.CMNT),m=!0}h["!legacy"]&&m&&Pe(i,"xl/drawings/vmlDrawing"+o+".vml",tM(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Pe(i,M8(s),wl(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Pe(i,s,G8(t.Strings,t)),a.strs.push(s),Ve(t.wbrels,-1,"sharedStrings."+r,Re.SST)),s="xl/workbook."+r,Pe(i,s,mM(e)),a.workbooks.push(s),Ve(t.rels,1,s,Re.WB),s="xl/theme/theme1.xml",Pe(i,s,Z8(e.Themes,t)),a.themes.push(s),Ve(t.wbrels,-1,"theme/theme1.xml",Re.THEME),s="xl/styles."+r,Pe(i,s,J8(e,t)),a.styles.push(s),Ve(t.wbrels,-1,"styles."+r,Re.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Pe(i,s,e.vbaraw),a.vba.push(s),Ve(t.wbrels,-1,"vbaProject.bin",Re.VBA)),s="xl/metadata."+r,Pe(i,s,eM()),a.metadata.push(s),Ve(t.wbrels,-1,"metadata."+r,Re.XLMETA),d.length>1&&(s="xl/persons/person.xml",Pe(i,s,lce(d)),a.people.push(s),Ve(t.wbrels,-1,"persons/person.xml",Re.PEOPLE)),Pe(i,"[Content_Types].xml",D8(a,t)),Pe(i,"_rels/.rels",wl(t.rels)),Pe(i,"xl/_rels/workbook."+r+".rels",wl(t.wbrels)),delete t.revssf,delete t.ssf,i}function P0e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=xi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function kM(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Vd(t.file,Ye.write(e,{type:$e?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ye.write(e,t)}function O0e(e,t){var r=an(t||{}),n=T0e(e,r);return D0e(n,r)}function D0e(e,t){var r={},n=$e?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Ye.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(_m(a))}return t.password&&typeof encrypt_agile<"u"?kM(encrypt_agile(a,t.password),t):t.type==="file"?Vd(t.file,a):t.type=="string"?xu(a):a}function M0e(e,t){var r=t||{},n=qfe(e,r);return kM(n,r)}function _a(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return od(cd(n));case"binary":return cd(n);case"string":return e;case"file":return Vd(t.file,n,"utf8");case"buffer":return $e?Ai(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):_a(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function I0e(e,t){switch(t.type){case"base64":return od(e);case"binary":return e;case"string":return e;case"file":return Vd(t.file,e,"binary");case"buffer":return $e?Ai(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Yf(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?od(r):t.type=="string"?xu(r):r;case"file":return Vd(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function _M(e,t){cse(),bfe(e);var r=an(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=_M(e,r);return r.type="array",_m(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return _a(Yfe(e,r),r);case"slk":case"sylk":return _a(xle.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return _a(vM(e.Sheets[e.SheetNames[a]],r),r);case"txt":return I0e(EM(e.Sheets[e.SheetNames[a]],r),r);case"csv":return _a(D2(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return _a(vle.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Yf(gle.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return _a(yle.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return _a(jle.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return _a(K8.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return _a(wM(e,r),r);case"wk1":return Yf(RN.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Yf(RN.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Yf(xM(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),M0e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return O0e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function F0e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function SM(e,t,r){var n={};return n.type="file",n.file=t,F0e(n),_M(e,n)}function L0e(e,t,r,n,a,i,s,o){var c=xr(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var g=s?e[r][p]:e[n[p]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[p]!=null&&(h[i[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[p]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[p]]=null;else if(u!==void 0)h[i[p]]=u;else if(d&&m===null)h[i[p]]=null;else continue;else h[i[p]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:vi(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function Zh(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=lt(d);break;case"number":c=lt(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=xr(c.s.r),h=[],p=[],g=0,m=0,x=Array.isArray(e),v=c.s.r,y=0,w={};x&&!e[v]&&(e[v]=[]);var k=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(k[y]||{}).hidden)switch(h[y]=Tr(y),r=x?e[v][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=vi(r,null,u),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[y]=o}for(v=c.s.r+a;v<=c.e.r;++v)if(!(S[v]||{}).hidden){var E=L0e(e,c,v,h,n,i,x,u);(E.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=E.row)}return p.length=g,p}var KN=/"/g;function R0e(e,t,r,n,a,i,s,o){for(var c=!0,u=[],d="",f=xr(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:vi(p,null,o));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){d='"'+d.replace(KN,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(KN,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function D2(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=lt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Tr(g));for(var m=0,x=a.s.r;x<=a.e.r;++x)(p[x]||{}).hidden||(d=R0e(e,a,x,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?o:"")+d)));return delete n.dense,r.join("")}function EM(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=D2(e,t);return r}function z0e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=lt(e["!ref"]),i="",s=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Tr(o);for(var d=a.s.r;d<=a.e.r;++d)for(i=xr(d),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function jM(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?er(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=lt(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+t.length-1+a)}else s==-1&&(s=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(m,x){yr(m).forEach(function(v){(p=h.indexOf(v))==-1&&(h[p=h.length]=v);var y=m[v],w="z",k="",S=Ge({c:o+p,r:s+x+a});u=fd(i,S),y&&typeof y=="object"&&!(y instanceof Date)?i[S]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",n.cellDates||(w="n",y=nn(y)),k=n.dateNF||jt[14]):y===null&&n.nullError&&(w="e",y=0),u?(u.t=w,u.v=y,delete u.w,delete u.R,k&&(u.z=k)):i[S]=u={t:w,v:y},k&&(u.z=k))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var g=xr(s);if(a)for(p=0;p<h.length;++p)i[Tr(p+o)+g]={t:"s",v:h[p]};return i["!ref"]=Rt(d),i}function B0e(e,t){return jM(null,e,t)}function fd(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=er(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?fd(e,Ge(t)):fd(e,Ge({r:t,c:r||0}))}function $0e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function U0e(){return{SheetNames:[],Sheets:{}}}function V0e(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(pM(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function W0e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=$0e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function H0e(e,t){return e.z=t,e}function NM(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function K0e(e,t,r){return NM(e,"#"+t,r)}function G0e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Y0e(e,t,r,n){for(var a=typeof t!="string"?t:lt(t),i=typeof t=="string"?t:Rt(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=fd(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Sl={encode_col:Tr,encode_row:xr,encode_cell:Ge,encode_range:Rt,decode_col:k2,decode_row:w2,split_cell:coe,decode_cell:er,decode_range:wn,format_cell:vi,sheet_add_aoa:j8,sheet_add_json:jM,sheet_add_dom:yM,aoa_to_sheet:fc,json_to_sheet:B0e,table_to_sheet:bM,table_to_book:v0e,sheet_to_csv:D2,sheet_to_txt:EM,sheet_to_json:Zh,sheet_to_html:vM,sheet_to_formulae:z0e,sheet_to_row_object_array:Zh,sheet_get_cell:fd,book_new:U0e,book_append_sheet:V0e,book_set_sheet_visibility:W0e,cell_set_number_format:H0e,cell_set_hyperlink:NM,cell_set_internal_link:K0e,cell_add_comment:G0e,sheet_set_array_formula:Y0e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function X0e({value:e,onChange:t,onPrint:r,onAdd:n,placeholder:a}){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:e,onChange:i=>t==null?void 0:t(i.target.value),placeholder:a||"Search",className:`w-72 px-3 py-1.5 rounded-xl text-sm
                   bg-white border border-zinc-300 text-zinc-900 placeholder:text-zinc-500
                   dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-100 dark:placeholder:text-zinc-500
                   focus:outline-none focus:ring-1 focus:ring-emerald-500/20 focus:border-emerald-600/50
                   transition-all`}),l.jsxs("button",{type:"button",onClick:n,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-sm
                   border border-zinc-700 bg-zinc-900 hover:bg-zinc-800
                   text-zinc-100 transition-all`,title:"Add",children:[l.jsx(en,{className:"h-4 w-4"}),l.jsx("span",{children:"Add"})]}),l.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-sm
                   border border-zinc-300 text-zinc-700 hover:bg-zinc-100
                   dark:border-zinc-700 dark:text-zinc-200 dark:hover:bg-[#1a1a1a]
                   transition-all`,title:"Print",children:[l.jsx(Fy,{className:"h-4 w-4"}),l.jsx("span",{children:"Print"})]})]})}function M2({toolbarProps:e={},children:t,hidePrint:r}){const a=ma().pathname.replace(/\/+$/,"").split("?")[0]||"/",i={"/dashboard":["Dashboard","Search dashboard"],"/inventory":["Inventory","Search inventory"],"/inventory/logs":["Inventory Logs","Search logs"],"/vendors":["Vendors","Search vendors"],"/quotes":["Quotes & Estimates","Search quotes"],"/invoices":["Invoice Tracker","Search invoices"],"/assets":["Asset Data","Search assets"],"/projects":["Projects","Search projects"],"/users":["Users","Search users"],"/paint":["Paint Jobs","Search paint jobs"],"/schedule":["Schedule","Search schedule"],"/licenses-permits":["Licenses & Permits","Search licenses"],"/pms":["Preventive Maintenance","Search PMs"],"/documents":["Documents","Search documents"],"/manuals":["Manuals","Search manuals"],"/calendar":["Calendar","Search events"],"/inspections":["Inspections","Search inspections"],"/room-status":["Room Status","Search rooms"],"/sop/create":["SOP Creator","Search SOPs"],"/sop/view":["SOP Viewer","Search SOPs"]},s=b.useMemo(()=>{if(i[a])return i[a];const d=Object.keys(i).filter(f=>a.startsWith(f)).sort((f,h)=>h.length-f.length)[0];return i[d]||["Overview","Search"]},[a]),[o,c]=s,u=b.useMemo(()=>{const d=a.startsWith("/projects");return{...e,placeholder:e.placeholder||c,hidePrint:r||d}},[e,c,a,r]);return l.jsxs("div",{className:"relative w-full h-full flex flex-col",children:[l.jsx("div",{className:"sticky top-0 z-40 bg-zinc-100 dark:bg-zinc-950/20 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800",children:l.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-2 gap-3",children:[l.jsx("h2",{className:"text-base sm:text-lg font-semibold text-zinc-800 dark:text-zinc-100 truncate",children:o}),l.jsx(X0e,{...u})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-4",children:t})]},a)}function q0e(){const[e,t]=b.useState(!1),[r,n]=b.useState([]),[a,i]=b.useState(0),[s,o]=b.useState(null),[c,u]=b.useState(""),[d,f]=b.useState([]);b.useEffect(()=>{let y=!0;return(async()=>{try{const w=await Ne("/api/vendors/?per_page=1000");y&&n((w==null?void 0:w.items)||[])}catch{y&&n([])}})(),()=>{y=!1}},[]),b.useEffect(()=>{let y=!0;return(async()=>{try{const w=await Ne("/api/quotes?per_page=1000");y&&f((w==null?void 0:w.items)||[])}catch{y&&f([])}})(),()=>{y=!1}},[a]);function h(){o(null),t(!0)}function p(y){o(y),t(!0)}function g(){t(!1)}function m(){i(y=>y+1)}function x(){if(!d||d.length===0){alert("No hay datos para exportar.");return}const y=d.map(j=>({"Quote ID":j.id||"","Project Name":j.project_name||"",Vendor:j.vendor_name||"",Status:j.status||"",Amount:j.amount||j.total||"",Created:j.created_at||"",Updated:j.updated_at||"",Notes:j.notes||""})),w=Sl.json_to_sheet(y),k=Sl.book_new();Sl.book_append_sheet(k,w,"Quotes");const E=`Quotes_${new Date().toISOString().split("T")[0]}.xlsx`;SM(k,E)}const v={value:c,onChange:u,onAdd:h,onExport:x};return l.jsxs(M2,{toolbarProps:v,children:[l.jsx("div",{className:"relative flex-1 h-[calc(100vh-6rem)] overflow-y-auto overflow-x-auto",children:l.jsx("div",{className:"min-w-full w-full",children:l.jsx(tse,{reloadToken:a,onEdit:p,filterQ:c})})}),l.jsx(sse,{open:e,initial:s,vendors:r,onClose:g,onSaved:m})]})}const J0e="modulepreload",Q0e=function(e){return"/"+e},GN={},TM=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Q0e(c),c in GN)return;GN[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":J0e,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},YN=b.lazy(()=>TM(()=>import("./VendorSelect-CkDqhAav.js"),[])),sx=b.lazy(()=>TM(()=>import("./DatePicker-BzkaRhh4.js"),[])),Uc=()=>l.jsxs("div",{className:"flex items-center justify-center py-3 text-zinc-400 text-sm",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-zinc-600 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading"})]}),ox="w-full bg-transparent px-3 py-2 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-[#0B5150]/30 dark:text-slate-200 dark:placeholder-slate-500 dark:focus:ring-[#0B5150]/40 transition-colors duration-150";function Z0e({form:e,setField:t,vendors:r,pdfFile:n,existingAttachment:a,onPickPdf:i,fileInputRef:s}){return l.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[l.jsx(Ha,{label:"Post Date",children:l.jsx(Ka,{children:l.jsx(b.Suspense,{fallback:l.jsx(Uc,{}),children:l.jsx(sx,{value:e.post_date,onChange:o=>t("post_date",o),placeholder:"YYYY-MM-DD"})})})}),l.jsx(Ha,{label:"Order Date",children:l.jsx(Ka,{children:l.jsx(b.Suspense,{fallback:l.jsx(Uc,{}),children:l.jsx(sx,{value:e.order_date,onChange:o=>t("order_date",o),placeholder:"YYYY-MM-DD"})})})}),l.jsx(Ha,{label:"Vendor",className:"md:col-span-2",children:l.jsx(Ka,{children:l.jsx(b.Suspense,{fallback:l.jsx(Uc,{}),children:l.jsx(YN,{value:e.vendor_id,onChange:o=>t("vendor_id",o),options:r,placeholder:"Select vendor"})})})}),l.jsx(Ha,{label:"Order Description",className:"md:col-span-2",children:l.jsx(Ka,{children:l.jsx("textarea",{rows:6,value:e.notes,onChange:o=>t("notes",o.target.value),className:`${ox} min-h-32 resize-y`,placeholder:"Describe the order (items, scope, notes)","aria-label":"Order description"})})}),l.jsx(Ha,{label:"Delivery Date",children:l.jsx(Ka,{children:l.jsx(b.Suspense,{fallback:l.jsx(Uc,{}),children:l.jsx(sx,{value:e.due_date,onChange:o=>t("due_date",o),placeholder:"YYYY-MM-DD"})})})}),l.jsx(Ha,{label:"Payment Terms",children:l.jsx(Ka,{children:l.jsx(b.Suspense,{fallback:l.jsx(Uc,{}),children:l.jsx(YN,{value:e.payment_terms,onChange:o=>t("payment_terms",o),options:[{id:"30 Days Net",name:"30 Days Net"},{id:"Due on receipt",name:"Due on receipt"}],placeholder:"Select terms"})})})}),l.jsx(Ha,{label:"Invoice #",children:l.jsx(Ka,{children:l.jsx("input",{value:e.invoice_number,onChange:o=>t("invoice_number",o.target.value),className:ox,required:!0,placeholder:"e.g. INV-12345, #A001","aria-label":"Invoice number"})})}),l.jsx(Ha,{label:"Order Total",className:"md:col-span-2",children:l.jsx(Ka,{children:l.jsxs("div",{className:"flex items-stretch overflow-hidden rounded-xl border border-slate-300 dark:border-white/10",children:[l.jsx("span",{className:"inline-flex items-center px-3 text-slate-500 dark:text-slate-400",children:l.jsx(QA,{className:"h-4 w-4"})}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:e.amount,onChange:o=>t("amount",o.target.value),className:ox,placeholder:"0","aria-label":"Order total"})]})})}),l.jsxs(Ha,{label:"Attachment (PDF)",className:"md:col-span-2",children:[a&&!n&&l.jsxs("div",{className:"mb-2 flex items-center justify-between rounded-xl border border-slate-300 p-2 text-sm dark:border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Z0,{className:"h-4 w-4 text-slate-500"}),l.jsxs("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-indigo-600 hover:underline dark:text-indigo-400",children:["Open current PDF ",l.jsx(ZA,{className:"h-3.5 w-3.5"})]})]}),l.jsx("label",{htmlFor:"pdf-input",className:"rounded-2xl border px-2 py-1 text-xs dark:border-white/10 cursor-pointer",children:"Replace"})]}),l.jsx(Ka,{noPadding:!0,children:l.jsxs("label",{htmlFor:"pdf-input",className:"relative flex w-full items-center gap-3 rounded-2xl p-2 border border-slate-300 dark:border-white/10 cursor-pointer",children:[l.jsx("span",{className:"inline-flex items-center justify-center rounded-lg bg-slate-100 p-2 text-slate-500 dark:bg-white/5 dark:text-slate-300",children:l.jsx(Z0,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Drag & drop or click to select a PDF"}),l.jsx("div",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:n?`${n.name} (${Math.ceil(n.size/1024)} KB)`:a?"Using current attachment":"No file selected"})]}),l.jsx("input",{id:"pdf-input",ref:s,type:"file",accept:"application/pdf",onChange:i,className:"absolute inset-0 opacity-0 cursor-pointer"})]})})]})]})}function Ha({label:e,children:t,className:r=""}){return l.jsxs("label",{className:`block ${r}`,children:[l.jsx("div",{className:"mb-1 text-sm font-semibold text-slate-800 dark:text-slate-200",children:e}),t]})}function Ka({children:e,noPadding:t=!1}){return l.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm dark:bg-[#0e0e0e] dark:border-white/10 "+(t?"":"p-2"),children:e})}function XN(e){return e<10?`0${e}`:String(e)}function ehe(e){return`${e.getFullYear()}-${XN(e.getMonth()+1)}-${XN(e.getDate())}`}function AM(e){if(!e)return null;const t=/^(\d{4})-(\d{1,2})-(\d{1,2})$/.exec(e);if(t){const r=+t[1],n=+t[2],a=+t[3],i=new Date(r,n-1,a);return isNaN(i)?null:i}return null}function the(e,t){const r=AM(e);if(!r)return null;const n=new Date(r);return n.setDate(n.getDate()+t),ehe(n)}function rhe(e,t){return t?e==="30 Days Net"?the(t,30):t:null}const qN="#0B5150",nhe="#094543",ahe=["Paid","Posted","Submitted","Processing","Draft","Overdue"],ihe=[{id:"30 Days Net",name:"30 Days Net"},{id:"Due on receipt",name:"Due on receipt"}],she=220;function ohe({open:e,initial:t,vendors:r=[],onClose:n,onSave:a}){const[i,s]=b.useState(T()),[o,c]=b.useState(null),[u,d]=b.useState(null),f=b.useRef(T()),[h,p]=b.useState({checking:!1,exists:!1,message:""}),[g,m]=b.useState(!1),x=b.useRef(null),[v,y]=b.useState(!1),[w,k]=b.useState(!1);b.useEffect(()=>{if(e)y(!0),requestAnimationFrame(()=>k(!0));else{k(!1);const z=setTimeout(()=>y(!1),she);return()=>clearTimeout(z)}},[e]);const S=typeof import.meta<"u"&&"https://api.getsnova.com"||(typeof window<"u"?window.location.origin.replace(":5173",":5000"):"http://localhost:5000"),E=`${S}/api/invoices`;b.useEffect(()=>{if(e&&!o){if(t&&t.id){const z=M(t);s(z),d(D(t.attachments)),f.current=z}else{const z=T();s(z),d(null),f.current=z}p({checking:!1,exists:!1,message:""}),m(!1),c(null)}},[e,t]),b.useEffect(()=>{if(!v)return;const z=H=>H.key==="Escape"&&N();return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[v,i]),b.useEffect(()=>{if(!e)return;const z=(i.invoice_number||"").trim();if(!z){p({checking:!1,exists:!1,message:""});return}let H=!0;p(X=>({...X,checking:!0}));const L=setTimeout(async()=>{try{const X=await ce(z,E,t==null?void 0:t.id);if(!H)return;p({checking:!1,exists:X,message:X?"Warning: this invoice number already exists.":""})}catch{if(!H)return;p({checking:!1,exists:!1,message:""})}},350);return()=>{H=!1,clearTimeout(L)}},[i.invoice_number,e,t==null?void 0:t.id]);const j=b.useMemo(()=>rhe(i.payment_terms,i.due_date),[i.payment_terms,i.due_date]),C=b.useMemo(()=>{if(!j)return!1;const z=new Date,H=AM(j);return!H||(i.status||"").toLowerCase()==="paid"?!1:z>H},[j,i.status]);if(!v)return null;function T(){return{invoice_number:"",vendor_id:"",notes:"",due_date:"",amount:"",currency:"$",status:"Posted",po_number:"",order_date:"",post_date:new Date().toISOString().slice(0,10),payment_terms:"30 Days Net"}}function M(z){return{id:z.id,invoice_number:z.invoice_number||"",vendor_id:String(z.vendor_id??""),notes:z.notes||z.order_description||z.description||"",due_date:z.due_date?z.due_date.slice(0,10):z.delivery_date?z.delivery_date.slice(0,10):"",amount:z.amount??"",currency:z.currency||"USD",status:z.status||"Posted",po_number:z.po_number||"",order_date:z.order_date?z.order_date.slice(0,10):"",post_date:z.post_date?z.post_date.slice(0,10):new Date().toISOString().slice(0,10),payment_terms:z.payment_terms??z.terms??"30 Days Net"}}function D(z){return z?Array.isArray(z)?z[0]||null:typeof z=="string"?z:null:null}function A(z,H){s(L=>({...L,[z]:H}))}function _(){return JSON.stringify(i)!==JSON.stringify(f.current)||!!o}function N(){_()&&!window.confirm("Discard changes? Your edits will be lost.")||n==null||n()}function O(z){var L;const H=(L=z.target.files)==null?void 0:L[0];K(H)}function K(z){if(z){if(z.type!=="application/pdf"){alert("Only PDF is allowed."),x.current&&(x.current.value=""),c(null);return}c(z)}}function I(z){z.preventDefault(),m(!0)}function Y(z){z.preventDefault(),m(!1)}function G(z){var L,X;z.preventDefault(),m(!1);const H=(X=(L=z.dataTransfer)==null?void 0:L.files)==null?void 0:X[0];K(H)}async function q(z){const H=new FormData;H.append("file",z,z.name);const L=await fetch(`${S}/api/uploads`,{method:"POST",body:H,credentials:"include"});if(!L.ok)throw new Error("Upload failed.");const X=await L.json().catch(()=>({}));return X.url||X.path||""}async function ce(z,H,L){try{const X=await fetch(`${H}?invoice_number=${encodeURIComponent(z)}`,{credentials:"include",headers:{Accept:"application/json"}});if(!X.ok)return!1;const ee=await X.json().catch(()=>({})),ne=(Array.isArray(ee)?ee:ee.items||[]).find(ie=>(ie.invoice_number||"")===z);return!(!ne||L!=null&&ne.id===L)}catch{return!1}}async function F(z){z.preventDefault();const H={...i,vendor_id:i.vendor_id?Number(i.vendor_id):null,amount:i.amount===""?null:Number(i.amount),due_date:i.due_date||null,order_date:i.order_date||null,post_date:i.post_date||null,payment_terms:i.payment_terms||null,attachments:u||null};!!!(t!=null&&t.id)&&C&&String(i.status||"").toLowerCase()!=="paid"&&(H.status="Overdue");try{if(o){const X=await q(o);X&&(H.attachments=X)}a(H)}catch(X){console.error(X),alert((X==null?void 0:X.message)||"Upload failed.")}}return l.jsxs("div",{className:"fixed inset-0 z-[70]","aria-modal":"true",role:"dialog",children:[l.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-[2px] transition-opacity duration-200 ${w?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:z=>z.target===z.currentTarget&&N()}),l.jsx("div",{className:`absolute right-0 top-0 h-full w-full max-w-2xl transition-transform duration-200 ease-out ${w?"translate-x-0":"translate-x-full"}`,children:l.jsxs("div",{className:"h-full overflow-y-auto rounded-l-2xl bg-white/95 ring-1 ring-slate-200 shadow-2xl dark:bg-[#111010] dark:ring-white/10",children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-slate-200/70 bg-white/90 px-4 py-3 backdrop-blur dark:border-white/10 dark:bg-[#0F141B]/10",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:t!=null&&t.id?"Edit Invoice":"New Invoice"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:N,className:"rounded-2xl border border-slate-300 px-3 py-1.5 text-slate-700 hover:bg-slate-50 dark:border-white/10 dark:text-slate-200 dark:hover:bg-white/5",children:"Cancel"}),l.jsx("button",{form:"invoice-form",type:"submit",className:"rounded-2xl px-3 py-1.5 text-white shadow-[inset_0_-1px_0_rgba(255,255,255,0.15)]",style:{backgroundColor:qN},onMouseEnter:z=>z.currentTarget.style.backgroundColor=nhe,onMouseLeave:z=>z.currentTarget.style.backgroundColor=qN,children:"Save"}),l.jsx("button",{onClick:N,className:"rounded-2xl p-1.5 text-slate-600 hover:bg-slate-700 dark:text-slate-700 dark:hover:bg-white/5","aria-label":"Close",children:l.jsx(Pr,{className:"h-5 w-5"})})]})]}),l.jsxs("form",{id:"invoice-form",onSubmit:F,className:"p-4",children:[l.jsx(Z0e,{form:i,setField:A,pdfFile:o,fileInputRef:x,existingAttachment:u,dup:h,dragOver:g,onPickPdf:O,onDragOverPdf:I,onDragLeavePdf:Y,onDropPdf:G,API_BASE:S,vendors:r,TERMS_OPTIONS:ihe,pastDueOn:j,isCurrentlyPastDue:C}),l.jsx("div",{className:"mt-4",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:ahe.map(z=>l.jsx("button",{type:"button",onClick:()=>A("status",z),className:`rounded-2xl px-4 py-2 text-sm transition ${i.status===z?"bg-indigo-600 text-white shadow":"border border-slate-300 text-slate-700 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300 dark:hover:bg-white/5"}`,children:z},z))})})]})]})})]})}const lhe={VITE_API_BASE_URL:"https://api.getsnova.com"},wa="px-4 sm:px-5 py-2.5 border-b border-zinc-200 dark:border-zinc-800 text-left truncate",che="px-4 sm:px-5 py-3 font-semibold text-sm tracking-wide border-b border-zinc-800 bg-zinc-900 text-zinc-100 select-none cursor-pointer",uhe="transition text-zinc-800 hover:bg-zinc-50 dark:text-zinc-200 dark:hover:bg-[#1a1a1a]";function dhe(){const e=typeof import.meta<"u"&&lhe;return e!=null&&e.VITE_API_BASE_URL?String(e.VITE_API_BASE_URL).replace(/\/$/,""):typeof window<"u"?window.location.origin.replace(":5173",":5000"):"http://localhost:5000"}function fhe(e){if(!e)return"";const t=String(e).trim();return/^https?:\/\//i.test(t)?t:`${dhe()}${t.startsWith("/")?t:`/${t}`}`}function hhe(e,t="USD"){const r=typeof e=="number"?e:e==null?NaN:Number.parseFloat(String(e).replace(/[^0-9.-]/g,""));if(Number.isNaN(r))return"-";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD",currencySign:"accounting",maximumFractionDigits:2}).format(r)}catch{return`$${r.toFixed(2)}`}}function Bo(e,t=""){if(e==null)return t;const r=typeof e;return r==="string"||r==="number"||r==="boolean"?String(e):r==="object"?"name"in e?String(e.name):"label"in e?String(e.label):"title"in e?String(e.title):t:t}const CM=24*60*60*1e3;function I2(e){if(!e)return null;const t=String(e),r=t.slice(0,10);if(/^\d{4}-\d{2}-\d{2}$/.test(r)){const[a,i,s]=r.split("-").map(Number),o=new Date(a,i-1,s);return Number.isNaN(o.getTime())?null:o}const n=new Date(t);return Number.isNaN(n.getTime())?null:new Date(n.getFullYear(),n.getMonth(),n.getDate())}function JN(e){if(String(e.status||"").toLowerCase()==="paid")return 0;const r=e.delivery_date||e.order_date,n=I2(r);if(!n)return null;const a=new Date,i=new Date(a.getFullYear(),a.getMonth(),a.getDate()),s=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=Math.floor((i-s)/CM);return Math.max(o,0)}function phe(e){if(!e)return 30;if(typeof e=="number")return e;if(typeof e=="object")return Number.isFinite(e.termsDays)?e.termsDays:typeof e.name=="string"&&/receipt/i.test(e.name)?0:30;const t=String(e);if(/receipt/i.test(t))return 0;const r=/(\d+)\s*days/i.exec(t);return r?+r[1]:30}function mhe(e,t){const r=I2(e);if(!r)return null;const n=new Date(r);return n.setDate(n.getDate()+(Number.isFinite(t)?t:0)),n}function ghe(e){const t=e.due_date||e.delivery_date;if(!I2(t))return 0;const n=phe(e.payment_terms||e.terms),a=mhe(t,n);if(!a)return 0;const s=Math.floor((new Date-a)/CM);return s>0?s:0}function xhe({row:e}){const t=String(e.status||"").toLowerCase()==="paid",r=ghe(e),n=t?"Paid":r>0?"Overdue":e.status||"Posted",a="inline-flex items-center rounded-full px-3 py-1 text-xs font-medium border transition-colors duration-200",i={Paid:a+" border-emerald-500/50 text-emerald-700 bg-emerald-200 dark:border-emerald-400/40 dark:text-emerald-300 dark:bg-emerald-900/30",Overdue:a+" border-rose-500/50 text-rose-700 bg-rose-100 dark:border-rose-400/40 dark:text-rose-300 dark:bg-rose-900/30",Posted:a+" border-amber-500/50 text-amber-700 bg-amber-100 dark:border-amber-400/40 dark:text-amber-300 dark:bg-amber-900/30",Submitted:a+" border-indigo-500/50 text-indigo-700 bg-indigo-100 dark:border-indigo-400/40 dark:text-indigo-300 dark:bg-indigo-900/30",Processing:a+" border-blue-500/50 text-blue-700 bg-blue-100 dark:border-blue-400/40 dark:text-blue-300 dark:bg-blue-900/30",Draft:a+" border-zinc-400 text-zinc-700 bg-zinc-100 dark:border-zinc-400/40 dark:text-zinc-300 dark:bg-zinc-800/30",Default:a+" border-zinc-400 text-zinc-700 bg-zinc-100 dark:border-zinc-400/40 dark:text-zinc-300 dark:bg-zinc-800/30"};return l.jsx("span",{className:i[n]||i.Default,children:n})}function vhe({items:e=[],vendorMap:t={},loading:r=!1,onEdit:n,onDelete:a,onMarkPaid:i,onOpenPdf:s}){const[o,c]=b.useState(null),[u,d]=b.useState(!0),f=[{label:"Invoice #",key:"invoice_number",align:"left"},{label:"Vendor",key:"vendor_name",align:"left"},{label:"Description",key:"description",align:"left"},{label:"Total",key:"amount",align:"right"},{label:"Status",key:"status",align:"center"},{label:"Days",key:"days_due",align:"center"},{label:"Actions",key:null,align:"center"},{label:"Order Date",key:"order_date",align:"left"},{label:"Delivery Date",key:"delivery_date",align:"left"},{label:"Post Date",key:"post_date",align:"left"}];function h(m){m&&(o===m?d(!u):(c(m),d(!0)))}function p(m,x){if(x==="days_due"){const y=JN(m);return y??-1/0}const v=m[x];return v==null?"":typeof v=="number"?v:String(v).toLowerCase()}const g=b.useMemo(()=>o?[...e].sort((m,x)=>{const v=p(m,o),y=p(x,o);return v<y?u?-1:1:v>y?u?1:-1:0}):e,[e,o,u]);return l.jsx("div",{className:"relative w-full h-full overflow-auto rounded-2xl bg-transparent",children:l.jsxs("table",{className:"w-full min-w-[1300px] text-[15px] leading-6 border-separate [border-spacing:0]",children:[l.jsx("thead",{className:"sticky top-0 z-20",children:l.jsx("tr",{children:f.map(m=>{const v=o===m.key?u?"":"":"";return l.jsx("th",{onClick:()=>m.key&&h(m.key),className:`${che} ${m.align==="center"?"text-center":m.align==="right"?"text-right":"text-left"}`,children:l.jsxs("div",{className:`flex items-center ${m.align==="center"?"justify-center":m.align==="right"?"justify-end":"justify-between"} gap-1`,children:[l.jsx("span",{children:m.label}),v&&l.jsx("span",{className:"text-xs opacity-60",children:v})]})},m.label)})})}),l.jsxs("tbody",{className:"bg-transparent",children:[r&&l.jsx("tr",{children:l.jsx("td",{colSpan:f.length,className:"px-4 sm:px-5 py-6 text-center text-zinc-500 dark:text-zinc-400",children:"Loading"})}),!r&&g.map((m,x)=>{var E,j,C,T,M,D,A;const v=Bo(t[String(m.vendor_id)]??((E=m.vendor)==null?void 0:E.name)??m.vendor_name),y=Bo(m.order_description??m.description??m.notes),w=m.attachments||m.attachment_url||m.pdf_url,k=JN(m),S=k??"";return l.jsxs("tr",{className:uhe,children:[l.jsx("td",{className:wa,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",title:"Open PDF",className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-zinc-700 text-[#0B5150] hover:bg-zinc-100 dark:text-[#5ad5d3] dark:hover:bg-zinc-800",onClick:_=>{_.stopPropagation(),w?s==null||s(fhe(w)):alert("This invoice does not have a PDF attached.")},children:l.jsx(Aa,{size:16})}),l.jsx("span",{className:"font-semibold text-zinc-900 dark:text-zinc-100",children:Bo(m.invoice_number)})]})}),l.jsx("td",{className:wa,children:v}),l.jsx("td",{className:`${wa} max-w-[240px] truncate`,children:y}),l.jsx("td",{className:`${wa} text-right`,children:hhe(m.amount,m.currency)}),l.jsx("td",{className:`${wa} text-center`,children:l.jsx(xhe,{row:m})}),l.jsx("td",{className:`${wa} text-center`,children:S}),l.jsx("td",{className:`${wa} text-center`,children:l.jsxs("div",{className:"inline-flex justify-center gap-2 flex-wrap",children:[String(m.status||"").toLowerCase()!=="paid"&&l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-emerald-300 bg-transparent text-emerald-700 hover:bg-emerald-50 dark:border-emerald-800 dark:text-emerald-300 dark:hover:bg-emerald-900/30",onClick:()=>i==null?void 0:i(m),type:"button",children:[l.jsx(HR,{size:13}),"Paid"]}),l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-zinc-300 bg-transparent text-zinc-800 hover:bg-zinc-100 dark:border-zinc-700 dark:text-zinc-200 dark:hover:bg-zinc-800",onClick:()=>n==null?void 0:n(m),type:"button",children:[l.jsx(wi,{size:13}),"Edit"]}),l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-rose-300 bg-transparent text-rose-700 hover:bg-rose-50 dark:border-rose-800 dark:text-rose-300 dark:hover:bg-rose-900/30",onClick:()=>a==null?void 0:a(m),type:"button",children:[l.jsx(Wn,{size:13}),"Delete"]})]})}),l.jsx("td",{className:wa,children:Bo((C=(j=m.order_date)==null?void 0:j.slice)==null?void 0:C.call(j,0,10))}),l.jsx("td",{className:wa,children:Bo((M=(T=m.delivery_date)==null?void 0:T.slice)==null?void 0:M.call(T,0,10))}),l.jsx("td",{className:wa,children:Bo((A=(D=m.post_date)==null?void 0:D.slice)==null?void 0:A.call(D,0,10))})]},m.id??`row-${x}`)}),!r&&g.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:f.length,className:"px-4 sm:px-5 py-6 text-center text-zinc-500 dark:text-zinc-400",children:"No results."})})]})]})})}function yhe({value:e,onChange:t,onPrint:r,onAdd:n}){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:e,onChange:a=>t==null?void 0:t(a.target.value),placeholder:"Search invoices",className:`w-72 px-3 py-1.5 rounded-xl text-sm
                   bg-white border border-zinc-300 text-zinc-900 placeholder:text-zinc-500
                   dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-100 dark:placeholder:text-zinc-500
                   focus:outline-none focus:ring-1 focus:ring-emerald-500/20 focus:border-emerald-600/50
                   transition-all`}),l.jsxs("button",{type:"button",onClick:n,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-sm
                   border border-zinc-700 bg-zinc-900 hover:bg-zinc-800
                   text-zinc-100 transition-all`,title:"Add invoice",children:[l.jsx(en,{className:"h-4 w-4"}),l.jsx("span",{children:"Add"})]}),l.jsxs("button",{type:"button",onClick:r,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-sm
                   border border-zinc-300 text-zinc-700 hover:bg-zinc-100
                   dark:border-zinc-700 dark:text-zinc-200 dark:hover:bg-[#1a1a1a]
                   transition-all`,title:"Print report",children:[l.jsx(Fy,{className:"h-4 w-4"}),l.jsx("span",{children:"Print"})]})]})}const bhe=24*60*60*1e3;function PM(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(String(e));if(!t)return null;const r=+t[1],n=+t[2],a=+t[3],i=new Date(r,n-1,a);return Number.isNaN(i.getTime())?null:i}function whe(e,t){const r=PM(e);if(!r)return null;const n=new Date(r);return n.setDate(n.getDate()+(Number.isFinite(t)?t:0)),n}function khe(e){if(!e)return 30;if(typeof e=="number")return e;if(typeof e=="object")return Number.isFinite(e.termsDays)?e.termsDays:typeof e.name=="string"&&/receipt/i.test(e.name)?0:30;const t=String(e);if(/receipt/i.test(t))return 0;const r=/(\d+)\s*days/i.exec(t);return r?+r[1]:30}function QN(e){const t=e.due_date||e.delivery_date||e.deliveryDate;if(!PM(t))return null;const n=khe(e.payment_terms||e.terms),a=whe(t,n);if(!a)return null;const i=new Date,s=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),c=Math.floor((s-o)/bhe);return Math.max(c,0)}function _he({items:e=[]}){const{postedCount:t,overdueCount:r}=b.useMemo(()=>{const s=e.filter(c=>{const u=String(c.status||"").toLowerCase(),d=QN(c);return u!=="paid"&&d>0}).length;return{postedCount:e.filter(c=>{const u=String(c.status||"").toLowerCase(),d=QN(c);return u!=="paid"&&d===0}).length,overdueCount:s}},[e]),n=t+r||1,a=Math.round(t/n*100),i=Math.round(r/n*100);return l.jsxs("div",{className:"flex flex-col items-end w-[230px] px-4 pt-1 pb-2",children:[l.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[l.jsx("span",{className:"text-sm font-medium text-zinc-200",children:"Invoices"}),l.jsxs("span",{className:"text-sm text-zinc-400",children:[n," total"]})]}),l.jsxs("div",{className:"w-full h-3 rounded-full bg-zinc-800 overflow-hidden flex",children:[l.jsx("div",{className:"h-full bg-amber-500 transition-all duration-700",style:{width:`${a}%`}}),l.jsx("div",{className:"h-full bg-rose-800 transition-all duration-700",style:{width:`${i}%`}})]}),l.jsxs("div",{className:"flex justify-between w-full mt-1.5 text-xs text-zinc-400",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full bg-amber-500"}),l.jsxs("span",{children:["Posted (",t,")"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-full bg-rose-800"}),l.jsxs("span",{children:["Overdue (",r,")"]})]})]})]})}function She(e=[],t={}){const r=new Date,a=`Engineering  Invoice Tracker  ${r.toLocaleString("en-US",{month:"long"})} ${r.getFullYear()}`,i=`${Ehe(r)}`,o=[...e].sort((u,d)=>lx(d)-lx(u)).map((u,d)=>{var x,v;const f=t[String(u.vendor_id)]||((x=u.vendor)==null?void 0:x.name)||((v=u.vendor)==null?void 0:v.company)||u.vendor||"",h=lx(u),p=Nhe(u,h),g=The(p);return`
        <tr class="${d%2?"row alt":"row"}">
          <td class="td text">${Rs(u.invoice_number||"")}</td>
          <td class="td text">${Rs(f||"")}</td>
          <td class="td text">${Rs(u.order_description||u.description||u.notes||"")}</td>
          <td class="td text">${eT(u.order_date)}</td>
          <td class="td text">${eT(u.delivery_date||u.due_date)}</td>
          <td class="td">${g}</td>
          <td class="td num">${h}</td>
          <td class="td money">${ZN(u.amount,u.currency)}</td>
          <td class="td chk"><span class="checkbox"></span></td>
        </tr>`}).join(""),c=Ahe(e);return`<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Invoice report</title>
<style>
  :root{
    --ink:#0b1220; --muted:#475569; --line:#555; /*  ms oscuro para todas las lneas */
    --bg:#FFFFFF; --bg-alt:#F8FAFC;
    --pill-posted:#EEF2FF; --pill-posted-b:#C7D2FE; --pill-posted-t:#3730A3;
    --pill-paid:#ECFDF5; --pill-paid-b:#A7F3D0; --pill-paid-t:#065F46;
    --pill-od:#FEF2F2; --pill-od-b:#FECACA; --pill-od-t:#991B1B;
  }
  @media (prefers-color-scheme: dark){
    :root{
      --ink:#E5E7EB; --muted:#94A3B8; --line:#777; /*  ms oscuro en dark tambin */
      --bg:#0B0F14; --bg-alt:#0F141B;
      --pill-posted:#111827; --pill-posted-b:#334155; --pill-posted-t:#93C5FD;
      --pill-paid:#052B27; --pill-paid-b:#0F766E; --pill-paid-t:#34D399;
      --pill-od:#2B0B0B; --pill-od-b:#7F1D1D; --pill-od-t:#FCA5A5;
    }
  }
  *{box-sizing:border-box; -webkit-print-color-adjust:exact; print-color-adjust:exact}
  body{margin:12px; font:12px/1.35 system-ui, -apple-system, Segoe UI, Roboto, Arial; color:var(--ink); background:var(--bg)}
  h1{margin:0 0 4px 0; font-size:18px; font-weight:700}
  .sub{color:#fff; font-size:11px}

  /* === Header azul degradado === */
  .header{
    display:flex; justify-content:space-between; align-items:flex-end;
    padding:10px 14px; border:1px solid transparent; border-radius:12px;
    background: linear-gradient(135deg, #0B66C3, #4FB3FF);
    color:#fff; margin-bottom:12px;
    box-shadow: 0 6px 18px rgba(11,102,195,0.25);
  }
  .header h1, .header .sub { color:#fff !important; }

  table{width:100%; border-collapse:collapse; border-radius:12px; overflow:hidden; border:1px solid var(--line)}
  thead th{
    text-align:left; font-weight:700; padding:6px 8px; background:var(--bg-alt);
    border-bottom:1px solid var(--line); font-size:11px;
  }
  .row td{padding:4px 7px; border-bottom:1px solid var(--line); line-height:1.2; font-size:11px}
  .row.alt td{background:rgba(99,102,241,0.025)}
  .td.money{text-align:left; white-space:nowrap}
  .td.num{text-align:left}
  .td.text{max-width:360px}

  th.chk, td.chk { width:22px; text-align:center; white-space:nowrap; }
  .checkbox{
    display:inline-block; width:12px; height:12px;
    border:1px solid #333; border-radius:3px; vertical-align:middle;
    background:#fff;
  }

  tfoot td{padding:6px 8px; font-weight:700; border-top:1px solid var(--line);} /*  igual que las dems */
  .total-cell { text-align:left; font-weight:700; }

  .pill{
    display:inline-block; padding:2px 8px; border-radius:9999px; border:1px solid;
    font-size:11px; font-weight:600
  }
  .posted{background:var(--pill-posted); color:var(--pill-posted-t); border-color:var(--pill-posted-b)}
  .paid{background:var(--pill-paid); color:var(--pill-paid-t); border-color:var(--pill-paid-b)}
  .overdue{background:var(--pill-od); color:var(--pill-od-t); border-color:var(--pill-od-b)}
  .gap{height:8px}

  @media print{
    body{margin:6mm;}
    .header{box-shadow:none;}
    thead {display: table-header-group;}
    tfoot {display: table-row-group;} /*  no repetir footer en cada pgina; aparece solo al final */
  }
</style>
</head>
<body>
  <div class="header">
    <div>
      <h1>${Rs(a)}</h1>
      <div class="sub">Printed: ${Rs(i)}</div>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Invoice #</th>
        <th>Vendor</th>
        <th>Order Description</th>
        <th>Order Date</th>
        <th>Delivery Date</th>
        <th>Status</th>
        <th>Days Due</th>
        <th>Order Total</th>
        <th class="chk"></th>
      </tr>
    </thead>
    <tbody>
      ${o||'<tr class="row"><td class="td" colspan="9" style="color:var(--muted)">No results.</td></tr>'}
    </tbody>
    <tfoot>
      <tr>
        <td colspan="7"></td>
        <td class="total-cell">
          ${ZN(c)}
        </td>
        <td></td>
      </tr>
    </tfoot>
  </table>

  <script>window.print()<\/script>
</body>
</html>`}function Rs(e){return String(e??"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")}function ZN(e,t="USD"){const r=typeof e=="number"?e:e==null?0:Number.parseFloat(String(e).replace(/[^0-9.-]/g,""));try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t,currencySign:"accounting",maximumFractionDigits:2}).format(Number.isFinite(r)?r:0)}catch{return`$${(Number.isFinite(r)?r:0).toFixed(2)}`}}function eT(e){if(!e)return"";const t=/^(\d{4})-(\d{2})-(\d{2})/.exec(String(e));return t?`${t[1]}-${t[2]}-${t[3]}`:Rs(e)}function Ehe(e){const t=r=>r<10?"0"+r:""+r;return`${e.getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())} ${t(e.getHours())}:${t(e.getMinutes())}`}function jhe(e){if(!e)return null;const t=/^(\d{4})-(\d{2})-(\d{2})/.exec(String(e));if(!t)return null;const r=new Date(Number(t[1]),Number(t[2])-1,Number(t[3]));return Number.isNaN(r.getTime())?null:r}function tT(e,t){const r=jhe(e);if(!r)return null;const n=new Date(r);return n.setDate(n.getDate()+(t||0)),n}function lx(e){const t=e.delivery_date||e.due_date||null,r=(e.payment_terms||e.terms||"30 Days Net").toLowerCase();if(!t)return 0;const n=r.includes("30")||r.includes("net")?tT(t,30):tT(t,0);if(!n)return 0;const a=new Date;a.setHours(0,0,0,0);const i=a.getTime()-n.getTime(),s=Math.floor(i/864e5);return s>0?s:0}function Nhe(e,t){return String(e.status||"").toLowerCase()==="paid"?"Paid":t>0?"Overdue":e.status||"Posted"}function The(e){return`<span class="pill ${e==="Paid"?"paid":e==="Overdue"?"overdue":"posted"}">${Rs(e)}</span>`}function Ahe(e){return e.reduce((t,r)=>{const n=typeof r.amount=="number"?r.amount:r.amount==null?0:Number.parseFloat(String(r.amount).replace(/[^0-9.-]/g,""));return t+(Number.isFinite(n)?n:0)},0)}const Che={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.getsnova.com"},ep=typeof import.meta<"u"&&Che&&"https://api.getsnova.com"||(typeof window<"u"?window.location.origin.replace(":5173",":5000"):"http://localhost:5000"),Vc=`${ep}/api/invoices`,Phe=`${ep}/api/vendors`;async function Ohe(e,t){const r=async a=>fetch(a,t);let n=await r(e);if(n.status===405){const a=e.endsWith("/")?e.slice(0,-1):`${e}/`;n=await r(a)}return n}async function rT(e){const t=await Ohe(e,{credentials:"include"});if(!t.ok)throw new Error(`HTTP ${t.status}`);const r=await t.json().catch(()=>[]);return Array.isArray(r)?r:r.items||[]}function Dhe(e){return e?/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${ep}${e}`:`${ep}/${e.replace(/^\/+/,"")}`:""}function Mhe(){const[e,t]=b.useState([]),[r,n]=b.useState({}),[a,i]=b.useState(!1),[s,o]=b.useState(""),[c,u]=b.useState(!1),[d,f]=b.useState(null),[h,p]=b.useState(!1),[g,m]=b.useState(""),[x,v]=b.useState("auto"),y=b.useRef(null);b.useEffect(()=>{var O;function _(){var q,ce;const K=((q=y.current)==null?void 0:q.offsetHeight)||0,G=(((ce=window.visualViewport)==null?void 0:ce.height)||window.innerHeight||800)-K-12;v(`${G}px`)}_();const N=new ResizeObserver(_);return y.current&&N.observe(y.current),window.addEventListener("resize",_),(O=window.visualViewport)==null||O.addEventListener("resize",_),()=>{var K;N.disconnect(),window.removeEventListener("resize",_),(K=window.visualViewport)==null||K.removeEventListener("resize",_)}},[]);async function w(){i(!0);try{const[_,N]=await Promise.all([rT(Phe),rT(Vc)]),O={};_.forEach(K=>{O[String(K.id)]=K.name||K.company||K.vendor_name||K.contact_name||`#${K.id}`}),n(O),t(N)}catch(_){console.error("Load failed:",_),n({}),t([])}finally{i(!1)}}b.useEffect(()=>{w()},[]);const k=b.useMemo(()=>{const _=s.trim().toLowerCase();if(!_)return e;const N=O=>(O==null?"":String(O)).toLowerCase();return e.filter(O=>{var I;const K=r[String(O.vendor_id)]||((I=O.vendor)==null?void 0:I.name)||"";return N(O.invoice_number).includes(_)||N(K).includes(_)||N(O.status).includes(_)||N(O.amount).includes(_)||N(O.notes||O.order_description||O.description).includes(_)||N(O.po_number).includes(_)})},[e,r,s]),S=()=>{f(null),u(!0)},E=_=>{f(_),u(!0)},j=()=>{u(!1),f(null)};async function C(_){try{const N=!!(d!=null&&d.id),O=N?`${Vc}/${d.id}`:Vc,I=await fetch(O,{method:N?"PUT":"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!I.ok)throw new Error(`HTTP ${I.status}`);j(),await w()}catch(N){console.error("Save failed:",N),alert("Save invoice failed.")}}async function T(_){if(window.confirm(`Delete invoice "${_.invoice_number}"?`))try{const O=await fetch(`${Vc}/${_.id}`,{method:"DELETE",credentials:"include"});if(!O.ok)throw new Error(`HTTP ${O.status}`);await w()}catch(O){console.error("Delete failed:",O),alert("Delete invoice failed.")}}async function M(_){if(window.confirm(`Mark invoice "${_.invoice_number}" as Paid?`))try{const O=await fetch(`${Vc}/${_.id}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"Paid"})});if(!O.ok)throw new Error(`HTTP ${O.status}`);await w()}catch(O){console.error("Update failed:",O),alert("Failed to update status.")}}function D(_){if(!_){alert("This invoice does not have a PDF attached.");return}m(Dhe(_)),p(!0)}function A(){const _=She(k,r),N=window.open("","_blank");if(!N)return alert("Popup blocked");N.document.open(),N.document.write(_),N.document.close()}return l.jsx(f2,{title:"",children:l.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-transparent page-fade-in",children:[l.jsxs("header",{ref:y,className:`
            sticky top-0 z-30
            bg-zinc-100 dark:bg-zinc-900
            border-b border-zinc-300 dark:border-zinc-800
            px-6 py-3
            flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-6
            shadow-sm
          `,children:[l.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Invoices"}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx(yhe,{value:s,onChange:o,onPrint:A,onAdd:S})}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(_he,{items:k})})]}),l.jsx("div",{className:"flex-1 min-h-0 overflow-hidden border-t border-zinc-200 dark:border-zinc-800 bg-transparent",style:{height:x,transition:"height 0.3s ease"},children:l.jsx(vhe,{items:k,vendorMap:r,loading:a,onEdit:E,onDelete:T,onMarkPaid:M,onOpenPdf:D})}),l.jsx(ohe,{open:c,initial:d,vendors:Object.entries(r).map(([_,N])=>({id:_,name:N})),onClose:j,onSave:C}),l.jsx($d,{open:h,url:g,onClose:()=>p(!1)}),l.jsx("style",{children:`
          .page-fade-in { animation: inv-page-fade .25s ease-out; }
          @keyframes inv-page-fade { from { opacity: 0 } to { opacity: 1 } }
        `})]})})}const Ihe={VITE_API_BASE_URL:"https://api.getsnova.com"};function Fhe(){const e=typeof import.meta<"u"&&Ihe;return e!=null&&e.VITE_API_BASE_URL?String(e.VITE_API_BASE_URL).replace(/\/$/,""):typeof window<"u"?window.location.origin.replace(":5173",":5000"):"http://localhost:5000"}function cx(e){if(!e)return"";const t=String(e).trim();return/^https?:\/\//i.test(t)?t:`${Fhe()}${t.startsWith("/")?t:`/${t}`}`}function Lhe(e){if(!e)return[];try{if(typeof e=="string"&&e.trim().startsWith("[")){const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>typeof r=="string"?r:r&&typeof r=="object"&&(r.url||r.href||r.src)?r.url||r.href||r.src:"").filter(Boolean)}}catch{}return typeof e=="string"?e.split(/[\n,;|]+/g).map(t=>t.trim()).filter(Boolean):Array.isArray(e)?e.filter(Boolean):[]}function Rhe(e={}){const t=[e.photo_url,e.image_url,e.thumbnail_url,e.picture_url,e.asset_photo_url,e.asset_image_url,e.photo,e.image,e.thumb,e.thumbnail].find(a=>typeof a=="string"&&a.trim());if(t)return cx(t);const r=Lhe(e.photos);if(r.length)return cx(r[0]);const n=Array.isArray(e.photos)&&e.photos[0]||Array.isArray(e.images)&&e.images[0]||"";return n?cx(n):""}const Ii="px-4 sm:px-5 py-4 border-b border-zinc-200 dark:border-zinc-800 text-left align-middle";function Sr({label:e,children:t}){return l.jsxs("div",{className:"pb-1.5 mb-1 border-b border-zinc-200/60 dark:border-zinc-800/70",children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-zinc-500 dark:text-zinc-400",children:e}),l.jsx("div",{className:"text-[14px] text-zinc-900 dark:text-zinc-100 leading-tight",children:t??""})]})}function zhe({item:e,onEdit:t,onDelete:r,compact:n=!1,stop:a}){const i="rounded-lg border text-xs font-medium transition px-2 py-0.5 select-none";return l.jsxs("div",{className:`flex items-center gap-2 ${n?"":"justify-end"}`,children:[l.jsx("button",{type:"button",className:`${i} border-zinc-300 text-zinc-700 hover:bg-zinc-100 dark:border-zinc-700 dark:text-zinc-200 dark:hover:bg-[#1a1a1a]`,onMouseDown:c=>c.stopPropagation(),onClick:c=>{c.stopPropagation(),a==null||a(),t==null||t(e)},children:"Edit"}),l.jsx("button",{type:"button",className:`${i} border-red-500/60 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-950/30`,onMouseDown:c=>c.stopPropagation(),onClick:c=>{if(c.stopPropagation(),a==null||a(),!r)return;window.confirm("Delete this asset?")&&r(e)},children:"Delete"})]})}function Bhe({items:e=[],loading:t=!1,onEdit:r,onDelete:n}){const[a,i]=b.useState(null),[s,o]=b.useState({key:null,dir:"asc"}),c=b.useRef({}),u=b.useMemo(()=>[{key:"photo",label:"Photo"},{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"location",label:"Location"},{key:"manufacturer",label:"Manufacturer"},{key:"model_no",label:"Model"},{key:"serial_no",label:"Serial"},{key:"actions",label:"Actions"}],[]),d=b.useMemo(()=>s.key?[...e].sort((p,g)=>{const m=(p[s.key]||"").toString().toLowerCase(),x=(g[s.key]||"").toString().toLowerCase();return m<x?s.dir==="asc"?-1:1:m>x?s.dir==="asc"?1:-1:0}):e,[e,s]);function f(h){h==="photo"||h==="actions"||o(p=>p.key===h?{key:h,dir:p.dir==="asc"?"desc":"asc"}:{key:h,dir:"asc"})}return b.useEffect(()=>{a&&c.current[a]&&c.current[a].scrollIntoView({behavior:"smooth",block:"center"})},[a]),l.jsx("div",{className:"absolute inset-0 overflow-y-auto bg-white dark:bg-zinc-900",children:l.jsxs("table",{className:"w-full text-[15px] leading-6 border-separate [border-spacing:0] cursor-default select-none",children:[l.jsx("thead",{className:"sticky top-0 z-10 bg-white dark:bg-zinc-900 border-b border-zinc-200 dark:border-zinc-800",children:l.jsx("tr",{children:u.map(h=>l.jsx("th",{onClick:()=>f(h.key),className:`px-4 sm:px-5 py-3 text-left font-medium text-zinc-700 dark:text-zinc-300 select-none ${h.key==="photo"||h.key==="actions"?"":"cursor-pointer"} ${s.key===h.key?"text-[#0B5150]":"hover:text-[#0B5150]/80 transition"}`,children:l.jsxs("div",{className:"flex items-center gap-1",children:[h.label,s.key===h.key&&l.jsx("span",{className:"text-xs opacity-70",children:s.dir==="asc"?"":""})]})},h.key))})}),l.jsxs("tbody",{children:[t&&l.jsx("tr",{children:l.jsx("td",{colSpan:u.length,className:"py-6 text-center text-zinc-500 dark:text-zinc-400",children:"Loading"})}),!t&&d.map((h,p)=>{var y,w,k,S,E,j;const g=p===d.length-1,m=Rhe(h),x=a===h.id,v=(h.type||"").toLowerCase()==="it";return l.jsxs(fe.Fragment,{children:[l.jsxs("tr",{ref:C=>c.current[h.id]=C,onMouseDown:C=>{C.button===0&&i(T=>T===h.id?null:h.id)},className:["bg-transparent transition","text-zinc-800 hover:bg-zinc-50 dark:text-zinc-200 dark:hover:bg-[#1a1a1a]","cursor-pointer",g?"last:[&>td]:border-b-0":""].join(" "),children:[l.jsx("td",{className:Ii,children:m?l.jsx("img",{src:m,alt:h.name||"Asset photo",className:"w-24 h-16 rounded-lg object-cover border border-zinc-300 dark:border-zinc-700",loading:"lazy"}):l.jsx("div",{className:"w-24 h-16 rounded-lg border border-dashed border-zinc-300 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/40 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:""})}),l.jsx("td",{className:`${Ii} font-semibold text-zinc-900 dark:text-zinc-100`,children:h.name||""}),l.jsx("td",{className:Ii,children:h.type||""}),l.jsx("td",{className:Ii,children:h.location||h.area||h.floor||""}),l.jsx("td",{className:Ii,children:h.manufacturer||h.vendor||""}),l.jsx("td",{className:Ii,children:h.model_no||h.model||""}),l.jsx("td",{className:Ii,children:h.serial_no||h.serial||""}),l.jsx("td",{className:Ii,children:l.jsx(zhe,{item:h,onEdit:r,onDelete:n,compact:!0})})]}),l.jsx(uc,{initial:!1,children:x&&l.jsx("tr",{children:l.jsx("td",{colSpan:u.length,className:"p-0 border-b border-zinc-200 dark:border-zinc-800",children:l.jsx(tn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.25},className:"overflow-hidden",children:l.jsx("div",{className:"px-4 sm:px-5 pb-4 pt-2",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[300px_1fr] gap-3",children:[l.jsx("div",{className:"lg:sticky lg:top-16",children:m?l.jsx("img",{src:m,alt:h.name,className:"w-full max-w-[300px] aspect-[4/3] object-cover rounded-lg border border-zinc-300 dark:border-zinc-700"}):l.jsx("div",{className:"w-full max-w-[300px] aspect-[4/3] rounded-lg border border-dashed border-zinc-300 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/10 flex items-center justify-center text-sm text-zinc-400 dark:text-zinc-500",children:""})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:`grid grid-cols-2 ${v?"xl:grid-cols-2":"xl:grid-cols-1"} gap-3`,children:[l.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3",children:[l.jsx(Sr,{label:"Floor",children:h.floor}),l.jsx(Sr,{label:"Area",children:h.area}),l.jsx(Sr,{label:"Location",children:h.location}),l.jsx(Sr,{label:"PM Frequency",children:h.pm_frequency}),l.jsx(Sr,{label:"Install Date",children:(w=(y=h.install_date)==null?void 0:y.slice)==null?void 0:w.call(y,0,10)}),l.jsx(Sr,{label:"Warranty Exp.",children:(S=(k=h.warranty_expiration)==null?void 0:k.slice)==null?void 0:S.call(k,0,10)}),l.jsx(Sr,{label:"Next Service",children:(j=(E=h.next_service_at)==null?void 0:E.slice)==null?void 0:j.call(E,0,10)}),l.jsx(Sr,{label:"Manufacturer",children:h.manufacturer})]}),v&&l.jsxs("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-950/50 shadow-sm",children:[l.jsx("div",{className:"px-3 py-2 border-b border-zinc-200 dark:border-zinc-800 text-[12px] font-semibold uppercase tracking-wide text-zinc-700 dark:text-zinc-200",children:"IT Details"}),l.jsxs("div",{className:"p-3 grid grid-cols-2 gap-x-6 gap-y-3",children:[l.jsx(Sr,{label:"Hostname",children:h.hostname}),l.jsx(Sr,{label:"VLAN",children:h.vlan_id}),l.jsx(Sr,{label:"IP",children:h.ip_address}),l.jsx(Sr,{label:"MAC",children:h.mac_address}),l.jsx(Sr,{label:"Ports",children:h.ports_used!=null||h.ports_total!=null?`${h.ports_used??0}/${h.ports_total??0}`:""}),l.jsx(Sr,{label:"OS",children:h.os_version}),l.jsx(Sr,{label:"Firmware",children:h.firmware_version}),l.jsx(Sr,{label:"Port Notes",children:l.jsx("div",{className:"whitespace-pre-wrap",children:h.port_notes||""})})]})]})]}),l.jsxs("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/60 shadow-sm",children:[l.jsx("div",{className:"px-3 py-2 border-b border-zinc-200 dark:border-zinc-800 text-[12px] font-semibold uppercase tracking-wide text-zinc-700 dark:text-zinc-300",children:"Notes"}),l.jsx("div",{className:"p-3 text-[14px] text-zinc-900 dark:text-zinc-100 whitespace-pre-wrap",children:h.notes||h.note||""})]}),l.jsx("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900/50 shadow-sm",children:l.jsx($he,{assetId:h.id})})]})]})})})})})})]},h.id??`${h.name}-${p}`)})]})]})})}function $he({assetId:e}){var i,s,o,c;const[t,r]=fe.useState(null),[n,a]=fe.useState(!0);return fe.useEffect(()=>{e&&(a(!0),fetch(`/api/assets/${e}/linked`).then(u=>u.ok?u.json():null).then(u=>r(u)).catch(()=>r(null)).finally(()=>a(!1)))},[e]),n?l.jsx("div",{className:"text-sm text-zinc-400 mt-2",children:"Loading linked documents"}):!t||!((i=t.sops)!=null&&i.length)&&!((s=t.manuals)!=null&&s.length)?l.jsx("div",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"No linked documents."}):l.jsxs("div",{className:"p-2",children:[l.jsx("div",{className:"text-[12px] font-semibold uppercase tracking-wide text-zinc-700 dark:text-zinc-300 mb-1.5 border-b border-zinc-300/40 dark:border-zinc-700/60 pb-1",children:"Linked Documents"}),l.jsxs("ul",{className:"space-y-1 text-[14px] text-zinc-900 dark:text-zinc-100",children:[(o=t.sops)==null?void 0:o.map(u=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[#0B5150] font-semibold",children:"(SOP)"}),l.jsx("a",{href:`/sop/view/${u.id}`,className:"hover:underline hover:text-[#0B5150]",children:u.title||"Untitled SOP"})]},`sop-${u.id}`)),(c=t.manuals)==null?void 0:c.map(u=>l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sky-600 font-semibold",children:"(Manual)"}),u.file_url?l.jsx("a",{href:u.file_url,target:"_blank",rel:"noreferrer",className:"hover:underline hover:text-sky-600",children:u.title||"Untitled Manual"}):l.jsx("span",{children:u.title||"Untitled Manual"})]},`manual-${u.id}`))]})]})}const Uhe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"https://api.getsnova.com"},kt="w-full bg-transparent px-3 py-2 text-slate-800 placeholder-slate-400 focus:outline-none dark:text-slate-100 transition-colors duration-150",Vhe=["IT","HVAC","Pump","Boiler","Electrical","Plumbing","Panel","Furniture","Appliance","Other"],Whe=["Annual","Semi-Annual","Quarterly","Monthly","Weekly","Daily"];function nT(e){return e<10?`0${e}`:String(e)}function ux(e){return`${e.getFullYear()}-${nT(e.getMonth()+1)}-${nT(e.getDate())}`}function aT(e){if(!e)return null;const t=/^(\d{4})-(\d{1,2})-(\d{1,2})$/.exec(e);if(t){const r=+t[1],n=+t[2],a=+t[3],i=new Date(r,n-1,a);return isNaN(i)?null:i}return null}function Hhe(e,t){return new Date(e,t+1,0).getDate()}function Khe(e){if(!e)return e;let t=e.trim().replace(/-/g,":").replace(/\./g,"").toUpperCase();const r=t.replace(/:/g,"");return r.length===12&&/^[0-9A-F]+$/.test(r)&&(t=r.match(/.{1,2}/g).join(":")),t}function dx(e,t,r){const n=Number.parseInt(e,10);if(!Number.isNaN(n))return t!=null&&n<t?t:r!=null&&n>r?r:n}const P1=typeof import.meta<"u"&&Uhe&&"https://api.getsnova.com"||(typeof window<"u"?window.location.origin.replace(":5173",":5000"):"http://localhost:5000");function Ghe(e){return e?/^https?:\/\//i.test(e)?e:e.startsWith("/")?`${P1}${e}`:`${P1}/${e.replace(/^\/+/,"")}`:""}async function Yhe(e){const t=new FormData;t.append("file",e,e.name);const r=await fetch(`${P1}/api/uploads`,{method:"POST",body:t,credentials:"include"});if(!r.ok){let i=`HTTP ${r.status}`;try{if((r.headers.get("content-type")||"").includes("application/json")){const o=await r.json();i=(o==null?void 0:o.message)||(o==null?void 0:o.detail)||(o==null?void 0:o.msg)||i}else i=await r.text()}catch{}throw new Error(`Upload failed: ${i}`)}const n=await r.json().catch(()=>({})),a=n.url||n.path||n.file||n.filename||"";return a?typeof a=="string"&&!/^https?:\/\//i.test(a)&&!a.startsWith("/uploads/")?`/uploads/${a.replace(/^\/+/,"")}`:String(a):""}function rt({label:e,children:t,className:r=""}){return l.jsxs("label",{className:`block ${r}`,children:[l.jsx("div",{className:"mb-1 text-sm font-semibold text-slate-800 dark:text-slate-200",children:e}),t]})}function nt({children:e,status:t="neutral",noPadding:r=!1}){const n=t==="valid"?"border-[#0B5150] focus-within:ring-2 focus-within:ring-[#0B5150]/45":t==="invalid"?"border-red-500 focus-within:ring-2 focus-within:ring-red-500/40":"border-slate-200 focus-within:ring-2 focus-within:ring-[#0B5150]/35";return l.jsx("div",{className:"rounded-2xl border bg-white shadow-sm transition-colors duration-150 hover:border-slate-300 dark:bg-[#0b0b0b] dark:border-white/10 dark:hover:border-white/15 "+n+(r?" p-0":" p-2"),children:e})}function fx({value:e,onChange:t,placeholder:r="YYYY-MM-DD"}){const[n,a]=b.useState(!1),i=b.useRef(null),s=aT(e),[o,c]=b.useState(s?s.getFullYear():new Date().getFullYear()),[u,d]=b.useState(s?s.getMonth():new Date().getMonth());b.useEffect(()=>{function w(k){i.current&&(i.current.contains(k.target)||a(!1))}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),b.useEffect(()=>{if(!n)return;const w=aT(e)||new Date;c(w.getFullYear()),d(w.getMonth())},[n,e]);function f(w){const k=new Date(o,u,w);t==null||t(ux(k)),a(!1)}const h=new Date(o,u,1),p=h.getDay(),g=Hhe(o,u),m=h.toLocaleString("en-US",{month:"long",year:"numeric"}),x=[];for(let w=0;w<p;w++)x.push(null);for(let w=1;w<=g;w++)x.push(w);const v=e,y=ux(new Date);return l.jsxs("div",{ref:i,className:"relative w-full",children:[l.jsx("div",{className:"pointer-events-none absolute left-3 top-2.5 text-slate-400",children:l.jsx(q0,{className:"h-4 w-4"})}),l.jsx("button",{type:"button",onClick:()=>a(w=>!w),className:`${kt} pl-9 text-left rounded-xl`,"aria-haspopup":"dialog","aria-expanded":n,children:v||l.jsx("span",{className:"text-slate-400",children:r})}),n&&l.jsxs("div",{className:"absolute z-50 mt-2 w-80 overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-xl ring-1 ring-black/5 dark:border-white/10 dark:bg-[#0b0b0b]",children:[l.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 px-3 py-2 dark:border-white/10",children:[l.jsx("button",{type:"button",className:"rounded-lg p-1 hover:bg-slate-100 dark:hover:bg-[#111]",onClick:()=>{const w=new Date(o,u-1,1);c(w.getFullYear()),d(w.getMonth())},"aria-label":"Previous month",children:l.jsx(_p,{className:"h-4 w-4"})}),l.jsx("div",{className:"text-sm font-medium text-slate-800 dark:text-slate-100",children:m}),l.jsx("button",{type:"button",className:"rounded-lg p-1 hover:bg-slate-100 dark:hover:bg-[#111]",onClick:()=>{const w=new Date(o,u+1,1);c(w.getFullYear()),d(w.getMonth())},"aria-label":"Next month",children:l.jsx(vd,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 px-3 pt-2 text-center text-xs text-slate-500 dark:text-slate-400",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(w=>l.jsx("div",{children:w},w))}),l.jsx("div",{className:"grid grid-cols-7 gap-1 p-3 pt-1",children:x.map((w,k)=>{if(w===null)return l.jsx("div",{},`pad-${k}`);const S=ux(new Date(o,u,w)),E=v===S,j=y===S;return l.jsx("button",{type:"button",onClick:()=>f(w),className:"h-9 rounded-lg text-sm transition "+(E?"bg-[#083A39] text-white":"hover:bg-slate-100 dark:hover:bg-[#111]")+(j&&!E?" ring-1 ring-[#0B5150]/40":""),children:w},S)})})]})]})}function Xhe({open:e,initial:t=null,onClose:r,onSave:n}){const[a,i]=b.useState(x()),[s,o]=b.useState(e);b.useEffect(()=>{e&&o(!0)},[e]);const[c,u]=b.useState([]),[d,f]=b.useState([]),h=b.useRef(null),[p,g]=b.useState(!1);b.useEffect(()=>{if(e){if(t&&t.id){const _=v(t);i(_),u(y(t.photos)),f([])}else i(x()),u([]),f([]);g(!1)}},[e,t]);const m=b.useMemo(()=>(a.type||"").toLowerCase()==="it",[a.type]);function x(){return{name:"",type:"IT",location:"",floor:"",area:"",manufacturer:"",model_no:"",serial_no:"",pm_frequency:"",install_date:"",warranty_expiration:"",next_service_at:"",notes:"",equipment:"",equipment_name:"",ip_address:"",mac_address:"",hostname:"",vlan_id:"",os_version:"",firmware_version:"",ports_total:"",ports_used:"",port_notes:""}}function v(_){return{name:_.name||"",type:_.type||"IT",location:_.location||"",floor:_.floor||"",area:_.area||"",manufacturer:_.manufacturer||"",model_no:_.model_no||"",serial_no:_.serial_no||"",pm_frequency:_.pm_frequency||"",install_date:_.install_date?_.install_date.slice(0,10):"",warranty_expiration:_.warranty_expiration?_.warranty_expiration.slice(0,10):"",next_service_at:_.next_service_at?_.next_service_at.slice(0,10):"",notes:_.notes||"",equipment:_.equipment||"",equipment_name:_.equipment_name||"",ip_address:_.ip_address||"",mac_address:_.mac_address||"",hostname:_.hostname||"",vlan_id:_.vlan_id??"",os_version:_.os_version||"",firmware_version:_.firmware_version||"",ports_total:_.ports_total??"",ports_used:_.ports_used??"",port_notes:_.port_notes||""}}function y(_){if(!_)return[];try{const N=JSON.parse(_);if(Array.isArray(N))return N.filter(Boolean).map(String)}catch{}return typeof _=="string"?_.split(",").map(N=>N.trim()).filter(Boolean):[]}function w(_,N){i(O=>({...O,[_]:N}))}function k(){r==null||r()}function S(_){_.preventDefault(),_.stopPropagation(),g(!0)}function E(_){_.preventDefault(),_.stopPropagation(),g(!0)}function j(_){_.preventDefault(),_.stopPropagation(),g(!1)}function C(_){var K;_.preventDefault(),_.stopPropagation(),g(!1);const O=Array.from(((K=_.dataTransfer)==null?void 0:K.files)||[]).filter(I=>/^image\//i.test(I.type));O.length&&f(I=>[...I,...O])}function T(_){u(N=>N.filter((O,K)=>K!==_))}function M(_){f(N=>N.filter((O,K)=>K!==_))}async function D(_){if(_.preventDefault(),!String(a.name||"").trim()){alert("Name is required.");return}let N=[];if(d.length>0)for(const Y of d){const G=await Yhe(Y);G&&N.push(G)}const O=[...c,...N],K=O.length?JSON.stringify(O):null,I={name:(a.name||"").trim(),type:a.type||"IT",location:(a.location||"").trim()||null,floor:(a.floor||"").trim()||null,area:(a.area||"").trim()||null,manufacturer:(a.manufacturer||"").trim()||null,model_no:(a.model_no||"").trim()||null,serial_no:(a.serial_no||"").trim()||null,pm_frequency:(a.pm_frequency||"").trim()||null,install_date:a.install_date?`${a.install_date}T00:00:00`:null,warranty_expiration:a.warranty_expiration?`${a.warranty_expiration}T00:00:00`:null,next_service_at:a.next_service_at?`${a.next_service_at}T00:00:00`:null,notes:(a.notes||"").trim()||null,photos:K};m&&(I.equipment=(a.equipment||"").trim()||null,I.equipment_name=(a.equipment_name||"").trim()||null,I.ip_address=(a.ip_address||"").trim()||null,I.mac_address=Khe(a.mac_address||"")||null,I.hostname=(a.hostname||"").trim()||null,I.vlan_id=a.vlan_id===""?null:dx(a.vlan_id,1,4094),I.os_version=(a.os_version||"").trim()||null,I.firmware_version=(a.firmware_version||"").trim()||null,I.ports_total=a.ports_total===""?null:dx(a.ports_total,0,1e5),I.ports_used=a.ports_used===""?null:dx(a.ports_used,0,1e5),I.ports_total!=null&&I.ports_used!=null&&I.ports_used>I.ports_total&&(I.ports_used=I.ports_total),I.port_notes=(a.port_notes||"").trim()||null),n==null||n(I)}if(!s&&!e)return null;function A(_){!e&&_.target===_.currentTarget&&o(!1)}return l.jsxs("div",{className:"fixed inset-0 z-50",children:[l.jsx("div",{onClick:k,onTransitionEnd:A,className:["absolute inset-0 bg-black/60 backdrop-blur-[2px] transition-opacity duration-300",e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"].join(" ")}),l.jsxs("div",{onTransitionEnd:A,className:["absolute right-0 top-0 h-full w-full max-w-3xl","border-l border-slate-200 bg-white shadow-2xl","dark:border-white/10 dark:bg-[#0b0b0b]","transform transition-transform duration-300",e?"translate-x-0":"translate-x-full","overflow-y-auto"].join(" "),children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-slate-200 bg-white/90 px-4 py-3 backdrop-blur dark:border-white/10 dark:bg-[#0b0b0b]/90",children:[l.jsx("h3",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:"New Asset"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:k,className:"rounded-lg px-3 py-1.5 text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-[#111]",children:"Cancel"}),l.jsx("button",{form:"asset-form",type:"submit",className:"rounded-lg px-3 py-1.5 font-medium text-white",style:{backgroundColor:"#083A39"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="#0A4644"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="#083A39"},children:"Save"}),l.jsx("button",{onClick:k,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-[#111]","aria-label":"Close",children:l.jsx(Pr,{className:"h-5 w-5"})})]})]}),l.jsxs("form",{id:"asset-form",onSubmit:D,className:"p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[l.jsx(rt,{label:"Name",children:l.jsx(nt,{children:l.jsx("input",{value:a.name,onChange:_=>w("name",_.target.value),className:kt,placeholder:"e.g., Core Switch MDF",required:!0})})}),l.jsx(rt,{label:"Type",children:l.jsx(nt,{children:l.jsxs("div",{className:"relative",children:[l.jsx("select",{value:a.type,onChange:_=>w("type",_.target.value),className:`${kt} appearance-none rounded-xl pr-9 dark:[color-scheme:dark]`,children:Vhe.map(_=>l.jsx("option",{value:_,children:_},_))}),l.jsx($u,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500 dark:text-slate-400"})]})})}),l.jsx(rt,{label:"Location",children:l.jsx(nt,{children:l.jsx("input",{value:a.location,onChange:_=>w("location",_.target.value),className:kt,placeholder:"MDF - Rack A"})})}),l.jsx(rt,{label:"Floor",children:l.jsx(nt,{children:l.jsx("input",{value:a.floor,onChange:_=>w("floor",_.target.value),className:kt,placeholder:"2 / 3 / Roof"})})}),l.jsx(rt,{label:"Area",children:l.jsx(nt,{children:l.jsx("input",{value:a.area,onChange:_=>w("area",_.target.value),className:kt,placeholder:"Lobby / Kitchen / ..."})})}),l.jsx(rt,{label:"Manufacturer",children:l.jsx(nt,{children:l.jsx("input",{value:a.manufacturer,onChange:_=>w("manufacturer",_.target.value),className:kt,placeholder:"Cisco"})})}),l.jsx(rt,{label:"Model",children:l.jsx(nt,{children:l.jsx("input",{value:a.model_no,onChange:_=>w("model_no",_.target.value),className:kt,placeholder:"C9300-24T"})})}),l.jsx(rt,{label:"Serial",children:l.jsx(nt,{children:l.jsx("input",{value:a.serial_no,onChange:_=>w("serial_no",_.target.value),className:kt,placeholder:"FCW1234ABC"})})}),l.jsx(rt,{label:"PM Frequency",children:l.jsx(nt,{children:l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:a.pm_frequency,onChange:_=>w("pm_frequency",_.target.value),className:`${kt} appearance-none rounded-xl pr-9 dark:[color-scheme:dark]`,children:[l.jsx("option",{value:"",children:"Select"}),Whe.map(_=>l.jsx("option",{value:_,children:_},_))]}),l.jsx($u,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-500 dark:text-slate-400"})]})})}),l.jsx(rt,{label:"Install Date",children:l.jsx(nt,{children:l.jsx(fx,{value:a.install_date,onChange:_=>w("install_date",_),placeholder:"YYYY-MM-DD"})})}),l.jsx(rt,{label:"Warranty Expiration",children:l.jsx(nt,{children:l.jsx(fx,{value:a.warranty_expiration,onChange:_=>w("warranty_expiration",_),placeholder:"YYYY-MM-DD"})})}),l.jsx(rt,{label:"Next Service",children:l.jsx(nt,{children:l.jsx(fx,{value:a.next_service_at,onChange:_=>w("next_service_at",_),placeholder:"YYYY-MM-DD"})})}),l.jsx(rt,{label:"Notes",className:"md:col-span-2",children:l.jsx(nt,{children:l.jsx("textarea",{rows:4,value:a.notes,onChange:_=>w("notes",_.target.value),className:`${kt} min-h-24 resize-y`,placeholder:"General notes for this asset"})})}),l.jsx(rt,{label:"Photos (images)",className:"md:col-span-2",children:l.jsx(nt,{noPadding:!0,children:l.jsxs("div",{onDragOver:S,onDragEnter:E,onDragLeave:j,onDrop:C,className:"relative flex w-full flex-col gap-3 rounded-2xl p-2 transition-all "+(p?"ring-2 ring-[#0B5150]/55 border border-[#0B5150] bg-[#0B5150]/5 dark:bg-[#0b0b0b]/30":"border border-transparent"),children:[l.jsxs("label",{htmlFor:"asset-photos",className:"flex cursor-pointer flex-col items-center justify-center rounded-xl border border-slate-300 p-3 text-center text-sm text-slate-600 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300 dark:hover:bg-[#111]",role:"button","aria-label":"Drag & drop images, or click to select",children:[l.jsx("div",{className:"mb-1 font-medium text-slate-700 dark:text-slate-200",children:"Drag & drop images, or click to select"}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PNG, JPG, JPEG, WEBP, GIF. You can add multiple files."})]}),l.jsx("input",{id:"asset-photos",ref:h,type:"file",accept:"image/*",multiple:!0,onChange:_=>{const N=Array.from(_.target.files||[]).filter(O=>/^image\//i.test(O.type));_.target.value="",N.length&&f(O=>[...O,...N])},className:"sr-only"}),(c.length>0||d.length>0)&&l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4",children:[c.map((_,N)=>l.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg border border-slate-200 dark:border-white/10",children:[l.jsx("img",{src:Ghe(_),alt:"",className:"h-full w-full object-cover"}),l.jsx("button",{type:"button",onClick:()=>T(N),className:"absolute right-1 top-1 rounded-md bg-black/60 px-1.5 py-0.5 text-xs text-white hover:bg-black/80",title:"Remove",children:"Remove"})]},`ex-${N}`)),d.map((_,N)=>{const O=URL.createObjectURL(_);return l.jsxs("div",{className:"relative aspect-video overflow-hidden rounded-lg border border-slate-200 dark:border-white/10",children:[l.jsx("img",{src:O,alt:"",className:"h-full w-full object-cover"}),l.jsx("button",{type:"button",onClick:()=>M(N),className:"absolute right-1 top-1 rounded-md bg-black/60 px-1.5 py-0.5 text-xs text-white hover:bg-black/80",title:"Remove",children:"Remove"})]},`new-${N}`)})]})]})})}),m&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"md:col-span-2 mt-2 text-sm font-semibold text-slate-700 dark:text-slate-200",children:"IT Details"}),l.jsx(rt,{label:"Equipment",children:l.jsx(nt,{children:l.jsx("input",{value:a.equipment,onChange:_=>w("equipment",_.target.value),className:kt,placeholder:"Switch / Router / AP / Firewall"})})}),l.jsx(rt,{label:"Equipment Name",children:l.jsx(nt,{children:l.jsx("input",{value:a.equipment_name,onChange:_=>w("equipment_name",_.target.value),className:kt,placeholder:"Layer 3 Switch / Edge Router"})})}),l.jsx(rt,{label:"Hostname",children:l.jsx(nt,{children:l.jsx("input",{value:a.hostname,onChange:_=>w("hostname",_.target.value),className:`${kt} font-mono`,placeholder:"sw-mdf-core-01"})})}),l.jsx(rt,{label:"IP Address",children:l.jsx(nt,{children:l.jsx("input",{value:a.ip_address,onChange:_=>w("ip_address",_.target.value),className:`${kt} font-mono`,placeholder:"192.168.10.2"})})}),l.jsx(rt,{label:"MAC Address",children:l.jsx(nt,{children:l.jsx("input",{value:a.mac_address,onChange:_=>w("mac_address",_.target.value),className:`${kt} font-mono`,placeholder:"00:1A:2B:3C:4D:5E"})})}),l.jsx(rt,{label:"VLAN ID",children:l.jsx(nt,{children:l.jsx("input",{type:"number",min:"1",max:"4094",value:a.vlan_id,onChange:_=>w("vlan_id",_.target.value),className:kt,placeholder:"10"})})}),l.jsx(rt,{label:"OS Version",children:l.jsx(nt,{children:l.jsx("input",{value:a.os_version,onChange:_=>w("os_version",_.target.value),className:kt,placeholder:"IOS-XE 17.3.4a"})})}),l.jsx(rt,{label:"Firmware Version",children:l.jsx(nt,{children:l.jsx("input",{value:a.firmware_version,onChange:_=>w("firmware_version",_.target.value),className:kt,placeholder:"1.0.9.64"})})}),l.jsx(rt,{label:"Ports Total",children:l.jsx(nt,{children:l.jsx("input",{type:"number",min:"0",value:a.ports_total,onChange:_=>w("ports_total",_.target.value),className:kt,placeholder:"48"})})}),l.jsx(rt,{label:"Ports Used",children:l.jsx(nt,{children:l.jsx("input",{type:"number",min:"0",value:a.ports_used,onChange:_=>w("ports_used",_.target.value),className:kt,placeholder:"36"})})}),l.jsx(rt,{label:"Port Notes",className:"md:col-span-2",children:l.jsx(nt,{children:l.jsx("textarea",{rows:4,value:a.port_notes,onChange:_=>w("port_notes",_.target.value),className:`${kt} min-h-24 resize-y`,placeholder:"SFP+ on Te1/1/49 and Te1/1/50; trunk to IDF-01 on Gi1/0/24"})})})]})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:k,className:"rounded-xl border border-slate-300 px-4 py-2 text-slate-700 hover:bg-slate-50 dark:border-white/10 dark:text-slate-300 dark:hover:bg-[#111]",children:"Cancel"}),l.jsx("button",{type:"submit",className:"rounded-xl px-4 py-2 font-medium text-white",style:{backgroundColor:"#083A39",borderColor:"#083A39",borderWidth:1},onMouseEnter:_=>{_.currentTarget.style.backgroundColor="#0A4644"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="#083A39"},children:"Save"})]})]})]})]})}function qhe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(""),[s,o]=b.useState(!1),[c,u]=b.useState(null);async function d(){n(!0);try{const y=await Ne("/api/assets/");t(y.items||[])}finally{n(!1)}}b.useEffect(()=>{d()},[]);const f=b.useMemo(()=>{const y=a.trim().toLowerCase();return y?e.filter(w=>[w.name,w.type,w.location,w.manufacturer,w.model_no,w.serial_no,w.hostname,w.ip_address,w.mac_address,w.equipment,w.equipment_name].map(S=>(S||"").toString().toLowerCase()).join(" ").includes(y)):e},[e,a]);async function h(y){c&&c.id?await Ne(`/api/assets/${c.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}):await Ne("/api/assets/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),o(!1),u(null),await d()}async function p(y){!(y!=null&&y.id)||!window.confirm("Delete this asset?")||(await Ne(`/api/assets/${y.id}`,{method:"DELETE"}),await d())}function g(){u(null),o(!0)}function m(y){u(y),o(!0)}function x(){o(!1),u(null)}const v={value:a,onChange:i,onAdd:g};return l.jsxs(M2,{toolbarProps:v,children:[l.jsx("div",{className:`
          flex-1 relative flex flex-col 
          min-h-[calc(100vh-8rem)] sm:min-h-[calc(100vh-6rem)] 
          bg-transparent overflow-hidden
        `,children:l.jsx("div",{className:`
            flex-1 w-full overflow-x-auto overflow-y-auto 
            rounded-2xl border border-zinc-200 dark:border-zinc-800 
            bg-white dark:bg-[#1d1f24] shadow-sm
          `,children:l.jsx("div",{className:"min-w-full",children:l.jsx(Bhe,{items:f,loading:r,onEdit:m,onDelete:p})})})}),l.jsx(Xhe,{open:s,initial:c,onClose:x,onSave:h})]})}function Jhe(e){const t=String(e).replace("#",""),r=t.length===3?t.split("").map(o=>o+o).join(""):t.padEnd(6,"0").slice(0,6),n=parseInt(r.slice(0,2),16),a=parseInt(r.slice(2,4),16),i=parseInt(r.slice(4,6),16);return(.2126*n+.7152*a+.0722*i)/255>.6?"#111827":"#ffffff"}function Qhe({number:e,color:t,onClick:r}){const n=t||"#FFFFFF",a=Jhe(n);return l.jsxs("button",{type:"button",onClick:r,title:`Room ${e}`,className:`relative w-full h-8 min-h-8 rounded-md border border-[var(--border-1)]
                 bg-[var(--surface-1)] dark:bg-[var(--surface-1)] overflow-hidden
                 transition-all duration-200 hover:scale-[1.03] active:scale-[0.98]
                 shadow-sm hover:shadow-md focus:outline-none`,style:{background:"transparent"},children:[l.jsx("span",{className:"absolute inset-[1px] rounded-[inherit] transition-all duration-200",style:{background:n}}),l.jsx("span",{className:"relative z-10 font-semibold text-[11px] select-none",style:{color:a},children:e})]})}function tp(e){if(!e)return"not_started";const t=String(e).trim().toLowerCase();return{"not started":"not_started",not_started:"not_started","in progress":"in_progress",in_progress:"in_progress",completed:"completed",done:"completed","n/a":"na",na:"na"}[t]||t.replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"")}function Zhe(e){const t={"Not Started":"#FFFFFF","In Progress":"#4F46E5",Completed:"#15803D","N/A":"#94A3B8"},r=[];return Object.entries(t).forEach(([n,a])=>{r.push({key:tp(n),label:n,color:a})}),Object.entries(e||{}).forEach(([n,a])=>{let i,s;a&&typeof a=="object"&&(a.label||a.color)?(i=a.label||n,s=a.color||"#94A3B8"):(i=n,s=a||"#94A3B8");const o=tp(i);r.some(c=>c.key===o)||r.push({key:o,label:i,color:s})}),r}function epe({open:e,projectId:t,roomNumber:r,legend:n={},current:a={statusKey:"completed",statusLabel:"Completed",notes:""},busy:i=!1,onClose:s,onSave:o}){const{user:c}=kp(),u=Zhe(n),[d,f]=b.useState(()=>({statusKey:tp(a.statusKey||"completed"),statusLabel:a.statusLabel||"Completed",notes:a.notes||""})),[h,p]=b.useState([]),[g,m]=b.useState(!1),x="rounded-xl border px-3 py-2 text-sm shadow-sm w-full transition bg-[var(--surface-1)] border-[var(--border-1)] text-[var(--text-1)] focus:outline-none focus:ring-2 focus:ring-[#0B5150]";b.useEffect(()=>{!e||!t||!r||(async()=>{try{m(!0);const y=await Ne(`/api/projects/${t}/room/${r}/audits`);p(y.items||[])}catch(y){console.error("Error loading audits:",y)}finally{m(!1)}})()},[e,t,r]);const v=y=>{const w=tp(y),k=u.find(E=>E.key===w),S=k?k.label:y;f(E=>({...E,statusKey:w,statusLabel:S}))};return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-0 sm:p-4",children:l.jsxs("div",{className:`w-full sm:max-w-md sm:rounded-2xl sm:shadow-2xl sm:border sm:border-[var(--border-1)]
                   bg-[var(--surface-1)] sm:relative flex flex-col sm:p-5
                   animate-fadeIn sm:translate-y-0 translate-y-2 sm:max-h-[90vh] max-h-[90vh] 
                   overflow-y-auto rounded-t-3xl`,children:[l.jsxs("div",{className:"flex items-center justify-between px-5 sm:px-0 pt-4 sm:pt-0 pb-3 border-b sm:border-0 border-[var(--border-1)]",children:[l.jsxs("h3",{className:"text-lg font-semibold text-[var(--text-1)]",children:["Room ",r]}),l.jsx("button",{type:"button",className:"rounded-md p-2 hover:bg-[var(--surface-2)] transition",onClick:s,disabled:i,title:"Close",children:l.jsx(Pr,{size:18})})]}),l.jsxs("div",{className:"space-y-4 p-5 sm:p-0",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm mb-1 block text-[var(--text-2)]",children:"Status"}),l.jsx("select",{value:d.statusKey,onChange:y=>v(y.target.value),className:x,disabled:i,children:u.map(y=>l.jsx("option",{value:y.key,children:y.label},y.key))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm mb-1 block text-[var(--text-2)]",children:"Notes"}),l.jsx("textarea",{className:x+" min-h-[100px] resize-y",value:d.notes,onChange:y=>f(w=>({...w,notes:y.target.value})),placeholder:"Optional notes",disabled:i})]})]}),l.jsxs("div",{className:"px-5 sm:px-0 pb-5 pt-3 flex flex-col sm:flex-row justify-end gap-3 border-t sm:border-0 border-[var(--border-1)] mt-4",children:[l.jsx("button",{type:"button",className:`rounded-lg border px-4 py-2 text-sm
                       border-[var(--border-1)] bg-[var(--surface-1)] 
                       hover:bg-[var(--surface-2)] text-[var(--text-1)] transition w-full sm:w-auto`,onClick:s,disabled:i,children:"Cancel"}),l.jsx("button",{type:"button",className:`rounded-lg bg-[#0B5150] px-4 py-2 text-sm text-white 
                       font-medium hover:opacity-90 disabled:opacity-60 transition w-full sm:w-auto`,disabled:i,onClick:()=>{const y=new Date().toISOString(),w=(c==null?void 0:c.name)||(c==null?void 0:c.email)||"Unknown",k=u.find(E=>E.key===d.statusKey),S=(k==null?void 0:k.color)||"#FFFFFF";o==null||o({status:d.statusKey,statusLabel:d.statusLabel,color:S,notes:d.notes,updated_at:y,updated_by:w})},children:"Save"})]}),l.jsxs("div",{className:"px-5 sm:px-0 pb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 mt-3",children:[l.jsx(Q0,{size:16,className:"text-[#0B5150]"}),l.jsx("h4",{className:"font-medium text-sm text-[var(--text-1)]",children:"Last Updates"})]}),g?l.jsx("p",{className:"text-sm text-[var(--text-2)] italic",children:"Loading history"}):h.length===0?l.jsx("p",{className:"text-sm text-[var(--text-2)] italic",children:"No previous updates."}):l.jsx("ul",{className:"max-h-40 overflow-y-auto pr-1 text-sm space-y-1",children:h.map(y=>l.jsxs("li",{className:"border-b border-[var(--border-1)] py-1 text-[var(--text-2)]",children:[l.jsx("span",{className:"font-medium text-[var(--text-1)]",children:y.updated_by||"Unknown"})," ","changed to"," ",l.jsx("span",{className:"font-semibold text-[#0B5150]",children:y.new_status}),l.jsx("div",{className:"text-xs opacity-80",children:new Date(y.created_at).toLocaleString()})]},y.id))})]})]})}):null}function tpe({open:e,projectId:t,legend:r,onClose:n,onSave:a}){const[i,s]=b.useState([]),[o,c]=b.useState(!1);b.useEffect(()=>{if(r){const p=Object.entries(r).map(([g,m])=>({label:g,color:typeof m=="string"?m:m.color||"#FFFFFF"}));s(p)}},[r]);function u(p,g,m){s(x=>{const v=[...x];return v[p]={...v[p],[g]:m},v})}function d(){s(p=>[...p,{label:"",color:"#FFFFFF"}])}function f(p){s(g=>g.filter((m,x)=>x!==p))}async function h(){try{c(!0);const p={};for(const g of i)g.label.trim()&&(p[g.label]=g.color);await Ne(`/api/projects/${t}/legend`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_legend:p})}),a==null||a(p),n==null||n()}catch(p){console.error(" Error saving legend:",p),alert("Error saving legend. Check console.")}finally{c(!1)}}return e?l.jsx("div",{className:"fixed inset-0 bg-black/40 dark:bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 px-3",children:l.jsxs("div",{className:`bg-[var(--surface-1)] text-[var(--text-1)] rounded-2xl shadow-xl 
                   w-full max-w-lg p-6 border border-[var(--border-1)] relative overflow-hidden`,children:[l.jsx("button",{onClick:n,className:"absolute top-3 right-3 p-1.5 rounded-md hover:bg-[var(--surface-2)] transition",children:l.jsx(Pr,{size:18})}),l.jsx("h2",{className:"text-lg font-semibold mb-4 text-[#0B5150] dark:text-[#5ad5d3]",children:"Manage Status Colors"}),l.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:i.map((p,g)=>l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3 bg-[var(--surface-2)] rounded-xl p-2",children:[l.jsx("input",{type:"text",value:p.label,onChange:m=>u(g,"label",m.target.value),placeholder:"Status name",className:`flex-1 px-3 py-2 rounded-lg border border-[var(--border-1)] 
                           bg-[var(--surface-1)] text-[var(--text-1)] focus:ring-2 
                           focus:ring-[#0B5150] outline-none`}),l.jsx("input",{type:"color",value:p.color,onChange:m=>u(g,"color",m.target.value),className:"w-10 h-10 rounded-lg border cursor-pointer"}),l.jsx("button",{onClick:()=>f(g),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg self-center",title:"Remove",children:l.jsx(Wn,{size:16})})]},g))}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-5 gap-3",children:[l.jsxs("button",{onClick:d,className:`inline-flex items-center gap-2 text-sm px-3 py-1.5 rounded-lg border border-[var(--border-1)] 
                       bg-[var(--surface-2)] hover:bg-[var(--surface-3)] transition`,children:[l.jsx(en,{size:16})," Add"]}),l.jsxs("button",{disabled:o,onClick:h,className:`inline-flex items-center gap-2 text-sm px-4 py-1.5 rounded-lg text-white 
                       bg-[#0B5150] hover:bg-[#0e6664] disabled:opacity-70 transition`,children:[l.jsx(Ep,{size:16})," ",o?"Saving...":"Save"]})]})]})}):null}const rpe=[8,7,6,5,4,3,2],iT=e=>e===2?Array.from({length:16},(t,r)=>201+r):Array.from({length:17},(t,r)=>e*100+1+r),npe="#0B5150",v0={"Not Started":"#FFFFFF","In Progress":"#4F46E5",Completed:"#15803D","N/A":"#94A3B8"};function ape(e){const t={};if(Object.entries(v0).forEach(([n,a])=>{t[n.toLowerCase().replace(/\s+/g,"_")]={label:n,color:a}}),!e)return t;const r={...t};return Object.entries(e).forEach(([n,a])=>{typeof a=="string"?r[n.toLowerCase().replace(/\s+/g,"_")]={label:n,color:a}:a&&a.label&&a.color?r[a.label.toLowerCase().replace(/\s+/g,"_")]={label:a.label,color:a.color}:a&&a.color&&(r[n.toLowerCase().replace(/\s+/g,"_")]={label:a.label||n,color:a.color})}),r}function ipe({boards:e=[],columns:t=1,statuses:r={},onDeleteProject:n}){const[a,i]=b.useState(null),[s,o]=b.useState(null),[c,u]=b.useState({}),[d,f]=b.useState({}),[h,p]=b.useState([]),g=e.slice(0,t),m=t===1?"grid-cols-1":"grid-cols-1 xl:grid-cols-2";b.useEffect(()=>{let w=!0;async function k(){try{const E=await Ne("/api/projects/");if(!w)return;const j=E.items||[];p(j);for(const C of j)try{const T=await Ne(`/api/projects/${C.id}/rooms`);if(!w)return;const M={};(T.items||[]).forEach(D=>{M[D.room_number]=D.status}),f(D=>({...D,[C.id]:M}))}catch(T){console.error(`Error loading rooms for project ${C.id}:`,T)}}catch(E){console.error("Polling error:",E)}}k();const S=setInterval(k,1e4);return()=>{w=!1,clearInterval(S)}},[]);async function x(w){try{const S=(await Ne(`/api/projects/${w.id}/complete`,{method:"PUT"})).project||{};u(E=>({...E,[w.id]:{status:S.status,completed_at:S.completed_at,completed_by:S.completed_by}}))}catch(k){console.error("Error toggling project:",k)}}function v(w){window.open(`/projects/print/${w}`,"_blank")}async function y(w){if(!(!(a!=null&&a.projectId)||!(a!=null&&a.roomNumber)))try{await Ne(`/api/projects/${a.projectId}/room/${a.roomNumber}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:w.status,notes:w.notes})}),f(k=>({...k,[a.projectId]:{...k[a.projectId]||{},[a.roomNumber]:w.status}})),i(null)}catch(k){console.error(" Error saving room:",k),alert("Error saving room status. Check console.")}}return l.jsxs("div",{className:`grid gap-6 mt-8 ${m}`,children:[l.jsxs(uc,{children:[g.length===0&&l.jsxs(tn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"col-span-full flex flex-col items-center justify-center py-20 rounded-2xl border border-[var(--border-1)] bg-[var(--surface-1)] shadow-sm",children:[l.jsx("p",{className:"text-lg font-semibold text-[var(--text-1)] mb-2",children:"No project selected"}),l.jsx("p",{className:"text-sm text-[var(--text-2)] text-center max-w-sm",children:"Choose a project from the top bar to display its rooms."})]},"empty"),g.map(w=>{const k=h.find(M=>M.id===w.id)||w,S=k.color_legend&&Object.keys(k.color_legend).length?k.color_legend:v0,E=ape(S),j=c[w.id]||k,C=j.status==="Completed",T=j.completed_at?`${j.completed_by||"Unknown"} completed this project on ${new Date(j.completed_at).toLocaleString("en-US",{dateStyle:"medium",timeStyle:"short"})}`:"";return l.jsxs(tn.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.25},className:"rounded-2xl border border-[var(--border-1)] bg-[var(--surface-1)] shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between px-4 py-3 text-white rounded-t-2xl gap-2",style:{background:w.color||npe},children:[l.jsx("h3",{className:"font-semibold truncate",children:w.name}),l.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap sm:flex-nowrap",children:[l.jsx("button",{title:"Undo",className:"p-2 rounded-md hover:bg-white/15 transition",children:l.jsx(a3,{size:18})}),l.jsx("button",{title:"Print",onClick:()=>v(w.id),className:"p-2 rounded-md hover:bg-white/15 transition",children:l.jsx(oz,{size:18})}),l.jsx("button",{title:"Statuses & Colors",onClick:()=>o({projectId:w.id,legend:E}),className:"p-2 rounded-md hover:bg-white/15 transition",children:l.jsx(S7,{size:18})})]})]}),l.jsxs("div",{className:"p-3 sm:p-4",children:[rpe.map(M=>l.jsxs("div",{className:"mb-3 sm:mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxs("span",{className:"rounded-full px-2 py-0.5 text-[11px] font-semibold bg-[var(--surface-2)] text-[var(--text-1)]",children:["FLOOR ",M]}),l.jsx("div",{className:"h-px flex-1 bg-[var(--border-1)]/60"})]}),l.jsx("div",{className:"block sm:hidden space-y-2",children:iT(M).map(D=>{var K,I;const A=(K=d[w.id])==null?void 0:K[D],_=!A||A==="N/A"||A==="Not Started"?"Not Started":A,N=_.toLowerCase().replace(/\s+/g,"_"),O=((I=E[N])==null?void 0:I.color)||v0["Not Started"];return l.jsxs("button",{onClick:()=>i({projectId:w.id,roomNumber:D,legend:E}),className:"w-full flex items-center justify-between px-4 py-2 rounded-xl border text-sm font-medium transition-colors",style:{background:O,color:O==="#FFFFFF"?"#111":"white",borderColor:"rgba(0,0,0,0.1)"},children:[l.jsxs("span",{children:["Room ",D]}),l.jsx("span",{className:"opacity-70 text-xs",children:_})]},D)})}),l.jsx("div",{className:"hidden sm:grid gap-[6px] md:gap-2",style:{gridTemplateColumns:M===2?"repeat(16, minmax(0, 1fr))":"repeat(17, minmax(0, 1fr))"},children:iT(M).map(D=>{var K,I;let A=(K=d[w.id])==null?void 0:K[D];const N=(!A||A==="N/A"||A==="Not Started"?"Not Started":A).toLowerCase().replace(/\s+/g,"_"),O=((I=E[N])==null?void 0:I.color)||v0["Not Started"];return l.jsx(Qhe,{number:D,color:O,onClick:()=>i({projectId:w.id,roomNumber:D,legend:E})},D)})})]},`${w.id}-f${M}`)),l.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between border-t border-[var(--border-1)] pt-3 gap-2",children:[l.jsx("div",{className:"text-xs text-[var(--text-2)] italic text-center sm:text-left",children:T}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-center sm:justify-end",children:[l.jsxs("button",{type:"button",onClick:()=>n==null?void 0:n(w.id),className:`inline-flex items-center justify-center gap-1 rounded-lg border px-3 py-1.5 text-sm
                                 border-[var(--border-1)] bg-[var(--surface-1)] hover:bg-[var(--surface-2)] text-[var(--text-1)]`,children:[l.jsx(Wn,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Delete"})]}),l.jsx("button",{type:"button",onClick:()=>x(w),className:`inline-flex items-center justify-center gap-1 rounded-lg px-3 py-1.5 text-sm transition ${C?"bg-amber-600 hover:bg-amber-700 text-white":"bg-[#0B5150] hover:bg-[#0e6664] text-white"}`,children:C?l.jsxs(l.Fragment,{children:[l.jsx(m7,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Re-open"})]}):l.jsxs(l.Fragment,{children:[l.jsx(yd,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Complete"})]})})]})]})]})]},w.id)})]}),a&&l.jsx(epe,{open:!0,projectId:a.projectId,roomNumber:a.roomNumber,legend:a.legend,onClose:()=>i(null),onSave:y}),s&&l.jsx(tpe,{open:!0,projectId:s.projectId,legend:s.legend,onClose:()=>o(null),onSave:()=>o(null)})]})}const spe="px-4 py-1.5 border text-sm font-medium rounded-lg transition select-none",OM="inline-flex items-center justify-center gap-2 rounded-lg px-3 py-1.5 text-sm font-medium text-white bg-[#0B5150] hover:bg-[#0e6664] active:scale-[.98] transition",sT="he.projects.view",oT="he.projects.selected1",lT="he.projects.selected2",O1="/api/projects";function ope({open:e,onClose:t,onCreated:r}){const[n,a]=b.useState(""),[i,s]=b.useState(!1);async function o(){if(n.trim())try{s(!0);const c=await Ne(`${O1}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n})});r==null||r(c),a(""),t()}catch(c){console.error("Error creating project:",c)}finally{s(!1)}}return e?l.jsx("div",{className:"fixed inset-0 bg-black/40 dark:bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs(tn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-[var(--surface-1)] text-[var(--text-1)] rounded-2xl shadow-xl w-full max-w-sm p-6 border border-[var(--border-1)]",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-center",children:"New Project"}),l.jsx("input",{type:"text",placeholder:"Enter project name...",value:n,onChange:c=>a(c.target.value),className:"w-full px-3 py-2 mb-4 rounded-lg border border-[var(--border-1)] bg-[var(--surface-2)] text-[var(--text-1)] focus:outline-none focus:ring-2 focus:ring-[#0B5150]"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded-lg text-sm bg-[var(--surface-2)] hover:bg-[var(--surface-3)] border border-[var(--border-1)]",children:"Cancel"}),l.jsx("button",{disabled:i,onClick:o,className:`${OM} disabled:opacity-70`,children:i?"Saving...":"Create"})]})]})}):null}function lpe(){const[e,t]=b.useState([]),[r,n]=b.useState(Number(localStorage.getItem(sT))||1),[a,i]=b.useState(Number(localStorage.getItem(oT))||""),[s,o]=b.useState(Number(localStorage.getItem(lT))||""),[c,u]=b.useState(!0),[d,f]=b.useState(!1),h=b.useMemo(()=>[{label:"Single",value:1},{label:"Dual",value:2}],[]);b.useEffect(()=>{let w=!0;async function k(){try{const E=await Ne(`${O1}/`);if(!w)return;t(j=>{const C=new Map(j.map(T=>[T.id,T]));for(const T of E.items||[]){const M=C.get(T.id)||{};C.set(T.id,{...M,...T,color_legend:Object.keys(T.color_legend||{}).length>0?T.color_legend:M.color_legend})}return Array.from(C.values())})}catch(E){console.error("Error loading projects:",E)}finally{u(!1)}}k();const S=setInterval(k,1e4);return()=>{w=!1,clearInterval(S)}},[]);function p(w){t(k=>[...k,w])}function g(w){window.confirm("Delete this project?")&&Ne(`${O1}/${w}`,{method:"DELETE"}).then(()=>t(k=>k.filter(S=>S.id!==w))).catch(k=>console.error("Error deleting:",k))}function m(w){n(w),localStorage.setItem(sT,String(w))}function x(w){i(w),localStorage.setItem(oT,String(w))}function v(w){o(w),localStorage.setItem(lT,String(w))}let y=[];if(r===1)y=a?e.filter(w=>w.id===Number(a)):[];else if(r===2){const w=e.find(S=>S.id===Number(a)),k=e.find(S=>S.id===Number(s));y=[w,k].filter(Boolean)}return l.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-3",children:[l.jsx("h1",{className:"text-2xl font-semibold text-[var(--text-1)]",children:"Projects"}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 w-full sm:w-auto",children:[l.jsx("div",{className:"flex gap-2 justify-center sm:justify-start",children:h.map(w=>{const k=r===w.value;return l.jsx("button",{onClick:()=>m(w.value),className:`${spe} ${k?"bg-[#0B5150] text-white border-[#0B5150]":"text-[var(--text-1)] hover:bg-[var(--surface-2)]"}`,children:w.label},w.value)})}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[l.jsxs("select",{value:a||"",onChange:w=>x(w.target.value||""),className:"px-3 py-1.5 border border-[var(--border-1)] rounded-lg text-sm bg-[var(--surface-1)] text-[var(--text-1)] focus:outline-none focus:ring-2 focus:ring-[#0B5150]",children:[l.jsx("option",{value:"",children:"Select Project 1"}),e.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]}),r===2&&l.jsxs("select",{value:s||"",onChange:w=>v(w.target.value||""),className:"px-3 py-1.5 border border-[var(--border-1)] rounded-lg text-sm bg-[var(--surface-1)] text-[var(--text-1)] focus:outline-none focus:ring-2 focus:ring-[#0B5150]",children:[l.jsx("option",{value:"",children:"Select Project 2"}),e.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("button",{onClick:()=>f(!0),className:`${OM} sm:ml-2 w-full sm:w-auto justify-center`,children:[l.jsx(en,{size:18,className:"sm:mr-1"}),l.jsx("span",{className:"hidden sm:inline",children:"New Project"})]})]})]}),c?l.jsx("div",{className:"text-[var(--text-2)] italic text-center",children:"Loading projects..."}):l.jsx(ipe,{boards:y,columns:r,statuses:{},onDeleteProject:g}),l.jsx(uc,{children:d&&l.jsx(ope,{open:!0,onClose:()=>f(!1),onCreated:p})})]})}function cpe({open:e,onClose:t,onCreated:r}){const[n,a]=b.useState(""),[i,s]=b.useState(!1);async function o(){if(n.trim())try{s(!0);const c=await Ne("/api/projects/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n})});r==null||r(c),a(""),t()}catch(c){console.error("Error creating project:",c)}finally{s(!1)}}return e?l.jsx("div",{className:"fixed inset-0 bg-black/40 dark:bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs(tn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-[var(--surface-1)] text-[var(--text-1)] rounded-2xl shadow-xl w-full max-w-sm p-6 border border-[var(--border-1)]",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 text-center",children:"New Project"}),l.jsx("input",{type:"text",placeholder:"Enter project name...",value:n,onChange:c=>a(c.target.value),className:"w-full px-3 py-2 mb-4 rounded-lg border border-[var(--border-1)] bg-[var(--surface-2)] text-[var(--text-1)] focus:outline-none focus:ring-2 focus:ring-[#0B5150]"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded-lg text-sm bg-[var(--surface-2)] hover:bg-[var(--surface-3)] border border-[var(--border-1)]",children:"Cancel"}),l.jsx("button",{disabled:i,onClick:o,className:"inline-flex items-center gap-2 rounded-lg px-3 py-1.5 text-sm font-medium text-white bg-[#0B5150] hover:bg-[#0e6664] transition disabled:opacity-70",children:i?"Saving...":"Create"})]})]})}):null}function upe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(""),[s,o]=b.useState(""),[c,u]=b.useState(!1),d=nr();async function f(){try{n(!0);const y=await Ne("/api/projects/");t((y==null?void 0:y.items)||[])}catch(y){console.error(y),i("Failed to load projects.")}finally{n(!1)}}b.useEffect(()=>{f()},[]);const h=b.useMemo(()=>{const y=s.trim().toLowerCase();return y?e.filter(w=>String(w.name||"").toLowerCase().includes(y)||String(w.status||"").toLowerCase().includes(y)||String(w.completed_by||"").toLowerCase().includes(y)):e},[e,s]);function p(){if(!e||e.length===0){alert("No projects to export.");return}const y=e.map(E=>({ID:E.id,Name:E.name,Status:E.status||"In Progress","Completed By":E.completed_by||"","Completed At":E.completed_at||"","Created At":E.created_at||"","Updated At":E.updated_at||""})),w=Sl.json_to_sheet(y),k=Sl.book_new();Sl.book_append_sheet(k,w,"Projects");const S=`Projects_${new Date().toISOString().split("T")[0]}.xlsx`;SM(k,S)}function g(y){d(`/projects/summary?id=${y}`)}const m={value:s,onChange:o,onAdd:()=>u(!0),onExport:p,extraButtons:[{label:"Go to Summary",icon:J0,onClick:()=>d("/projects/summary")}]},x="px-4 sm:px-5 py-3 text-sm font-medium border-b border-zinc-800 text-left text-zinc-300 bg-zinc-900 sticky top-0 select-none",v="px-4 sm:px-5 py-2.5 border-b border-zinc-200 dark:border-zinc-800 text-sm text-zinc-800 dark:text-zinc-200";return l.jsxs(l.Fragment,{children:[l.jsx(M2,{toolbarProps:m,hidePrint:!0,children:l.jsx("div",{className:"relative flex-1 h-[calc(100vh-6rem)] overflow-y-auto overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[700px] text-[15px] leading-6 border-separate [border-spacing:0]",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:x,children:"Name"}),l.jsx("th",{className:x,children:"Status"}),l.jsx("th",{className:x,children:"Completed By"}),l.jsx("th",{className:x,children:"Completed At"}),l.jsx("th",{className:x,children:"Created"}),l.jsx("th",{className:x,children:"Actions"})]})}),l.jsxs("tbody",{children:[r&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-8 text-zinc-500 dark:text-zinc-400",children:"Loading projects"})}),!r&&a&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-8 text-rose-600 dark:text-rose-400",children:a})}),!r&&!a&&h.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"text-center py-8 text-zinc-500 dark:text-zinc-400",children:"No projects found."})}),!r&&!a&&h.map(y=>l.jsxs("tr",{className:"bg-transparent hover:bg-zinc-50 dark:hover:bg-[#1a1a1a] transition",children:[l.jsx("td",{className:v,children:y.name}),l.jsx("td",{className:v,children:l.jsx(dpe,{value:y.status})}),l.jsx("td",{className:v,children:y.completed_by||""}),l.jsx("td",{className:v,children:y.completed_at?new Date(y.completed_at).toLocaleString():""}),l.jsx("td",{className:v,children:y.created_at?new Date(y.created_at).toLocaleDateString():""}),l.jsx("td",{className:v+" text-center",children:l.jsx("button",{onClick:()=>g(y.id),className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-[#0B5150]/40 text-[#0B5150] hover:bg-[#0B5150]/10 dark:border-[#0B5150]/60 dark:text-[#5ad5d3] dark:hover:bg-[#0B5150]/20",children:"Open Summary"})})]},y.id))]})]})})}),l.jsx(uc,{children:c&&l.jsx(cpe,{open:!0,onClose:()=>u(!1),onCreated:()=>{u(!1),f()}})})]})}function dpe({value:e}){const t=String(e||"").toLowerCase(),r={completed:"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:ring-emerald-800","in progress":"bg-amber-100 text-amber-800 ring-1 ring-amber-200 dark:bg-amber-900/40 dark:text-amber-300 dark:ring-amber-800",reopened:"bg-blue-100 text-blue-800 ring-1 ring-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:ring-blue-800",default:"bg-zinc-100 text-zinc-700 ring-1 ring-zinc-200 dark:bg-zinc-800 dark:text-zinc-200 dark:ring-zinc-700"},n=r[t]||r.default;return l.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-medium ${n}`,children:e||""})}function fpe(){const{id:e}=bp(),[t,r]=b.useState(null),[n,a]=b.useState([]),[i,s]=b.useState(!1),o=[8,7,6,5,4,3,2],c=p=>p===2?Array.from({length:16},(g,m)=>201+m):Array.from({length:17},(g,m)=>p*100+1+m);b.useEffect(()=>{(async()=>{try{const p=await Ne(`/api/projects/${e}`),g=await Ne(`/api/projects/${e}/rooms`);r(p),a((g==null?void 0:g.items)||[]),setTimeout(()=>{i||(s(!0),window.print())},800)}catch(p){console.error("Error loading project print view:",p)}})()},[e,i]);const d=(p=>{const g={"not started":"#FFFFFF","in progress":"#4F46E5",completed:"#15803D","n/a":"#94A3B8"},m={};return p&&Object.entries(p).forEach(([x,v])=>{if(typeof v=="string")m[x.toLowerCase()]=v;else if(v&&typeof v=="object"&&(v.label||v.color)){const y=(v.label||x).toLowerCase();m[y]=v.color||"#94A3B8"}}),{...g,...m}})(t==null?void 0:t.color_legend),f=p=>{const g=n.find(x=>String(x.room_number)===String(p));if(!g)return"#FFFFFF";const m=String(g.status||"not_started").toLowerCase();return d[m]||d[m.replace(/_/g," ")]||"#FFFFFF"},h=p=>{if(!p)return"#111";const g=p.replace("#",""),m=parseInt(g.substring(0,2),16),x=parseInt(g.substring(2,4),16),v=parseInt(g.substring(4,6),16);return(m*299+x*587+v*114)/1e3<140?"#FFFFFF":"#111111"};return t?l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
        html, body {
          background: #ffffff !important;
          color: #000000 !important;
          margin: 0;
          padding: 0;
          box-shadow: none !important;
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
        }
        #root {
          background: #ffffff !important;
        }

        @page {
          size: A4 landscape;
          margin: 1cm;
          background: #ffffff !important;
        }

        @media print {
          nav, aside, header, footer, button, .no-print, .fixed, .sticky {
            display: none !important;
          }
          .room {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }
        }

        .page {
          width: 27.7cm;
          height: 18cm;
          background: white !important;
          font-family: 'Inter', sans-serif;
          color: #111;
          margin: 0 auto;
          padding: 1cm;
          display: flex;
          flex-direction: column;
          justify-content: flex-start;
        }

        .print-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding-bottom: 0.4cm;
          border-bottom: 0.05cm solid #e5e7eb;
          margin-bottom: 0.4cm;
        }

        .header-left {
          display: flex;
          align-items: center;
          gap: 0.4cm;
        }

        .header-logo {
          width: 1.2cm;
          height: 1.2cm;
          object-fit: contain;
        }

        .header-hotel {
          font-size: 0.55cm;
          font-weight: 700;
          color: #0B5150;
        }

        .header-system {
          font-size: 0.4cm;
          color: #6b7280;
        }

        .header-date {
          font-size: 0.38cm;
          color: #4b5563;
        }

        .project-title {
          background: #0B5150;
          color: white;
          border-radius: 10px 10px 0 0;
          padding: 0.25cm 0.5cm;
          font-weight: 600;
          font-size: 0.55cm;
          letter-spacing: 0.3px;
          margin-bottom: 0.3cm;
        }

        /*  Horizontal legend */
        .legend-row {
          display: flex;
          justify-content: center;
          flex-wrap: wrap;
          gap: 0.6cm 1cm;
          margin-bottom: 0.4cm;
          font-size: 0.38cm;
        }

        .legend-item {
          display: flex;
          align-items: center;
          gap: 0.25cm;
        }

        .legend-color {
          width: 0.8cm;
          height: 0.4cm;
          border-radius: 3px;
          border: 0.02cm solid #d1d5db;
        }

        .floors {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
          gap: 0.15cm;
          font-size: 0.35cm;
        }

        .floor-label {
          color: #0B5150;
          font-weight: 700;
          margin-bottom: 0.1cm;
          font-size: 0.38cm;
        }

        .rooms {
          display: grid;
          gap: 0.07cm;
        }

        .room {
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
          border: 0.02cm solid #e5e7eb;
          font-weight: 600;
          font-size: 0.33cm;
          aspect-ratio: 2.5 / 1;
        }

        .footer {
          text-align: center;
          font-size: 0.35cm;
          color: #6b7280;
          margin-top: 0.4cm;
          border-top: 0.04cm solid #e5e7eb;
          padding-top: 0.15cm;
        }
        `}),l.jsxs("div",{className:"page",children:[l.jsxs("div",{className:"print-header",children:[l.jsxs("div",{className:"header-left",children:[l.jsx("img",{src:"/static/logo.png",alt:"Logo",className:"header-logo",onError:p=>p.target.style.display="none"}),l.jsxs("div",{children:[l.jsx("div",{className:"header-hotel",children:"Aloft Orlando Downtown"}),l.jsx("div",{className:"header-system",children:"Hotel Engineering System"})]})]}),l.jsx("div",{className:"header-date",children:new Date().toLocaleString("en-US")})]}),l.jsx("div",{className:"project-title",children:t.name}),l.jsx("div",{className:"legend-row",children:Object.entries(d).map(([p,g])=>l.jsxs("div",{className:"legend-item",children:[l.jsx("div",{className:"legend-color",style:{background:g}}),l.jsx("span",{children:p.toUpperCase()})]},p))}),l.jsx("div",{className:"floors",children:o.map(p=>l.jsxs("div",{children:[l.jsxs("div",{className:"floor-label",children:["FLOOR ",p]}),l.jsx("div",{className:"rooms",style:{gridTemplateColumns:p===2?"repeat(16, 1fr)":"repeat(17, 1fr)"},children:c(p).map(g=>{const m=f(g),x=h(m);return l.jsx("div",{className:"room",style:{background:m,color:x},children:g},g)})})]},p))}),l.jsxs("div",{className:"footer",children:["Project Status: ",l.jsx("strong",{children:t.status||"Unknown"})]})]})]}):l.jsx("div",{style:{color:"#555",padding:"2rem"},children:"Loading..."})}const y0="/api/users";function cT(e){return(e&&(e.users||e.items||e.list)||(Array.isArray(e)?e:[])||[]).map((r,n)=>({id:r.id??r.user_id??r._id??n,name:r.name??r.full_name??"",email:r.email??r.username??"",role:r.role??r.user_role??"",is_active:r.is_active??r.active??(typeof r.enabled=="boolean"?r.enabled:!0)}))}function hpe({open:e,onClose:t,onSaved:r}){const[n,a]=b.useState({name:"",email:"",role:"",password:"",is_active:!0}),[i,s]=b.useState(!1);if(!e)return null;const o=u=>{const{name:d,value:f,type:h,checked:p}=u.target;a(g=>({...g,[d]:h==="checkbox"?p:f}))};async function c(u){if(u.preventDefault(),!n.name.trim()||!n.email.trim()||!n.password.trim()){alert("Please fill out all required fields.");return}try{s(!0),await Oe.post(y0,n),r==null||r(),t==null||t()}catch(d){console.error(" Error adding user:",d),alert("Error adding user. Check console for details.")}finally{s(!1)}}return l.jsx("div",{className:"fixed inset-0 bg-black/40 dark:bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("form",{onSubmit:c,className:"w-full max-w-md bg-[var(--surface-1)] text-[var(--text-1)] rounded-2xl shadow-xl border border-[var(--border-1)] p-6 relative",children:[l.jsx("button",{type:"button",onClick:t,className:"absolute top-3 right-3 p-1.5 rounded-md hover:bg-[var(--surface-2)]",children:l.jsx(Pr,{size:18})}),l.jsx("h2",{className:"text-lg font-semibold mb-5",children:"Add New User"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Full Name *"}),l.jsx("input",{type:"text",name:"name",value:n.name,onChange:o,className:"w-full px-3 py-2 rounded-lg border border-[var(--border-1)] bg-[var(--surface-2)] focus:ring-2 focus:ring-[#0B5150] outline-none",placeholder:"John Doe",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,className:"w-full px-3 py-2 rounded-lg border border-[var(--border-1)] bg-[var(--surface-2)] focus:ring-2 focus:ring-[#0B5150] outline-none",placeholder:"user@example.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Role"}),l.jsx("input",{type:"text",name:"role",value:n.role,onChange:o,className:"w-full px-3 py-2 rounded-lg border border-[var(--border-1)] bg-[var(--surface-2)] focus:ring-2 focus:ring-[#0B5150] outline-none",placeholder:"Admin / Engineer / Guest"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",children:"Password *"}),l.jsx("input",{type:"password",name:"password",value:n.password,onChange:o,className:"w-full px-3 py-2 rounded-lg border border-[var(--border-1)] bg-[var(--surface-2)] focus:ring-2 focus:ring-[#0B5150] outline-none",placeholder:"",required:!0})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2",children:[l.jsx("label",{className:"text-sm",children:"Active"}),l.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:o,className:"h-5 w-5 accent-[#0B5150]"})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-1.5 rounded-lg border border-[var(--border-1)] bg-[var(--surface-1)] hover:bg-[var(--surface-2)]",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"px-4 py-1.5 rounded-lg text-white bg-[#0B5150] hover:bg-[#0e6664] disabled:opacity-70",children:i?"Saving...":"Save"})]})]})})}function ppe(){const{logout:e}=kp(),t=nr(),[r,n]=b.useState([]),[a,i]=b.useState(""),[s,o]=b.useState(!1),[c,u]=b.useState(""),[d,f]=b.useState(!1);async function h(){o(!0),u("");try{let x=await Oe.get(y0);n(cT(x))}catch(x){try{let v=await Oe.get(`${y0}/`);n(cT(v))}catch(v){u((v==null?void 0:v.message)||(x==null?void 0:x.message)||"Failed to load users"),n([]),(v==null?void 0:v.status)===401&&t("/login",{replace:!0})}}finally{o(!1)}}b.useEffect(()=>{h()},[]);const p=b.useMemo(()=>{const x=a.trim().toLowerCase();return x?r.filter(v=>[v.name,v.email,v.role].filter(Boolean).some(y=>String(y).toLowerCase().includes(x))):r},[r,a]),g=()=>{try{e()}finally{t("/login",{replace:!0})}};async function m(x){if(window.confirm("Are you sure you want to delete this user?"))try{await Oe.delete(`${y0}/${x}`),n(y=>y.filter(w=>w.id!==x))}catch(y){alert(" Failed to delete user: "+((y==null?void 0:y.message)||"Unknown error"))}}return l.jsxs("div",{className:"p-2 space-y-4",children:[l.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Users"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("input",{value:a,onChange:x=>i(x.target.value),placeholder:"Search by name, email, role",className:"rounded-2xl border border-gray-300 px-3 py-2 w-full sm:w-[300px] dark:bg-zinc-900 dark:border-zinc-700","aria-label":"Search users"}),l.jsx("button",{onClick:h,disabled:s,className:"px-4 py-2 rounded-2xl border border-gray-300 bg-white hover:shadow disabled:opacity-60 dark:bg-zinc-900 dark:border-zinc-700",children:s?"Refreshing":"Refresh"}),l.jsx("button",{onClick:()=>f(!0),className:"px-4 py-2 rounded-2xl bg-emerald-600 text-white hover:bg-emerald-700",children:"Add User"}),l.jsx("button",{onClick:g,className:"px-4 py-2 rounded-2xl bg-rose-600 text-white hover:bg-rose-700",children:"Logout"})]})]}),c&&l.jsx("div",{className:"text-sm text-red-600 border border-red-300 bg-red-50 rounded-xl px-3 py-2",children:c}),l.jsx("div",{className:"overflow-auto rounded-2xl border border-gray-200 dark:border-zinc-700",children:l.jsxs("table",{className:"min-w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-zinc-800",children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"px-4 py-3 font-medium",children:"Name"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Email"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Role"}),l.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),l.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),l.jsx("tbody",{children:p.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:s?"Loading":"No users found"})}):p.map(x=>l.jsxs("tr",{className:"border-t border-gray-100 dark:border-zinc-800 hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition",children:[l.jsx("td",{className:"px-4 py-3",children:x.name||""}),l.jsx("td",{className:"px-4 py-3",children:x.email||""}),l.jsx("td",{className:"px-4 py-3",children:x.role||""}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs ${x.is_active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:x.is_active?"Active":"Inactive"})}),l.jsx("td",{className:"px-4 py-3 text-right",children:l.jsx("button",{onClick:()=>m(x.id),className:"px-3 py-1 text-xs rounded-lg border border-rose-300 text-rose-700 hover:bg-rose-100 dark:border-rose-800 dark:text-rose-300 dark:hover:bg-rose-900/50",children:"Delete"})})]},x.id))})]})}),l.jsx(hpe,{open:d,onClose:()=>f(!1),onSaved:h})]})}function mpe(){return l.jsxs("div",{className:"p-6 sm:p-8 space-y-6 flex flex-col items-center justify-center min-h-[80vh] text-center page-fade-in",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 text-[#0B5150] dark:text-[#5ad5d3]",children:[l.jsx(yo,{className:"w-8 h-8 animate-pulse"}),l.jsx(Jz,{className:"w-6 h-6 opacity-70"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Paint  Under Construction"}),l.jsx("p",{className:"text-sm sm:text-base text-zinc-600 dark:text-zinc-400 max-w-lg",children:"This section will include color libraries, paint jobs, finishes, and vendor tracking."})]}),l.jsx("div",{className:"mt-6 rounded-2xl border border-zinc-200 dark:border-zinc-700 bg-white/70 dark:bg-zinc-900/60 shadow-sm p-6 sm:p-8 backdrop-blur-sm",children:l.jsx("p",{className:"text-zinc-700 dark:text-zinc-300 text-sm sm:text-base",children:" Were currently working on this feature. Soon youll be able to manage your paint projects and materials directly from here."})})]}),l.jsx("style",{children:`
        .page-fade-in {
          animation: fadein .3s ease-out;
        }
        @keyframes fadein {
          from { opacity: 0; transform: translateY(6px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function gpe(){return l.jsxs("div",{className:"p-6 sm:p-8 space-y-6 flex flex-col items-center justify-center min-h-[80vh] text-center page-fade-in",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 text-[#0B5150] dark:text-[#5ad5d3]",children:[l.jsx(yo,{className:"w-8 h-8 animate-pulse"}),l.jsx(XA,{className:"w-6 h-6 opacity-70"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Schedule  Under Construction"}),l.jsx("p",{className:"text-sm sm:text-base text-zinc-600 dark:text-zinc-400 max-w-lg",children:"This section will display task scheduling, crew assignments, and timeline management using calendar and Gantt-style views."})]}),l.jsx("div",{className:"mt-6 rounded-2xl border border-zinc-200 dark:border-zinc-700 bg-white/70 dark:bg-zinc-900/60 shadow-sm p-6 sm:p-8 backdrop-blur-sm",children:l.jsx("p",{className:"text-zinc-700 dark:text-zinc-300 text-sm sm:text-base",children:" We're currently working on this module. Soon youll be able to plan, assign and visualize engineering schedules directly from here."})})]}),l.jsx("style",{children:`
        .page-fade-in {
          animation: fadein .3s ease-out;
        }
        @keyframes fadein {
          from { opacity: 0; transform: translateY(6px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function xpe(){return l.jsxs("div",{className:"p-6 sm:p-8 space-y-6 flex flex-col items-center justify-center min-h-[80vh] text-center page-fade-in",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 text-[#0B5150] dark:text-[#5ad5d3]",children:[l.jsx(yo,{className:"w-8 h-8 animate-pulse"}),l.jsx(iz,{className:"w-6 h-6 opacity-70"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Licenses & Permits  Under Construction"}),l.jsx("p",{className:"text-sm sm:text-base text-zinc-600 dark:text-zinc-400 max-w-lg",children:"This module will let you track property licenses, permits, renewal dates, issuing authorities, and documentation."})]}),l.jsx("div",{className:"mt-6 rounded-2xl border border-zinc-200 dark:border-zinc-700 bg-white/70 dark:bg-zinc-900/60 shadow-sm p-6 sm:p-8 backdrop-blur-sm",children:l.jsx("p",{className:"text-zinc-700 dark:text-zinc-300 text-sm sm:text-base",children:" We're currently building this feature. Soon you'll be able to manage all required permits and license renewals directly from this page."})})]}),l.jsx("style",{children:`
        .page-fade-in {
          animation: fadein .3s ease-out;
        }
        @keyframes fadein {
          from { opacity: 0; transform: translateY(6px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}function vpe(){return l.jsxs("div",{className:"p-6 sm:p-8 space-y-6 flex flex-col items-center justify-center min-h-[80vh] text-center page-fade-in",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 text-[#0B5150] dark:text-[#5ad5d3]",children:[l.jsx(yo,{className:"w-8 h-8 animate-pulse"}),l.jsx(x7,{className:"w-6 h-6 opacity-70"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-zinc-900 dark:text-zinc-100",children:"PMs  Under Construction"}),l.jsx("p",{className:"text-sm sm:text-base text-zinc-600 dark:text-zinc-400 max-w-lg",children:"This module will allow you to define preventive maintenance schedules, link assets, and generate recurring work orders automatically."})]}),l.jsx("div",{className:"mt-6 rounded-2xl border border-zinc-200 dark:border-zinc-700 bg-white/70 dark:bg-zinc-900/60 shadow-sm p-6 sm:p-8 backdrop-blur-sm",children:l.jsx("p",{className:"text-zinc-700 dark:text-zinc-300 text-sm sm:text-base",children:" We're currently developing this feature. Soon youll be able to manage and track all preventive maintenance tasks in one place."})})]}),l.jsx("style",{children:`
        .page-fade-in {
          animation: fadein .3s ease-out;
        }
        @keyframes fadein {
          from { opacity: 0; transform: translateY(6px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `})]})}const hx="w-full bg-transparent px-3 py-2 text-zinc-900 placeholder-zinc-400 focus:outline-none dark:text-zinc-100 transition-colors duration-150";function ype({open:e,initial:t,onClose:r,onSave:n}){const[a,i]=b.useState(v()),[s,o]=b.useState([]),[c,u]=b.useState(""),[d,f]=b.useState(null),[h,p]=b.useState(!1),g=b.useRef(null);b.useEffect(()=>{e&&(i(t?y(t):v()),f(null),m())},[e,t]);async function m(){try{const D=await Oe.get("/api/vendors/"),A=Array.isArray(D==null?void 0:D.items)?D.items:Array.isArray(D)?D:[];o(A)}catch(D){console.warn("Failed to load vendors:",D),o([])}}const x=b.useMemo(()=>{const D=c.trim().toLowerCase();if(!D)return s;const A=_=>(_||"").toString().toLowerCase();return s.filter(_=>A(_.name).includes(D)||A(_.contact_name).includes(D)||A(_.email).includes(D))},[s,c]);function v(){return{id:"",name:"",description:"",vendor_id:"",file_url:""}}function y(D){return{id:D.id||"",name:D.name||"",description:D.description||"",vendor_id:D.vendor_id||"",file_url:D.file_url||""}}function w(D,A){i(_=>({..._,[D]:A}))}function k(D){var _;const A=(_=D.target.files)==null?void 0:_[0];S(A)}function S(D){if(D){if(D.type!=="application/pdf"){alert("Only PDF files are allowed."),g.current&&(g.current.value=""),f(null);return}f(D)}}function E(D){D.preventDefault(),D.stopPropagation(),p(!0)}function j(D){D.preventDefault(),D.stopPropagation(),p(!1)}function C(D){var _,N;D.preventDefault(),D.stopPropagation(),p(!1);const A=(N=(_=D.dataTransfer)==null?void 0:_.files)==null?void 0:N[0];S(A)}function T(D){if(D.preventDefault(),!a.name.trim()){alert("Document Name is required.");return}if(d){const A=new FormData;A.append("name",a.name),a.description&&A.append("description",a.description),a.vendor_id&&A.append("vendor_id",String(a.vendor_id)),A.append("file",d,d.name),n==null||n(A);return}n==null||n({name:a.name,description:a.description||"",vendor_id:a.vendor_id?Number(a.vendor_id):null,file_url:a.file_url||""})}function M(){r==null||r()}return l.jsxs("div",{className:`fixed inset-0 z-50 ${e?"":"pointer-events-none"}`,children:[l.jsx("div",{className:`absolute inset-0 bg-black/60 backdrop-blur-[2px] transition-opacity ${e?"opacity-100":"opacity-0"}`,onClick:D=>e&&D.target===D.currentTarget&&M()}),l.jsxs("div",{className:`absolute right-0 top-0 h-full w-full max-w-2xl overflow-y-auto border-l border-zinc-800 bg-zinc-900 shadow-2xl transform transition-transform ${e?"translate-x-0":"translate-x-full"}`,"aria-hidden":!e,children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-zinc-800 bg-zinc-900/90 px-4 py-3 backdrop-blur",children:[l.jsx("h3",{className:"text-base font-semibold text-zinc-100",children:a.id?"Edit Document":"New Document"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:M,className:"rounded-lg px-3 py-1.5 text-zinc-300 border border-zinc-700 bg-zinc-900 hover:bg-zinc-800",type:"button",children:"Cancel"}),l.jsx("button",{form:"document-form",type:"submit",className:"rounded-lg bg-[#0B5150] px-3 py-1.5 font-medium text-white hover:bg-[#0A4B4A]",children:"Save"}),l.jsx("button",{onClick:M,className:"rounded-lg p-1.5 text-zinc-300 border border-zinc-700 bg-zinc-900 hover:bg-zinc-800","aria-label":"Close",type:"button",children:l.jsx(Pr,{className:"h-5 w-5"})})]})]}),l.jsxs("form",{id:"document-form",onSubmit:T,className:"p-4 space-y-3",children:[l.jsx(Xf,{label:"Document Name *",children:l.jsx("div",{className:"rounded-2xl border bg-white p-2 shadow-sm hover:border-zinc-300 focus-within:ring-2 focus-within:ring-black/5 dark:bg-zinc-900 dark:border-zinc-700 dark:hover:border-zinc-600",children:l.jsx("input",{value:a.name,onChange:D=>w("name",D.target.value),className:hx,placeholder:"e.g., Maintenance Manual",required:!0})})}),l.jsx(Xf,{label:"Vendor",children:l.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm dark:bg-zinc-900 dark:border-zinc-700",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ly,{className:"h-4 w-4 text-zinc-500"}),l.jsx("input",{value:c,onChange:D=>u(D.target.value),className:hx+" py-1",placeholder:"Search vendor"})]}),l.jsxs("select",{value:a.vendor_id,onChange:D=>w("vendor_id",D.target.value),className:"w-full rounded-2xl border border-zinc-300 px-3 py-2 dark:bg-zinc-900 dark:border-zinc-700 dark:text-zinc-100",children:[l.jsx("option",{value:"",children:"(none)"}),x.map(D=>l.jsxs("option",{value:D.id,children:[D.name," ",D.contact_name?` ${D.contact_name}`:""]},D.id))]})]})}),l.jsx(Xf,{label:"Description",children:l.jsx("div",{className:"rounded-2xl border bg-white p-2 shadow-sm hover:border-zinc-300 focus-within:ring-2 focus-within:ring-black/5 dark:bg-zinc-900 dark:border-zinc-700 dark:hover:border-zinc-600",children:l.jsx("textarea",{rows:3,value:a.description,onChange:D=>w("description",D.target.value),className:hx+" min-h-20 resize-y",placeholder:"Optional notes"})})}),l.jsx(Xf,{label:`Document PDF ${a.id&&a.file_url?"(keep existing if empty)":"*"}`,children:l.jsx("div",{onDragOver:E,onDragEnter:E,onDragLeave:j,onDrop:C,className:"relative flex w-full items-center gap-3 rounded-2xl p-2 transition-all border "+(h?"border-[#0B5150] ring-2 ring-[#0B5150]/40 bg-zinc-900":"border-zinc-300 dark:border-zinc-700"),children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx("span",{className:"inline-flex items-center justify-center rounded-lg bg-zinc-100 p-2 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-300",children:l.jsx(jp,{className:"h-4 w-4"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-sm text-zinc-700 dark:text-zinc-200",children:"Drag & drop a PDF, or click to select"}),l.jsx("div",{className:"truncate text-xs text-zinc-500 dark:text-zinc-400",children:d?`${d.name} (${Math.ceil(d.size/1024)} KB)`:a.file_url?`Existing: ${a.file_url}`:"No file selected"})]}),l.jsx("input",{ref:g,type:"file",accept:"application/pdf",onChange:k,className:"absolute inset-0 opacity-0 cursor-pointer"})]})})})]})]})]})}function Xf({label:e,children:t}){return l.jsxs("label",{className:"block",children:[l.jsx("div",{className:"mb-1 text-sm font-semibold text-zinc-800 dark:text-zinc-200",children:e}),t]})}function bpe(){const[e,t]=b.useState([]),[r,n]=b.useState({}),[a,i]=b.useState(!0),[s,o]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(!1),[h,p]=b.useState(null),[g,m]=b.useState(""),[x,v]=b.useState(!1),[y,w]=b.useState({key:null,direction:"asc"});b.useEffect(()=>{async function N(){try{i(!0),o("");const[O,K]=await Promise.all([Oe.get("/api/documents"),Oe.get("/api/vendors/?per_page=1000").catch(()=>({items:[]}))]),I=Array.isArray(O==null?void 0:O.items)?O.items:Array.isArray(O)?O:[];t(I);const Y={};((K==null?void 0:K.items)||[]).forEach(G=>{Y[String(G.id)]=G.name||G.company||G.contact_name||`#${G.id}`}),n(Y)}catch(O){console.error(O),o("Failed to load documents.")}finally{i(!1)}}N()},[]);const k=b.useMemo(()=>{const N=c.trim().toLowerCase();if(!N)return e;const O=K=>(K==null?"":String(K)).toLowerCase();return e.filter(K=>{var Y,G;const I=r[String(K.vendor_id)]||((Y=K.vendor)==null?void 0:Y.name)||((G=K.vendor)==null?void 0:G.company)||"";return O(K.name).includes(N)||O(K.description).includes(N)||O(I).includes(N)})},[e,c,r]);function S(N){w(O=>{if(O.key===N){const K=O.direction==="asc"?"desc":"asc";return{key:N,direction:K}}return{key:N,direction:"asc"}})}const E=b.useMemo(()=>y.key?[...k].sort((O,K)=>{const I=O[y.key]??"",Y=K[y.key]??"";return typeof I=="number"&&typeof Y=="number"?y.direction==="asc"?I-Y:Y-I:y.direction==="asc"?String(I).localeCompare(String(Y)):String(Y).localeCompare(String(I))}):k,[k,y]);function j(){p(null),f(!0)}function C(N){p(N||null),f(!0)}async function T(N){if(!(!(N!=null&&N.id)||!confirm(`Delete "${N.name}"?`)))try{await Oe.delete(`/api/documents/${N.id}`),t(K=>K.filter(I=>I.id!==N.id))}catch(K){console.error(K),alert("Failed to delete document.")}}async function M(N){try{!!(h!=null&&h.id)?await Oe.put(`/api/documents/${h.id}`,N):await Oe.post("/api/documents",N),f(!1),p(null);const K=await Oe.get("/api/documents");t((K==null?void 0:K.items)||[])}catch(O){console.error("Save failed:",O),alert("Error saving document.")}}function D(N){N&&(m(N),v(!0))}function A(N){if(!N)return"";try{return new Date(N).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return N}}const _="px-4 sm:px-5 py-2.5 border-b border-zinc-200 dark:border-zinc-800";return l.jsx(f2,{title:"",children:l.jsxs("div",{className:"flex flex-col h-screen overflow-hidden bg-transparent page-fade-in",children:[l.jsxs("header",{className:"sticky top-0 z-30 bg-zinc-100 dark:bg-zinc-900 border-b border-zinc-300 dark:border-zinc-800 px-6 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-6",children:[l.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-zinc-900 dark:text-zinc-100 tracking-tight",children:"Documents"}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ly,{className:"absolute left-3 top-2.5 h-4 w-4 text-zinc-500 dark:text-zinc-400"}),l.jsx("input",{value:c,onChange:N=>u(N.target.value),placeholder:"Search documents...",className:"w-[260px] md:w-[300px] pl-9 pr-3 py-2 rounded-2xl bg-transparent border border-zinc-400 dark:border-zinc-700 text-zinc-900 dark:text-zinc-100 placeholder:text-zinc-500 focus:ring-2 focus:ring-[#0B5150]/30"})]}),l.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 rounded-2xl border border-gray-300 bg-white hover:shadow-sm transition dark:bg-zinc-800 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100",children:[l.jsx(en,{size:18}),l.jsx("span",{children:"Add"})]})]})]}),l.jsx("div",{className:"relative flex-1 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-[15px] leading-6 border-separate [border-spacing:0] select-none",children:[l.jsx("thead",{className:"bg-zinc-900 sticky top-0 z-10",children:l.jsx("tr",{children:[{label:"File",key:null,align:"center"},{label:"Name",key:"name"},{label:"Description",key:"description"},{label:"Vendor",key:"vendor_id"},{label:"Created",key:"created_at"},{label:"Actions",key:null,align:"center"}].map(N=>{const O=y.key===N.key,K=O&&y.direction==="asc"?"":O?"":"";return l.jsx("th",{onClick:()=>N.key&&S(N.key),className:["px-4 sm:px-5 py-3 font-medium text-zinc-300 border-b border-zinc-800 bg-zinc-900 select-none",N.key?"cursor-pointer":"",N.align==="center"?"text-center":N.align==="right"?"text-right":"text-left"].join(" "),children:l.jsxs("div",{className:`flex ${N.align==="center"?"justify-center":N.align==="right"?"justify-end":"justify-between"} items-center gap-1`,children:[l.jsx("span",{children:N.label}),K&&l.jsx("span",{className:"text-xs opacity-60",children:K})]})},N.label)})})}),l.jsxs("tbody",{children:[a&&l.jsx("tr",{children:l.jsxs("td",{colSpan:6,className:"px-4 sm:px-5 py-6 text-center text-zinc-500 dark:text-zinc-400",children:[l.jsx(Sp,{className:"animate-spin inline-block mr-2 w-4 h-4"}),"Loading"]})}),!a&&E.map(N=>{var K,I;const O=r[String(N.vendor_id)]||((K=N.vendor)==null?void 0:K.name)||((I=N.vendor)==null?void 0:I.company)||"";return l.jsxs("tr",{className:"bg-transparent text-zinc-800 hover:bg-zinc-50 dark:text-zinc-200 dark:hover:bg-[#1a1a1a] transition",children:[l.jsx("td",{className:_+" text-center",children:N.file_url?l.jsx("button",{type:"button",onClick:()=>D(N.file_url),className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-zinc-700 bg-transparent text-[#0B5150] hover:bg-zinc-100 dark:text-[#5ad5d3] dark:hover:bg-zinc-800",title:"Open PDF",children:l.jsx(Aa,{size:16})}):l.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-zinc-700 text-zinc-500",children:l.jsx(Aa,{size:16})})}),l.jsx("td",{className:`${_} font-semibold`,children:N.name||""}),l.jsx("td",{className:_,children:N.description||""}),l.jsx("td",{className:_,children:O}),l.jsx("td",{className:_,children:A(N.created_at)}),l.jsx("td",{className:_+" text-center",children:l.jsxs("div",{className:"inline-flex justify-center gap-2 flex-wrap",children:[l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-zinc-300 bg-transparent text-zinc-800 hover:bg-zinc-100 dark:border-zinc-700 dark:text-zinc-200 dark:hover:bg-zinc-800",onClick:()=>C(N),type:"button",children:[l.jsx(wi,{size:13}),"Edit"]}),l.jsxs("button",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-medium border border-rose-300 bg-transparent text-rose-700 hover:bg-rose-50 dark:border-rose-800 dark:text-rose-300 dark:hover:bg-rose-900/30",onClick:()=>T(N),type:"button",children:[l.jsx(Wn,{size:13}),"Delete"]})]})})]},N.id)}),!a&&!E.length&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 sm:px-5 py-6 text-center text-zinc-500 dark:text-zinc-400",children:"No results."})})]})]})}),l.jsx(ype,{open:d,initial:h,onClose:()=>{f(!1),p(null)},onSave:M}),l.jsx($d,{open:x,url:g,onClose:()=>v(!1)})]})})}const wpe="rounded-2xl bg-white dark:bg-[#1d1f24] shadow-xl border border-zinc-200 dark:border-zinc-800 transition-all",kpe="inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 bg-[#0B5150] text-white font-medium hover:bg-[#0C5F5E] active:scale-[.98] focus:outline-none focus:ring-2 focus:ring-[#0B5150]/60 transition",Wc="w-full border rounded-xl px-3 py-2 border-zinc-300 dark:border-zinc-700 text-zinc-900 placeholder-zinc-400 bg-white dark:bg-[#24262c] dark:text-zinc-200 dark:placeholder-zinc-500 focus:ring-2 focus:ring-[#0B5150] outline-none transition";function _pe({open:e,onClose:t,onSaved:r,editing:n}){const a=!!n,[i,s]=b.useState({title:"",description:"",category:"Manual",file_url:"",asset_id:""}),[o,c]=b.useState([]),[u,d]=b.useState(!1);b.useEffect(()=>{async function p(){var g;if(e)try{const m=await Oe.get("/api/assets/");let x=[];Array.isArray((g=m.data)==null?void 0:g.items)?x=m.data.items:Array.isArray(m.data)?x=m.data:Array.isArray(m.items)?x=m.items:Array.isArray(m)?x=m:x=[],c(x)}catch(m){console.error("Error loading assets:",m),c([])}}p()},[e]),b.useEffect(()=>{s(n?{title:n.title||"",description:n.description||"",category:n.category||"Manual",file_url:n.file_url||"",asset_id:n.asset_id||""}:{title:"",description:"",category:"Manual",file_url:"",asset_id:""})},[n,e]);const f=p=>{const{name:g,value:m}=p.target;s(x=>({...x,[g]:m}))};async function h(p){var m,x;if(p.preventDefault(),!i.title)return;const g={title:i.title,description:i.description,category:i.category,file_url:i.file_url||null,asset_id:i.asset_id||null};try{if(d(!0),a){const v=String((n==null?void 0:n.id)||""),y=v.startsWith("sop-");let w=0;if(y?w=parseInt(v.replace("sop-",""),10):w=parseInt(v.replace(/\D/g,""),10),!w||isNaN(w)){alert("Invalid manual ID"),console.error(" Invalid ID for PUT:",v);return}const k=y?`/api/sops/${w}`:`/api/manuals/${w}`;await Oe.put(k,g)}else await Oe.post("/api/manuals/",g);r==null||r(),t==null||t()}catch(v){console.error("Save failed:",v),alert("Save failed: "+(((x=(m=v==null?void 0:v.response)==null?void 0:m.data)==null?void 0:x.error)||v.message))}finally{d(!1)}}return e?l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 backdrop-blur-[1px] flex items-center justify-center p-3 sm:p-6",children:l.jsxs("div",{className:`w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl ${wpe} 
                    p-4 sm:p-6 lg:p-8 overflow-y-auto max-h-[95vh]`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-zinc-900 dark:text-zinc-100",children:a?"Edit Manual / SOP":"New Manual / SOP"}),l.jsx("button",{onClick:t,className:`rounded-lg p-1.5 hover:bg-zinc-100 dark:hover:bg-[#2a2d33] 
                       text-zinc-500 dark:text-zinc-300 transition`,children:l.jsx(Pr,{className:"w-5 h-5"})})]}),l.jsxs("form",{className:"space-y-4 sm:space-y-5",onSubmit:h,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Title"}),l.jsx("input",{name:"title",value:i.title,onChange:f,className:Wc,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Description"}),l.jsx("textarea",{name:"description",value:i.description,onChange:f,className:Wc,rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Category"}),l.jsxs("select",{name:"category",value:i.category,onChange:f,className:Wc,children:[l.jsx("option",{value:"Manual",children:"Manual"}),l.jsx("option",{value:"HowTo",children:"How-To"}),l.jsx("option",{value:"Troubleshooting",children:"Troubleshooting"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Asset (optional)"}),l.jsxs("select",{name:"asset_id",value:i.asset_id,onChange:f,className:Wc,children:[l.jsx("option",{value:"",children:"-- None --"}),o.map(p=>l.jsxs("option",{value:p.id,children:[p.name," ",p.floor?`(${p.floor})`:""," ",p.area?`- ${p.area}`:""]},p.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"File / Video URL (optional)"}),l.jsx("input",{name:"file_url",value:i.file_url,onChange:f,placeholder:"https://youtube.com/... or /uploads/manuals/file.pdf",className:Wc}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1 dark:text-zinc-400",children:"For local PDF uploads use the Upload PDF button."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:t,className:`w-full sm:w-auto px-4 py-2 rounded-xl border border-zinc-300 dark:border-zinc-700 
                         text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-[#2a2d33] transition`,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:u,className:`w-full sm:w-auto ${kpe}`,children:u?"Saving...":a?"Update":"Save"})]})]})]})}):null}const Spe="rounded-2xl bg-white dark:bg-[#1d1f24] shadow-xl border border-zinc-200 dark:border-zinc-800 transition-all",Epe="inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 bg-[#0B5150] text-white font-medium hover:bg-[#0C5F5E] active:scale-[.98] focus:outline-none focus:ring-2 focus:ring-[#0B5150]/60 transition",qf="w-full border rounded-xl px-3 py-2 border-zinc-300 dark:border-zinc-700 text-zinc-900 placeholder-zinc-400 bg-white dark:bg-[#24262c] dark:text-zinc-200 dark:placeholder-zinc-500 focus:ring-2 focus:ring-[#0B5150] outline-none transition";function jpe({open:e,setOpen:t,onSuccess:r}){const[n,a]=b.useState(""),[i,s]=b.useState(""),[o,c]=b.useState("Manual"),[u,d]=b.useState(null),[f,h]=b.useState(""),[p,g]=b.useState([]),[m,x]=b.useState(!1),v=b.useRef(null);b.useEffect(()=>{async function k(){var S;if(e)try{const E=await Oe.get("/api/assets/");let j=[];Array.isArray((S=E.data)==null?void 0:S.items)?j=E.data.items:Array.isArray(E.data)?j=E.data:Array.isArray(E.items)?j=E.items:Array.isArray(E)?j=E:j=[],g(j)}catch(E){console.error("Error loading assets:",E),g([])}}k()},[e]),b.useEffect(()=>{if(!e)return;const k=v.current;if(!k)return;const S=C=>{C.preventDefault(),k.classList.add("ring-2","ring-[#0B5150]/60")},E=()=>{k.classList.remove("ring-2","ring-[#0B5150]/60")},j=C=>{var M,D;C.preventDefault(),k.classList.remove("ring-2","ring-[#0B5150]/60");const T=(D=(M=C.dataTransfer)==null?void 0:M.files)==null?void 0:D[0];T&&T.type==="application/pdf"?d(T):T&&alert("Only PDF files are allowed.")};return k.addEventListener("dragover",S),k.addEventListener("dragleave",E),k.addEventListener("drop",j),()=>{k.removeEventListener("dragover",S),k.removeEventListener("dragleave",E),k.removeEventListener("drop",j)}},[e]);const y=k=>{var E;const S=((E=k.target.files)==null?void 0:E[0])||null;if(S&&S.type!=="application/pdf"){alert("Only PDF files are allowed.");return}d(S)},w=async k=>{var E,j;if(k.preventDefault(),!n||!u){alert("Title and PDF are required.");return}x(!0);const S=new FormData;S.append("title",n),S.append("description",i),S.append("category",o),S.append("file",u),f&&S.append("asset_id",f);try{await Oe.post("/api/manuals/",S),r==null||r(),t(!1),a(""),s(""),c("Manual"),d(null),h("")}catch(C){console.error("Upload failed:",C),alert("Upload failed: "+(((j=(E=C==null?void 0:C.response)==null?void 0:E.data)==null?void 0:j.error)||C.message))}finally{x(!1)}};return e?l.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 backdrop-blur-[1px] flex items-center justify-center p-3 sm:p-6",children:l.jsxs("div",{className:`w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl ${Spe} 
                    p-4 sm:p-6 lg:p-8 overflow-y-auto max-h-[95vh]`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Upload Manual (PDF)"}),l.jsx("button",{onClick:()=>t(!1),className:"rounded-lg p-1.5 hover:bg-zinc-100 dark:hover:bg-[#2a2d33] text-zinc-500 dark:text-zinc-300 transition","aria-label":"Close",children:l.jsx(Pr,{className:"w-5 h-5"})})]}),l.jsxs("form",{className:"space-y-4 sm:space-y-5",onSubmit:w,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Title"}),l.jsx("input",{type:"text",value:n,onChange:k=>a(k.target.value),className:qf,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Description (optional)"}),l.jsx("textarea",{value:i,onChange:k=>s(k.target.value),className:qf,rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Category"}),l.jsxs("select",{value:o,onChange:k=>c(k.target.value),className:qf,children:[l.jsx("option",{value:"Manual",children:"Manual"}),l.jsx("option",{value:"HowTo",children:"How-To"}),l.jsx("option",{value:"Troubleshooting",children:"Troubleshooting"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-1 text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Asset (optional)"}),l.jsxs("select",{value:f,onChange:k=>h(k.target.value),className:qf,children:[l.jsx("option",{value:"",children:"-- None --"}),p.map(k=>l.jsxs("option",{value:k.id,children:[k.name," ",k.floor?`(${k.floor})`:""," ",k.area?`- ${k.area}`:""]},k.id))]})]})]}),l.jsxs("div",{ref:v,className:`rounded-2xl border border-dashed border-zinc-300 dark:border-zinc-700 
                       bg-zinc-50 dark:bg-[#24262c] p-5 text-center hover:bg-zinc-100/60 
                       dark:hover:bg-zinc-800/40 transition cursor-pointer`,children:[l.jsx("p",{className:"text-sm text-zinc-700 dark:text-zinc-300",children:"Drag & drop a PDF here, or click to browse"}),l.jsx("div",{className:"mt-3",children:l.jsx("input",{type:"file",accept:"application/pdf",onChange:y,className:`block w-full text-sm text-zinc-700 dark:text-zinc-300 file:mr-3 file:py-2 
                           file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium 
                           file:bg-[#0B5150] file:text-white hover:file:bg-[#0C5F5E] cursor-pointer`})}),u&&l.jsxs("p",{className:"mt-3 text-xs text-zinc-600 dark:text-zinc-400",children:["Selected: ",l.jsx("b",{children:u.name})]})]}),l.jsxs("button",{type:"submit",disabled:m,className:`${Epe} w-full mt-4`,children:[l.jsx(jp,{className:"w-4 h-4"}),m?"Uploading...":"Upload Manual"]})]})]})}):null}const Npe="rounded-2xl p-4 border border-zinc-200 dark:border-zinc-800 bg-white/70 dark:bg-zinc-900/60 shadow-sm backdrop-blur-sm transition-all hover:shadow-md hover:border-[#0B5150]/30",uT="inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 font-medium bg-[#0B5150] hover:bg-[#0d6664] text-white active:scale-[.98] focus:outline-none focus:ring-2 focus:ring-[#0B5150]/60 transition",$o="inline-flex items-center justify-center gap-2 rounded-xl px-3 py-1.5 bg-[#0B5150] text-white hover:bg-[#0d6664] active:scale-[.98] transition text-sm w-[90px] text-center",Tpe="p-2 rounded-xl hover:bg-rose-100 dark:hover:bg-rose-900/30 transition text-rose-600 dark:text-rose-400",Ape="w-full rounded-2xl px-4 py-2 border border-slate-300 placeholder-slate-400 bg-white text-slate-900 dark:bg-[#0a0a0a] dark:border-white/10 dark:placeholder-slate-500 dark:text-white";function Cpe(e){return e?/^https?:\/\//i.test(e)?e:`${"https://api.getsnova.com".replace(/\/$/,"")}${e.startsWith("/")?e:`/${e}`}`:""}function Ppe(e=""){return/^https?:\/\//i.test(e||"")}function Ope(e=""){const t=String(e||"").toLowerCase();return t.includes("youtube.com/")||t.includes("youtu.be/")||t.includes("vimeo.com/")||t.includes("tiktok.com/")||/\.(mp4|webm|mov|m4v|avi|mkv)(\?|#|$)/.test(t)}function Dpe(){const e=nr(),[t,r]=b.useState([]),[n,a]=b.useState(!0),[i,s]=b.useState(""),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[p,g]=b.useState(!1),[m,x]=b.useState(""),[v,y]=b.useState("Attachment preview");b.useEffect(()=>{w()},[]);async function w(){try{a(!0);const[T,M]=await Promise.all([Oe.get("/api/manuals/"),Oe.get("/api/sops/")]),D=Array.isArray(T==null?void 0:T.items)?T.items:T,A=Array.isArray(M==null?void 0:M.items)?M.items:M,_=[...D.map(N=>({...N,type:"manual"})),...A.map(N=>({id:`sop-${N.id}`,title:N.title,description:N.description,category:N.category||"HowTo",file_url:null,asset_name:N.asset_name||null,created_at:N.created_at,type:"sop"}))];r(_)}catch(T){console.error(T),r([])}finally{a(!1)}}const k=b.useMemo(()=>{const T=i.trim().toLowerCase();return T?t.filter(M=>[M.title,M.description,M.category,M.asset_name].filter(Boolean).some(D=>String(D).toLowerCase().includes(T))):t},[i,t]),S=[{key:"Manual",label:"Manuals"},{key:"HowTo",label:"How-To"},{key:"Troubleshooting",label:"Troubleshooting"}];function E(T){x(Cpe(T.file_url)),y(T.title||"Attachment preview"),g(!0)}async function j(T){if(window.confirm("Delete this item?"))try{T.type==="sop"?await Oe.delete(`/api/sops/${T.id.replace("sop-","")}`):await Oe.delete(`/api/manuals/${T.id}`),await w()}catch(M){console.error(M),alert(" Failed to delete item.")}}function C(T){const M=T.type==="sop",D=Ope(T.file_url),A=Ppe(T.file_url),_=!!T.file_url;return l.jsxs(tn.div,{whileHover:{scale:1.01},transition:{duration:.2},className:`${Npe} flex justify-between items-start gap-4`,children:[l.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[M?l.jsx(J0,{className:"w-4 h-4 text-[#0B5150]"}):l.jsx(Aa,{className:"w-4 h-4 text-[#0B5150]"}),l.jsx("div",{className:"font-semibold text-sm truncate text-zinc-900 dark:text-zinc-200",children:T.title||"(untitled)"})]}),l.jsxs("div",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:[T.category||""," ",M&&l.jsx("span",{className:"ml-1 text-[10px] uppercase text-[#0B5150] font-semibold",children:"(SOP)"})]}),l.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-500",children:T.created_at?String(T.created_at).slice(0,10):""}),T.description&&l.jsx("div",{className:"text-xs text-zinc-700 dark:text-zinc-300 line-clamp-2",children:T.description}),T.asset_name&&l.jsxs("div",{className:"text-xs font-medium text-[#0B5150] dark:text-emerald-400 mt-1",children:["Asset: ",l.jsx("span",{className:"font-semibold",children:T.asset_name})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0 w-[90px]",children:[M?l.jsxs("button",{onClick:()=>e(`/sop/view/${T.id.replace("sop-","")}`),className:$o,children:[l.jsx(ZA,{className:"w-3 h-3"})," Open"]}):_?D?l.jsx("a",{href:T.file_url,target:"_blank",rel:"noreferrer",className:$o,children:"Watch"}):A?l.jsx("a",{href:T.file_url,target:"_blank",rel:"noreferrer",className:$o,children:"Open"}):l.jsx("button",{onClick:()=>E(T),className:$o,children:"Open"}):null,l.jsxs("button",{onClick:()=>{h(T),d(!0)},className:$o,children:[l.jsx(wi,{className:"w-3 h-3"})," Edit"]}),l.jsx("button",{onClick:()=>j(T),className:Tpe,children:l.jsx(Wn,{className:"w-4 h-4"})})]})]},T.id??`${T.title}-${T.created_at}`)}return l.jsxs("div",{className:"p-4 sm:p-6 space-y-6 min-h-screen",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-zinc-800 dark:text-zinc-100",children:"Manuals & SOPs"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:()=>d(!0),className:$o,children:[l.jsx(t3,{className:"w-4 h-4"})," New Link/Video"]}),l.jsxs("button",{onClick:()=>c(!0),className:uT,children:[l.jsx(en,{className:"w-4 h-4"})," Upload PDF"]}),l.jsxs("button",{onClick:()=>e("/sop/create"),className:uT,children:[l.jsx(J0,{className:"w-4 h-4"})," Add SOP"]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{value:i,onChange:T=>s(T.target.value),className:Ape,placeholder:"Search by title, description, category..."}),l.jsx(Ly,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400"})]}),n?l.jsx("div",{className:"flex justify-center py-10",children:l.jsx(Sp,{className:"animate-spin w-6 h-6 text-slate-500 dark:text-slate-400"})}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(T=>{const M=k.filter(D=>D.category===T.key);return l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"pb-2 border-b border-zinc-300/60 dark:border-white/10",children:l.jsx("h3",{className:"text-lg font-semibold",children:T.label})}),M.length===0?l.jsx("div",{className:"text-gray-500 dark:text-slate-400 text-sm",children:"No results."}):M.map(D=>l.jsx("div",{children:C(D)},D.id))]},T.key)})}),l.jsx(jpe,{open:o,setOpen:c,onSuccess:w}),l.jsx(_pe,{open:u,onClose:()=>d(!1),onSaved:w,editing:f}),l.jsx($d,{open:p,url:m,title:v,onClose:()=>g(!1)})]})}function Mpe(){return l.jsx("div",{className:"p-6 sm:p-8 space-y-6 flex flex-col items-center justify-center min-h-[80vh] text-center",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 text-[#0B5150] dark:text-[#5ad5d3]",children:[l.jsx(yo,{className:"w-8 h-8 animate-pulse"}),l.jsx(Q0,{className:"w-6 h-6 opacity-70"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-zinc-900 dark:text-zinc-100",children:"Calendar  Under Construction"}),l.jsx("p",{className:"text-sm sm:text-base text-zinc-600 dark:text-zinc-400 max-w-lg",children:"This section will display the monthly and weekly view combining tasks, PMs, deliveries, and engineering events."})]}),l.jsx("div",{className:"mt-6 rounded-2xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-[#1d1f24] shadow-sm p-6 sm:p-8",children:l.jsx("p",{className:"text-zinc-700 dark:text-zinc-300 text-sm sm:text-base",children:" We're working on integrating this feature very soon. It will include synchronization with tasks, PM schedules, and maintenance alerts."})})]})})}function Ipe(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(""),[s,o]=b.useState(null),[c,u]=b.useState([]),[d,f]=b.useState("all"),[h,p]=b.useState("all"),[g,m]=b.useState(""),[x,v]=b.useState(null),[y,w]=b.useState(""),[k,S]=b.useState(!1),E="http://127.0.0.1:5000/api/inncom/current_full",j="http://127.0.0.1:5000/api/inncom/stream";function C(N){const O=parseInt(N);return isNaN(O)?!1:[[201,216],[301,317],[401,417],[501,517],[601,617],[701,717],[801,817]].some(([I,Y])=>O>=I&&O<=Y)}async function T(){try{const N=await fetch(E);if(!N.ok)throw new Error(`HTTP ${N.status}`);const O=await N.json();let K=Object.values(O.items||{});K.sort((I,Y)=>Number(I.room_number)-Number(Y.room_number)),t(K)}catch(N){i(String(N))}finally{n(!1)}}b.useEffect(()=>{T();const N=new EventSource(j);return N.onmessage=O=>{try{JSON.parse(O.data).type==="refresh"&&T()}catch{}},N.onerror=()=>{N.close(),setTimeout(T,5e3)},()=>N.close()},[]),b.useEffect(()=>{s&&fetch(`http://127.0.0.1:5000/api/inncom/history/${s.room_number}`).then(N=>N.json()).then(N=>Array.isArray(N)?u(N):u([])).catch(()=>u([]))},[s]);const M=N=>{if(N==null)return"#9ca3af";const O=Math.min(Math.max(N,60),84),K=[{t:60,color:[37,99,235]},{t:68,color:[14,165,233]},{t:72,color:[16,185,129]},{t:76,color:[250,204,21]},{t:80,color:[251,146,60]},{t:84,color:[239,68,68]}];for(let I=0;I<K.length-1;I++){const Y=K[I],G=K[I+1];if(O>=Y.t&&O<=G.t){const q=Math.round(Y.color[0]+(O-Y.t)/(G.t-Y.t)*(G.color[0]-Y.color[0])),ce=Math.round(Y.color[1]+(O-Y.t)/(G.t-Y.t)*(G.color[1]-Y.color[1])),F=Math.round(Y.color[2]+(O-Y.t)/(G.t-Y.t)*(G.color[2]-Y.color[2]));return`rgb(${q}, ${ce}, ${F})`}}return"#9ca3af"},D=b.useMemo(()=>e.filter(N=>{var G,q;const O=!C(N.room_number),K=(N.status||N.guest_name||"").toUpperCase(),I=K.includes("OCC")||K.includes("OCCUPIED"),Y=K.includes("VAC")||K.includes("VACANT");if(d==="common"&&!O)return!1;if(d.startsWith("floor")){const ce=d.replace("floor","");if(!((G=N.room_number)!=null&&G.toString().startsWith(ce)))return!1}return!(h==="occ"&&!I||h==="vac"&&!Y||g&&!((q=N.display_name||N.room_number)!=null&&q.toLowerCase().includes(g.toLowerCase())))}),[e,d,h,g]),A=Array.from(new Set(e.map(N=>{var O;return(O=N.room_number)==null?void 0:O.toString().charAt(0)}).filter(N=>/^\d$/.test(N)))).sort();async function _(N,O){(await fetch("http://127.0.0.1:5000/api/inncom/update_name",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_number:N.room_number,display_name:O})})).ok&&T(),v(null)}return r?l.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):a?l.jsx("div",{className:"text-red-500",children:a}):l.jsxs("main",{className:"p-6 min-h-screen bg-zinc-50 dark:bg-[#121317] transition-colors",children:[l.jsxs("header",{className:"flex flex-col md:flex-row justify-between mb-6 gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-[#0B5150] dark:text-[#5ad5d3] mb-1",children:"Room Status"}),l.jsxs("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:[e.length," monitored zones (Rooms & Common Areas)"]})]}),l.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[l.jsx("button",{className:"md:hidden p-2 rounded-lg border border-zinc-300 dark:border-zinc-600 text-zinc-600 dark:text-zinc-400 bg-white dark:bg-zinc-800",onClick:()=>S(!0),"aria-label":"Open filters",children:l.jsx(e3,{size:18})}),l.jsx("input",{type:"text",value:g,onChange:N=>m(N.target.value),placeholder:"Search...",className:"flex-1 min-w-[140px] md:w-auto border rounded-lg px-3 py-2 text-sm bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600"}),l.jsxs("div",{className:"hidden md:flex gap-2",children:[l.jsxs("select",{className:"border rounded-lg px-3 py-2 text-sm bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600",value:d,onChange:N=>f(N.target.value),children:[l.jsx("option",{value:"all",children:"All Floors"}),A.map(N=>l.jsxs("option",{value:`floor${N}`,children:["Floor ",N]},N)),l.jsx("option",{value:"common",children:"Common Areas"})]}),l.jsxs("select",{className:"border rounded-lg px-3 py-2 text-sm bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600",value:h,onChange:N=>p(N.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"occ",children:"Occupied"}),l.jsx("option",{value:"vac",children:"Vacant"})]})]})]})]}),l.jsx("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-8",children:D.map(N=>{const O=M(N.room_temp),K=(N.status||N.guest_name||"").toUpperCase(),I=K.includes("OCC")?"OCC":K.includes("VAC")?"VAC":"";return l.jsxs("div",{className:"relative rounded-xl shadow-md border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-[#1d1f24] hover:shadow-lg hover:scale-[1.02] transition-all cursor-pointer p-3 flex flex-col justify-center items-center text-center",onClick:()=>o(N),children:[I&&l.jsx("div",{className:`absolute top-1 right-2 text-[10px] font-semibold ${I==="OCC"?"text-green-600 dark:text-green-400":"text-zinc-500 dark:text-zinc-400"}`,children:I}),l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(s3,{size:16,className:"opacity-70 text-zinc-600 dark:text-zinc-400"}),l.jsx("span",{className:"font-semibold text-sm text-zinc-800 dark:text-zinc-100",children:N.display_name}),l.jsx("button",{className:"ml-1 text-zinc-400 hover:text-[#0B5150]",onClick:Y=>{Y.stopPropagation(),v(N),w(N.display_name)},"aria-label":"Rename area",children:l.jsx(wi,{size:14})})]}),l.jsxs("div",{className:"text-lg font-bold mt-1",style:{color:O},children:[N.room_temp??"","F"]}),l.jsxs("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:["Set: ",N.set_temp??"","F"]})]},N.room_number)})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>o(null),children:l.jsxs("div",{onClick:N=>N.stopPropagation(),className:"bg-white dark:bg-[#1d1f24] rounded-2xl shadow-2xl w-[95%] max-w-lg p-6 border border-zinc-200 dark:border-zinc-700",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-lg font-semibold text-[#0B5150] dark:text-[#5ad5d3]",children:["Room ",s.display_name]}),l.jsx("button",{onClick:()=>o(null),className:"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300 text-xl font-bold","aria-label":"Close details",children:""})]}),l.jsxs("div",{className:"h-24 mb-4",children:[l.jsx(yw,{width:"100%",height:"100%",children:l.jsxs(nee,{data:c,children:[l.jsx(Zv,{type:"monotone",dataKey:"room_temp",stroke:"#5ad5d3",strokeWidth:2,dot:!1}),l.jsx(Zv,{type:"monotone",dataKey:"set_temp",stroke:"#0B5150",strokeWidth:1.5,dot:!1})]})}),l.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1 text-center",children:"Last 20 readings (F)"})]}),l.jsxs("div",{className:"space-y-2 text-sm text-zinc-700 dark:text-zinc-300",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Room:"})," ",s.room_number]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Room Temp:"})," ",s.room_temp??"","F"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Set Temp:"})," ",s.set_temp??"","F"]}),l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",s.delta??""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"HVAC:"})," ",s.hvac||""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Mode:"})," ",s.mode||""]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Updated:"})," ",s.updated_at?new Date(s.updated_at).toLocaleTimeString():""]})]})]})}),x&&l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",onClick:()=>v(null),children:l.jsxs("div",{className:"bg-white dark:bg-[#1d1f24] rounded-xl p-6 shadow-2xl w-80 border border-zinc-200 dark:border-zinc-700",onClick:N=>N.stopPropagation(),children:[l.jsx("h2",{className:"font-semibold mb-3 text-[#0B5150] dark:text-[#5ad5d3]",children:"Rename Area"}),l.jsx("input",{value:y,onChange:N=>w(N.target.value),className:"w-full border px-3 py-2 rounded-lg mb-4 dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>v(null),className:"px-3 py-1 text-sm border rounded-lg",children:"Cancel"}),l.jsx("button",{onClick:()=>_(x,y),className:"px-3 py-1 text-sm rounded-lg bg-[#0B5150] text-white",children:"Save"})]})]})}),k&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>S(!1),children:l.jsxs("div",{onClick:N=>N.stopPropagation(),className:"bg-white dark:bg-[#1d1f24] rounded-2xl p-6 shadow-2xl w-80 border border-zinc-200 dark:border-zinc-700",children:[l.jsx("h2",{className:"font-semibold mb-3 text-[#0B5150] dark:text-[#5ad5d3]",children:"Filters"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("select",{className:"w-full border rounded-lg px-3 py-2 text-sm bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600",value:d,onChange:N=>f(N.target.value),children:[l.jsx("option",{value:"all",children:"All Floors"}),A.map(N=>l.jsxs("option",{value:`floor${N}`,children:["Floor ",N]},N)),l.jsx("option",{value:"common",children:"Common Areas"})]}),l.jsxs("select",{className:"w-full border rounded-lg px-3 py-2 text-sm bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-600",value:h,onChange:N=>p(N.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"occ",children:"Occupied"}),l.jsx("option",{value:"vac",children:"Vacant"})]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsx("button",{onClick:()=>S(!1),className:"px-3 py-1 text-sm rounded-lg bg-[#0B5150] text-white",children:"Apply"})})]})})]})}function px({active:e=!1,onClick:t,children:r}){const n="inline-flex items-center gap-2 rounded-xl px-3.5 py-2 text-sm transition border hover:bg-[var(--surface-2)]",a=e?`${n} border-[var(--border-1)] bg-[var(--text-1)] text-[var(--surface-1)]`:`${n} border-[var(--border-1)] bg-[var(--surface-1)] text-[var(--text-2)]`;return l.jsx("button",{type:"button",onClick:t,className:a,children:r})}async function Fpe(){return Ne("/api/inspections/scopes")}async function Lpe({status:e="all"}={}){const t=e?`?status=${encodeURIComponent(e)}`:"";return Ne(`/api/inspections${t}`)}async function dT(e){return Ne("/api/inspections",{method:"POST",body:JSON.stringify(e)})}async function Rpe(e){return Ne(`/api/inspections/${e}`)}async function fT(e,t){return Ne(`/api/inspections/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async function zpe(e){return Ne(`/api/inspections/${e}/complete`,{method:"POST"})}async function Bpe(e){return Ne(`/api/inspections/${e}/items`)}async function $pe(e,t,{status:r,notes:n}){return Ne(`/api/inspections/${e}/items/${t}`,{method:"PATCH",body:JSON.stringify({status:r,notes:n})})}async function Upe(e,{item_id:t,note:r}){return Ne(`/api/inspections/${e}/items/${t}/comment`,{method:"POST",body:JSON.stringify({note:r})})}async function Vpe(e,t,r){const n=new FormData;n.append("file",r);const a=await fetch("https://api.getsnova.com/api/uploads",{method:"POST",body:n,credentials:"include"});if(!a.ok){let o="Upload failed";try{const c=await a.json();c!=null&&c.error&&(o=c.error)}catch{}throw new Error(o)}const i=await a.json(),s=(i==null?void 0:i.url)||(i==null?void 0:i.path)||(i==null?void 0:i.file_url);if(!s)throw new Error("Upload did not return a valid URL");return Ne(`/api/inspections/${e}/items/${t}/photos`,{method:"POST",body:JSON.stringify({url:s})})}const Wpe="rounded-2xl bg-white/95 shadow-[0_1px_0_rgba(0,0,0,.02),0_8px_24px_rgba(0,0,0,.06)] ring-1 ring-black/5 transition duration-200 dark:bg-[#1d1f24]/90 dark:ring-white/10 dark:shadow-[0_1px_0_rgba(255,255,255,.04)_inset,0_20px_40px_rgba(0,0,0,.45)]",Hpe="hover:shadow-[0_2px_0_rgba(0,0,0,.03),0_16px_30px_rgba(0,0,0,.08)] dark:hover:shadow-[0_1px_0_rgba(255,255,255,.05)_inset,0_26px_48px_rgba(0,0,0,.55)] hover:ring-[#0B5150]/20",Kpe="p-4 md:p-5",Gpe="inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 bg-[#083A39] text-white hover:bg-[#0A4644] active:scale-[.98] focus:outline-none focus:ring-2 focus:ring-[#0B5150]/60 transition dark:bg-[#09403F] dark:hover:bg-[#0A4644] dark:focus:ring-[#0B5150]/60",hT="inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 bg-white/80 ring-1 ring-gray-200 hover:bg-white transition dark:bg-[#24262c] dark:ring-white/10 dark:hover:bg-[#2a2d33]",Ype="text-gray-600 dark:text-slate-300",Xpe="text-gray-900 dark:text-slate-100",pT="h-10 px-4 rounded-xl text-sm font-medium ring-1 transition flex items-center justify-center select-none",qpe="bg-white/80 text-gray-700 ring-gray-200 hover:bg-white cursor-pointer dark:bg-[#24262c] dark:text-slate-200 dark:ring-white/10 dark:hover:bg-[#2a2d33]",Jpe="bg-[#083A39] text-white ring-[#0B5150] hover:bg-[#0A4644] cursor-pointer dark:bg-[#09403F] dark:ring-[#0B5150] dark:hover:bg-[#0A4644]";function Qpe({open:e,floors:t=[],initial:r=null,onClose:n,onStart:a}){const[i,s]=b.useState([]);b.useEffect(()=>{e&&(r&&t.includes(r)?s([r]):s([]))},[e,r,t]);const o=b.useMemo(()=>i.length>0,[i]),c=u=>{s(d=>d.includes(u)?d.filter(f=>f!==u):[...d,u])};return e?l.jsxs("div",{className:"fixed inset-0 z-[70]",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]",onClick:n}),l.jsx("div",{className:"absolute inset-0 flex items-end md:items-center justify-center p-4",children:l.jsx(uc,{initial:!0,children:l.jsxs(tn.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},transition:{duration:.18},className:`${Wpe} ${Kpe} ${Hpe} w-full max-w-xl`,onClick:u=>u.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:`text-lg font-semibold ${Xpe}`,children:"Select floors"}),l.jsx("button",{onClick:n,className:`${hT} h-9 px-3 text-sm`,children:"Close"})]}),l.jsx("p",{className:`text-sm mb-4 ${Ype}`,children:"Choose one or more floors to include in this inspection."}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:(t.length?t:[]).map(u=>{const d=i.includes(String(u)),f=!1,h=d?`${pT} ${Jpe}`:`${pT} ${qpe}`;return l.jsx("button",{type:"button",className:h,disabled:f,onClick:()=>c(String(u)),title:String(u),children:String(u)},String(u))})}),l.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:n,className:`${hT} h-10 px-4`,children:"Cancel"}),l.jsx("button",{onClick:()=>a(i),disabled:!o,className:`${Gpe} h-10 px-4 disabled:opacity-60`,title:o?"Start inspection":"Select at least one floor",children:"Start inspection"})]})]},"modal")})})]}):null}const Jf="rounded-2xl bg-white/95 shadow-[0_1px_0_rgba(0,0,0,.02),0_8px_24px_rgba(0,0,0,.06)] ring-1 ring-black/5 transition duration-200 dark:bg-[#1d1f24]/90 dark:ring-white/10 dark:shadow-[0_1px_0_rgba(255,255,255,.04)_inset,0_20px_40px_rgba(0,0,0,.45)]",mT="hover:shadow-[0_2px_0_rgba(0,0,0,.03),0_16px_30px_rgba(0,0,0,.08)] dark:hover:shadow-[0_1px_0_rgba(255,255,255,.05)_inset,0_26px_48px_rgba(0,0,0,.55)] hover:ring-[#0B5150]/20",Qf="p-4 md:p-5",b0="inline-flex items-center gap-2 rounded-xl px-3 py-2 bg-[#083A39] text-white hover:bg-[#0A4644] active:scale-[.98] focus:outline-none focus:ring-2 focus:ring-[#0B5150]/60 transition dark:bg-[#09403F] dark:hover:bg-[#0A4644] dark:focus:ring-[#0B5150]/60",Ys="inline-flex items-center gap-2 rounded-xl px-3 py-2 bg-white/80 ring-1 ring-gray-200 hover:bg-white transition dark:bg-[#24262c] dark:ring-white/10 dark:hover:bg-[#2a2d33]",Zpe="inline-flex items-center px-2 py-0.5 text-xs font-semibold rounded-full bg-rose-100 text-rose-700 dark:bg-rose-400/15 dark:text-rose-300 dark:ring-1 dark:ring-rose-300/20",DM="https://api.getsnova.com",eme=["Roof","Penthouse","8","7","6","5","4","3","2","1","Basement"],gT=Object.fromEntries(eme.map((e,t)=>[e.toLowerCase(),t])),xT=["Roof","Penthouse","8","7","6","5","4","3","2","1","Basement"],vT=["Lobby","Bar","Kitchen","Back of House","MDF","Gym"],yT=["FCU","Pump","Detector","Extinguisher","Panel","Door"],tme="he_custom_floors",rme="he_custom_areas";function bT(e){var t,r,n;return e?e.id??((t=e==null?void 0:e.data)==null?void 0:t.id)??((r=e==null?void 0:e.inspection)==null?void 0:r.id)??((n=e==null?void 0:e.result)==null?void 0:n.id)??null:null}async function D1({id:e,navigate:t}){try{await fetch(`${DM}/api/inspections/${e}`,{credentials:"include"})}catch{}const r=`/inspections/${e}/run`;try{t(r),await new Promise(n=>setTimeout(n,0))}catch{window.location.assign(r)}}function nme({open:e,onClose:t,inProgress:r=[],completed:n=[]}){const a=nr(),[i,s]=b.useState("inProgress");return e?l.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end md:items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]",onClick:t}),l.jsxs("div",{className:"relative w-full md:max-w-3xl rounded-2xl bg-white shadow-[0_1px_0_rgba(0,0,0,.02),0_12px_36px_rgba(0,0,0,.22)] ring-1 ring-black/10 dark:bg-[#1d1f24] dark:ring-white/10 dark:shadow-[0_1px_0_rgba(255,255,255,.04)_inset,0_24px_56px_rgba(0,0,0,.6)] p-4 md:p-5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-slate-100",children:"Records"}),l.jsx("button",{onClick:t,className:Ys,children:"Close"})]}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("button",{onClick:()=>s("inProgress"),className:`px-3 py-1.5 rounded-xl transition ${i==="inProgress"?"bg-[#083A39] text-white dark:bg-[#09403F]":"bg-gray-100 hover:bg-gray-200 dark:bg-[#24262c] dark:hover:bg-[#2a2d33]"}`,children:"In progress"}),l.jsx("button",{onClick:()=>s("completed"),className:`px-3 py-1.5 rounded-xl transition ${i==="completed"?"bg-[#083A39] text-white dark:bg-[#09403F]":"bg-gray-100 hover:bg-gray-200 dark:bg-[#24262c] dark:hover:bg-[#2a2d33]"}`,children:"Completed"})]}),l.jsx("div",{className:"overflow-y-auto max-h-[560px] pr-1 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar-thumb]:bg-black/10 dark:[&::-webkit-scrollbar-thumb]:bg-white/10 [&::-webkit-scrollbar-thumb]:rounded-full hover:[&::-webkit-scrollbar-thumb]:bg-black/20 dark:hover:[&::-webkit-scrollbar-thumb]:bg-white/20",children:i==="inProgress"?l.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-white/10",children:r.length?r.map(d=>l.jsxs("li",{className:"py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-300 truncate",children:[d.scope_type,"  ",d.scope_value]}),l.jsxs("div",{className:"text-sm text-gray-900 dark:text-slate-200 truncate",children:["Progress ",d.progress,"%  started by ",d.started_by_name||""]})]}),l.jsx("button",{onClick:()=>D1({id:d.id,navigate:a}),className:b0,children:"Resume"})]},d.id)):l.jsx("li",{className:"text-gray-500 text-sm py-2 dark:text-slate-300",children:"No inspections in progress"})}):l.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-white/10",children:n.length?n.map(d=>l.jsxs("li",{className:"py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"text-sm text-gray-500 dark:text-slate-300 truncate",children:[d.scope_type,"  ",d.scope_value]}),l.jsxs("div",{className:"text-sm text-gray-900 dark:text-slate-200 truncate",children:["Completed  started by ",d.started_by_name||""]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>window.open(`/inspections/${d.id}/view`,"_blank"),className:Ys,title:"Open summary",children:"Open"}),l.jsx("button",{onClick:()=>window.open(`/inspections/${d.id}/print?auto=1`,"_blank"),className:Ys,title:"Open printable report",children:"Print"})]})]},d.id)):l.jsx("li",{className:"text-gray-500 text-sm py-2 dark:text-slate-300",children:"No completed inspections"})})})]})]}):null}function ame(){var D,A,_;const e=nr(),[t,r]=b.useState("floor"),[n,a]=b.useState({floors:[],areas:[],types:[],inProgress:[],completed:[]}),[i,s]=b.useState(!0),[o,c]=b.useState(""),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,g]=b.useState(null),[m,x]=b.useState({byFloor:{},byArea:{},byType:{}}),v=N=>{const K=(prompt(N==="floor"?"Add new floor label:":"Add new area name:")||"").trim();if(K)if(N==="floor"){const I=Array.from(new Set([...n.floors||[],K]));a(Y=>({...Y,floors:I}));try{localStorage.setItem("he_custom_floors",JSON.stringify(I.filter(Boolean)))}catch{}}else{const I=Array.from(new Set([...n.areas||[],K]));a(Y=>({...Y,areas:I}));try{localStorage.setItem("he_custom_areas",JSON.stringify(I.filter(Boolean)))}catch{}}};b.useEffect(()=>{let N=!0;return(async()=>{try{s(!0),c("");const O=await Fpe(),K=Array.isArray(O==null?void 0:O.floors)&&O.floors.length?O.floors:xT,I=Array.isArray(O==null?void 0:O.areas)&&O.areas.length?O.areas:vT,Y=Array.isArray(O==null?void 0:O.types)&&O.types.length?O.types:yT;let G=[],q=[];try{G=JSON.parse(localStorage.getItem(tme)||"[]"),q=JSON.parse(localStorage.getItem(rme)||"[]")}catch{}const ce=Array.from(new Set([...K||[],...G||[]])),F=Array.from(new Set([...I||[],...q||[]]));a({floors:ce,areas:F,types:Y,inProgress:(O==null?void 0:O.inProgress)||[],completed:(O==null?void 0:O.completed)||[]});try{const z=await fetch(`${DM}/api/assets/status/summary`,{credentials:"include"});if(z.ok){const H=await z.json();N&&x({byFloor:H.byFloor||{},byArea:H.byArea||{},byType:H.byType||{}})}}catch{}try{const z=await Lpe({status:"completed"});N&&Array.isArray(z)&&a(H=>({...H,completed:z}))}catch{}}catch(O){console.error(O),N&&(a({floors:xT,areas:vT,types:yT,inProgress:[],completed:[]}),c("Could not load inspections data (showing defaults)."))}finally{N&&s(!1)}})(),()=>{N=!1}},[]);const y=(((D=n.inProgress)==null?void 0:D.length)||0)+(((A=n.completed)==null?void 0:A.length)||0),w=((_=n.completed)==null?void 0:_.length)||0,k=y>0?Math.round(w/y*100):0,S=b.useMemo(()=>{const N=Array.from(new Set((n.floors||[]).map(O=>String(O))));return N.sort((O,K)=>{const I=gT[O.toLowerCase()],Y=gT[K.toLowerCase()];if(I!==void 0&&Y!==void 0)return I-Y;if(I!==void 0)return-1;if(Y!==void 0)return 1;const G=Number(O),q=Number(K);return!Number.isNaN(G)&&!Number.isNaN(q)?q-G:O.localeCompare(K)}),N},[n.floors]),E=t==="floor"?S:t==="area"?n.areas:n.types,j=N=>{var O,K,I;return Number(t==="floor"?((O=m.byFloor)==null?void 0:O[String(N)])||0:t==="area"?((K=m.byArea)==null?void 0:K[String(N)])||0:((I=m.byType)==null?void 0:I[String(N)])||0)},C=(N=null)=>{g(N),h(!0)},T=async N=>{try{const O=await dT({scope_type:"floors",floors:N}),K=bT(O);K?await D1({id:K,navigate:e}):alert("Could not start the inspection (invalid response). Check console.")}catch{alert("Could not start the inspection.")}finally{h(!1),g(null)}},M=async({scopeType:N,scopeValue:O})=>{try{const K=await dT({scope_type:N,scope_value:O}),I=bT(K);I?await D1({id:I,navigate:e}):alert("Could not start the inspection (invalid response). Check console.")}catch{alert("Could not start the inspection.")}};return l.jsxs("div",{className:"mx-auto max-w-[1400px] p-6 pb-16",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-semibold tracking-tight",children:"Inspections"}),l.jsxs("div",{className:"mt-2 flex flex-col gap-2 sm:max-w-md",children:[l.jsxs("div",{className:"text-sm text-gray-600 dark:text-slate-300",children:["Completed ",l.jsx("span",{className:"font-semibold",children:w})," of"," ",l.jsx("span",{className:"font-semibold",children:y})," (",k,"%)"]}),l.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200 dark:bg-slate-700 overflow-hidden",children:l.jsx("div",{className:"h-2 bg-[#083A39] dark:bg-[#0A4B4A] transition-all",style:{width:`${k}%`},"aria-label":`Progress ${k}%`})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("button",{onClick:()=>d(!0),className:Ys,title:"View records",children:"Records"}),t==="floor"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>v("floor"),className:Ys,title:"Add floor",children:[l.jsx(en,{size:16})," Add floor"]}),l.jsxs("button",{onClick:()=>C(null),className:b0,title:"Start multi-floor inspection",children:[l.jsx(d0,{size:16})," Start (multi-floor)"]})]}),t==="area"&&l.jsxs("button",{onClick:()=>v("area"),className:Ys,title:"Add area",children:[l.jsx(en,{size:16})," Add area"]}),t==="type"&&l.jsxs("button",{onClick:()=>e("/assets"),className:Ys,title:"Add asset",children:[l.jsx(en,{size:16})," Add asset"]})]})]}),l.jsx("div",{className:`${Jf} ${Qf} mb-2 ${mT}`,children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(px,{active:t==="floor",onClick:()=>r("floor"),children:[l.jsx(My,{className:"inline mr-2",size:16}),"By floor"]}),l.jsxs(px,{active:t==="area",onClick:()=>r("area"),children:[l.jsx(r3,{className:"inline mr-2",size:16}),"By area"]}),l.jsxs(px,{active:t==="type",onClick:()=>r("type"),children:[l.jsx(DR,{className:"inline mr-2",size:16}),"By asset type"]})]})}),i&&l.jsx("div",{className:`${Jf} ${Qf}`,children:"Loading"}),!i&&o&&l.jsx("div",{className:`${Jf} ${Qf} text-amber-700 dark:text-amber-300`,children:o}),!i&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:(E||[]).map(N=>{const O=j(N);return l.jsx(tn.div,{layout:!0,whileHover:{scale:1.01},className:`${Jf} ${mT} ${Qf}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-slate-400",children:t==="floor"?"Floor":t==="area"?"Area":"Type"}),l.jsxs("div",{className:"mt-1 text-lg font-medium flex items-center gap-2",children:[String(N),O>0&&l.jsxs("span",{className:Zpe,children:[O," ",O===1?"issue":"issues"]})]})]}),t==="floor"?l.jsxs("button",{onClick:()=>C(String(N)),className:b0,children:[l.jsx(d0,{size:16})," Start"]}):l.jsxs("button",{onClick:()=>M({scopeType:t,scopeValue:String(N)}),className:b0,children:[l.jsx(d0,{size:16})," Start"]})]})},String(N))})}),l.jsx(Qpe,{open:f,floors:S,initial:p,onClose:()=>{h(!1),g(null)},onStart:T}),l.jsx(nme,{open:u,onClose:()=>d(!1),inProgress:n.inProgress,completed:n.completed})]})}function ime({open:e,initial:t="",onClose:r,onSave:n}){const[a,i]=b.useState(t||""),s=b.useRef(null),o=b.useRef(null);if(b.useEffect(()=>{if(!e)return;i(t||"");const u=setTimeout(()=>{var d;return(d=o.current)==null?void 0:d.focus()},10);return()=>clearTimeout(u)},[e,t]),b.useEffect(()=>{if(!e)return;const u=d=>{d.key==="Escape"&&(r==null||r()),(d.metaKey||d.ctrlKey)&&d.key.toLowerCase()==="enter"&&c()};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[e,a]),!e)return null;const c=()=>{n==null||n(a)};return l.jsxs("div",{className:"fixed inset-0 z-[80] flex items-end md:items-center justify-center","aria-modal":"true",role:"dialog",ref:s,children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:r}),l.jsxs("div",{className:`
        relative w-full md:max-w-xl
        rounded-t-2xl md:rounded-2xl
        border
        bg-white text-gray-900
        shadow-2xl
        p-4 md:p-6
        dark:bg-neutral-900 dark:text-gray-100 dark:border-neutral-800
      `,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),l.jsx("button",{onClick:r,className:`px-3 py-1.5 rounded-lg border bg-white hover:bg-gray-50
                       dark:bg-neutral-900 dark:border-neutral-700 dark:hover:bg-neutral-800`,children:"Close"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Notes (Ctrl/+Enter to save)"}),l.jsx("textarea",{ref:o,rows:6,value:a,onChange:u=>i(u.target.value),placeholder:"Write a quick note",className:`
              w-full rounded-xl border px-3 py-2
              bg-white text-gray-900 placeholder:text-gray-400
              focus:outline-none focus:ring-2 focus:ring-gray-900/20 focus:border-gray-300
              dark:bg-neutral-800 dark:text-gray-100 dark:placeholder:text-gray-500
              dark:border-neutral-700 dark:focus:ring-neutral-500/30 dark:focus:border-neutral-600
            `})]}),l.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:r,className:`px-3 py-2 rounded-xl border bg-white hover:bg-gray-50
                       dark:bg-neutral-900 dark:border-neutral-700 dark:hover:bg-neutral-800`,children:"Cancel"}),l.jsx("button",{onClick:c,className:`px-4 py-2 rounded-xl bg-gray-900 text-white hover:bg-black
                       dark:bg-neutral-100 dark:text-neutral-900 dark:hover:bg-white`,children:"Save"})]})]})]})}const Vo="rounded-2xl bg-white/95 shadow-[0_1px_0_rgba(0,0,0,.02),0_8px_24px_rgba(0,0,0,.06)] ring-1 ring-black/5 transition duration-200 dark:bg-[#1e1e1e] dark:ring-white/10 dark:shadow-[0_1px_0_rgba(255,255,255,.04)_inset,0_20px_40px_rgba(0,0,0,.45)]",mx="hover:shadow-[0_2px_0_rgba(0,0,0,.03),0_16px_30px_rgba(0,0,0,.08)] dark:hover:shadow-[0_1px_0_rgba(255,255,255,.05)_inset,0_26px_48px_rgba(0,0,0,.55)] hover:ring-[#0B5150]/20",tu="p-4 sm:p-5 md:p-6",MM="text-gray-600 dark:text-slate-300",zs="text-gray-500 dark:text-slate-400",w0="text-gray-900 dark:text-slate-100",sme="inline-flex items-center gap-2 rounded-xl px-3 py-2 bg-[#083A39] text-white hover:bg-[#0A4644] active:scale-[.98] focus:outline-none focus:ring-2 focus:ring-[#0B5150]/60 transition dark:bg-[#09403F] dark:hover:bg-[#0A4644]",k0="inline-flex items-center gap-2 rounded-xl px-3 py-2 bg-white/80 ring-1 ring-gray-200 hover:bg-white transition dark:bg-[#24262c] dark:ring-white/10 dark:hover:bg-[#2a2d33]";function ome(){const e=bp();let t=(e==null?void 0:e.id)??(e==null?void 0:e.inspectionId)??(e==null?void 0:e.inspection_id)??null;if(!t&&typeof window<"u"){const n=window.location.pathname.match(/\/inspections\/(\d+)/);n&&n[1]&&(t=n[1])}const r=Number(t);return Number.isFinite(r)&&r>0?r:null}const lme="https://api.getsnova.com";function IM(e){return(e==null?void 0:e.photo_url)||(e==null?void 0:e.photo)||(e==null?void 0:e.image)||(e==null?void 0:e.image_url)||(e==null?void 0:e.thumbnail)||null}function cme(e){const t=String((e==null?void 0:e.label)||"").trim(),r=/(room|habitacin|habitacion|rm)\s*([a-z0-9\-]+)/i,n=t.match(r);if(n&&n[2])return`Room ${n[2].toUpperCase()}`;const a=t.match(/\b(\d{3,4})\b/);return a&&a[1]?`Room ${a[1]}`:e!=null&&e.area?String(e.area):"Other"}function ume(e,t){const r=i=>{const s=String(i).match(/Room\s+(\d{1,4})/i);return s?Number(s[1]):null},n=r(e),a=r(t);return n!=null&&a!=null?n-a:n!=null?-1:a!=null?1:String(e).localeCompare(String(t))}function dme({open:e,onClose:t,item:r,asset:n,inspectionPhotos:a=[]}){if(!e||!r)return null;const i=IM(n),s=String(r.status||"open").toLowerCase();return l.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end md:items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:t}),l.jsxs("div",{className:`relative w-full md:max-w-3xl ${Vo} overflow-hidden max-h-[95vh] overflow-y-auto`,children:[l.jsx("div",{className:"w-full h-44 md:h-60 bg-gray-100 dark:bg-slate-800",children:i&&l.jsx("img",{src:i,alt:"asset",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:`${tu}`,children:[l.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:`text-lg font-semibold leading-tight ${w0}`,children:r.label}),l.jsxs("div",{className:`text-sm ${zs}`,children:[r.type||"Item"," "," ",r.floor?`Floor ${r.floor}`:r.area||""]})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${s==="ok"?"bg-emerald-100 text-emerald-700":s==="fail"?"bg-rose-100 text-rose-700":s==="na"?"bg-gray-100 text-gray-700 dark:bg-slate-700 dark:text-slate-200":"bg-yellow-50 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:s.toUpperCase()})]}),r.notes&&l.jsxs("div",{className:`mt-4 text-sm ${MM}`,children:[l.jsx("span",{className:"font-medium",children:"Note: "}),r.notes]}),Array.isArray(a)&&a.length>0&&l.jsxs("div",{className:"mt-5",children:[l.jsx("div",{className:`text-sm ${zs} mb-2`,children:"Inspection photos"}),l.jsx("div",{className:"flex gap-2 flex-wrap",children:a.map((o,c)=>l.jsx("a",{href:o,target:"_blank",rel:"noreferrer",className:"block w-24 h-24 bg-gray-100 dark:bg-slate-700 rounded-lg overflow-hidden ring-1 ring-gray-200 dark:ring-white/10",children:l.jsx("img",{src:o,alt:"evidence",className:"w-full h-full object-cover",onError:u=>u.currentTarget.style.display="none"})},c))})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:t,className:k0,children:"Close"})})]})]})]})}function fme(){const e=ome(),t=nr(),[r,n]=b.useState(null),[a,i]=b.useState([]),[s,o]=b.useState({}),[c,u]=b.useState(null),[d,f]=b.useState({}),[h,p]=b.useState(!1),[g,m]=b.useState(null),[x,v]=b.useState(""),[y,w]=b.useState(!1),[k,S]=b.useState(null),[E,j]=b.useState(!0),C=b.useRef({});b.useEffect(()=>{e&&(async()=>{try{const[G,q]=await Promise.all([Rpe(e),Bpe(e)]);n(G||null),i(Array.isArray(q==null?void 0:q.items)?q.items:[])}catch{alert("Could not load inspection.")}finally{j(!1)}})()},[e]),b.useEffect(()=>{const G=Array.from(new Set(a.map(q=>q.asset_id).filter(Boolean)));G.length&&(async()=>{const q=await Promise.all(G.map(async ce=>{try{const F=await fetch(`${lme}/api/assets/${ce}`,{credentials:"include"});return F.ok?[ce,await F.json()]:[ce,null]}catch{return[ce,null]}}));o(Object.fromEntries(q))})()},[a]);const T=b.useMemo(()=>{if(!a.length)return 0;const G=a.filter(q=>["ok","fail","na"].includes((q.status||"").toLowerCase())).length;return Math.round(G/a.length*100)},[a]);b.useEffect(()=>{r&&e&&!E&&fT(e,{progress:T}).catch(()=>{})},[T,r,e,E]);const M=b.useMemo(()=>{const G=new Map;for(const ce of a){const F=cme(ce);G.has(F)||G.set(F,[]),G.get(F).push(ce)}const q=Array.from(G.entries());q.sort((ce,F)=>ume(ce[0],F[0]));for(const[,ce]of q)ce.sort((F,z)=>String(F.type||F.label).localeCompare(String(z.type||z.label)));return q},[a]),D=G=>f(q=>({...q,[G]:!q[G]})),A=async(G,q)=>{var ce;try{u(G);const F=await $pe(e,G,{status:q}),z=((ce=F==null?void 0:F.item)==null?void 0:ce.status)||q;i(H=>H.map(L=>L.id===G?{...L,status:z}:L))}catch{alert("Could not update item.")}finally{u(null)}},_=G=>{m(G.id),v(G.notes||""),p(!0)},N=async G=>{var ce;const q=g;if(p(!1),!!q)try{u(q);const F=await Upe(e,{item_id:q,note:G}),z=((ce=F==null?void 0:F.item)==null?void 0:ce.notes)??G;i(H=>H.map(L=>L.id===q?{...L,notes:z}:L))}catch{alert("Could not save note.")}finally{u(null),m(null)}},O=G=>C.current[G]&&C.current[G].click(),K=async(G,q)=>{var F,z;const ce=(F=q.target.files)==null?void 0:F[0];if(q.target.value="",!!ce)try{u(G);const H=await Vpe(e,G,ce),L=((z=H==null?void 0:H.item)==null?void 0:z.photos)??[];i(X=>X.map(ee=>ee.id===G?{...ee,photos:L}:ee))}catch{alert("Could not upload photo.")}finally{u(null)}},I=async()=>{try{await fT(e,{status:"paused"}),t("/inspections")}catch{alert("Could not pause inspection.")}},Y=async()=>{if(confirm("Mark inspection as completed?"))try{await zpe(e),t("/inspections")}catch{alert("Could not complete inspection.")}};return l.jsxs("div",{className:"mx-auto max-w-7xl p-3 sm:p-5 md:p-6",children:[l.jsxs("div",{className:"sticky top-0 z-30 backdrop-blur-md bg-white/70 dark:bg-[#0e0e0e]/70 border-b border-zinc-200 dark:border-zinc-700 mb-5 rounded-b-2xl shadow-sm flex flex-col md:flex-row justify-between items-center gap-3 p-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:`text-xl sm:text-2xl font-semibold ${w0}`,children:"Inspection"}),l.jsx("p",{className:`text-xs sm:text-sm ${zs}`,children:r?`Scope  ${r.scope_type||""} ${r.scope_value||""}`:"Loading..."})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:I,className:k0,children:"Pause"}),l.jsx("button",{onClick:Y,className:sme,children:"Complete"}),l.jsx(wp,{to:"/inspections",className:k0,children:"Back"})]})]}),l.jsx("div",{className:`${Vo} ${tu} mb-4 ${mx}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`text-sm min-w-[88px] ${MM}`,children:["Progress ",T,"%"]}),l.jsx("div",{className:"flex-1 h-2 rounded-full bg-gray-200 dark:bg-slate-700 overflow-hidden",children:l.jsx(tn.div,{animate:{width:`${T}%`,scale:T===100?[1,1.05,1]:1},transition:{duration:.5,ease:"easeOut"},className:"h-2 bg-[#083A39] dark:bg-[#0A4B4A]"})})]})}),E?l.jsx("div",{className:`${Vo} ${tu} ${zs}`,children:"Loading"}):a.length?M.map(([G,q])=>{const ce=!!d[G];return l.jsxs("section",{className:"space-y-2",children:[l.jsx("div",{className:`${Vo} py-2 px-3 md:px-4 ${mx}`,children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-4 w-1 rounded bg-[#083A39] dark:bg-[#0A4B4A]"}),l.jsxs("div",{className:"text-xs uppercase tracking-wide font-semibold",children:[l.jsx("span",{className:w0,children:G}),l.jsxs("span",{className:`ml-2 ${zs}`,children:[" ",q.length," assets"]})]})]}),l.jsx("button",{onClick:()=>D(G),className:`${k0} py-1 text-xs`,children:ce?"Close":"Open"})]})}),l.jsx(uc,{initial:!1,children:ce&&l.jsx(tn.ul,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4",children:q.map(F=>{const z=String(F.status||"open").toLowerCase(),H=F.asset_id?s[F.asset_id]:null,L=IM(H),X=c===F.id;return l.jsx(tn.li,{layout:!0,whileHover:{scale:1.01},className:`${Vo} ${mx} ${tu} cursor-pointer`,onClick:()=>{S(F),w(!0)},children:l.jsxs("div",{className:"flex items-stretch gap-4",children:[l.jsx("div",{className:"w-24 md:w-28 self-stretch rounded-xl overflow-hidden bg-gray-100 dark:bg-slate-800 ring-1 ring-gray-200 dark:ring-white/10 shrink-0",children:L?l.jsx("img",{src:L,alt:"asset",className:"w-full h-full object-cover",onClick:ee=>ee.stopPropagation()}):l.jsx("div",{className:"w-full h-full grid place-items-center text-gray-400 dark:text-slate-500 text-[10px]",children:"No image"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:`text-[11px] ${zs}`,children:[F.type||"Item"," "," ",F.floor?`Floor ${F.floor}`:F.area||""]}),l.jsx("div",{className:`font-medium truncate ${w0}`,children:F.label})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${z==="ok"?"bg-emerald-100 text-emerald-700":z==="fail"?"bg-rose-100 text-rose-700":z==="na"?"bg-gray-100 text-gray-700 dark:bg-slate-700 dark:text-slate-200":"bg-yellow-50 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:z.toUpperCase()})]}),l.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",onClick:ee=>ee.stopPropagation(),children:[l.jsx("button",{disabled:X,onClick:()=>A(F.id,"ok"),className:"px-2 py-1 rounded-lg bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60",children:"OK"}),l.jsx("button",{disabled:X,onClick:()=>A(F.id,"fail"),className:"px-2 py-1 rounded-lg bg-rose-600 text-white hover:bg-rose-700 disabled:opacity-60",children:"Fail"}),l.jsx("button",{disabled:X,onClick:()=>A(F.id,"na"),className:"px-2 py-1 rounded-lg bg-gray-800 text-white hover:bg-black disabled:opacity-60",children:"N/A"}),l.jsx("button",{disabled:X,onClick:()=>A(F.id,"open"),className:"px-2 py-1 rounded-lg bg-gray-100 hover:bg-gray-200 disabled:opacity-60 dark:bg-slate-700 dark:hover:bg-slate-600",children:"Open"}),l.jsx("button",{disabled:X,onClick:()=>_(F),className:"ml-2 px-2 py-1 rounded-lg bg-indigo-50 hover:bg-indigo-100 disabled:opacity-60 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/40 dark:text-indigo-200",children:"+ Add note"}),l.jsx("button",{disabled:X,onClick:()=>O(F.id),className:"px-2 py-1 rounded-lg bg-sky-50 hover:bg-sky-100 disabled:opacity-60 dark:bg-sky-900/30 dark:hover:bg-sky-900/40 dark:text-sky-200",children:"+ Photo"}),l.jsx("input",{ref:ee=>C.current[F.id]=ee,type:"file",accept:"image/*",className:"hidden",onChange:ee=>K(F.id,ee)})]}),F.notes?l.jsxs("div",{className:"mt-3 text-xs text-gray-600 dark:text-slate-300 bg-gray-50 dark:bg-slate-800 rounded-lg p-2 ring-1 ring-gray-100 dark:ring-white/10",children:[l.jsx("span",{className:"font-medium",children:"Note:"})," ",F.notes]}):null]})]})},F.id)})})})]},G)}):l.jsx("div",{className:`${Vo} ${tu} ${zs}`,children:"No items found."}),l.jsx(ime,{open:h,initial:x,onClose:()=>p(!1),onSave:N}),l.jsx(dme,{open:y,onClose:()=>w(!1),item:k,asset:k!=null&&k.asset_id?s[k.asset_id]:null,inspectionPhotos:Array.isArray(k==null?void 0:k.photos)?k.photos:[]}),l.jsx("style",{children:`
        @media print {
          html, body { background: #fff !important; }
          .dark html, .dark body { background: #fff !important; color: #000 !important; }
        }
      `})]})}function hme(){const e=nr();return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[70vh] px-6 text-center",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-slate-100 mb-3",children:"mbito de Inspeccin"}),l.jsx("p",{className:"text-gray-600 dark:text-slate-300 max-w-xl",children:"Esta pantalla permitir desglosar sub-secciones dentro del mbito seleccionado (por ejemplo, por piso, rea o tipo de activo)."}),l.jsxs("div",{className:`mt-8 rounded-2xl border border-gray-200 dark:border-white/10
        bg-white/90 dark:bg-[#1d1f24]/90 shadow-sm p-6 w-full max-w-md
        flex flex-col items-center justify-center`,children:[l.jsx(yo,{size:42,className:"text-[#0B5150] dark:text-[#5ad5d3] mb-3 animate-spin-slow"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-slate-200 mb-1",children:"En construccin"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-6",children:"Estamos trabajando para habilitar esta seccin pronto."}),l.jsxs("button",{onClick:()=>e("/inspections"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl
                     bg-[#083A39] text-white hover:bg-[#0A4644]
                     focus:ring-2 focus:ring-[#0B5150]/60 transition
                     dark:bg-[#09403F] dark:hover:bg-[#0A4644]`,children:[l.jsx(Oy,{size:18}),"Volver al Hub"]})]}),l.jsx("style",{children:`
        @keyframes spin-slow {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        .animate-spin-slow {
          animation: spin-slow 6s linear infinite;
        }
      `})]})}function pme(){const e=bp();for(const n of[e==null?void 0:e.inspectionId,e==null?void 0:e.id,e==null?void 0:e.inspection_id]){const a=Number(n);if(Number.isFinite(a))return a}const r=(typeof window<"u"?window.location.pathname:"").match(/\/inspections\/(\d+)(?:\/|$)/i);if(r){const n=Number(r[1]);if(Number.isFinite(n))return n}return null}function mme(){const{search:e}=ma();return b.useMemo(()=>new URLSearchParams(e),[e])}function gme(e){if(!e)return"";try{const t=new Date(e);return isNaN(+t)?String(e):t.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})}catch{return String(e)}}function xme(e){return(e==null?void 0:e.floor)!==void 0&&(e==null?void 0:e.floor)!==null&&String(e.floor)!==""?`Floor ${e.floor}${e!=null&&e.area?` / ${e.area}`:""}`:e!=null&&e.area?String(e.area):""}function vme(e){return Array.isArray(e==null?void 0:e.photos)&&e.photos.length?e.photos[0]:null}function yme({status:e}){const t=String(e||"open").toLowerCase();let r="ipr-status ipr-status--other",n="",a="OPEN";return t==="ok"||t==="pass"?(r="ipr-status ipr-status--ok",n="",a="OK"):t==="fail"||t==="x"||t==="ooo"?(r="ipr-status ipr-status--fail",n="",a="FAIL"):t==="na"&&(r="ipr-status ipr-status--na",n="",a="N/A"),l.jsx("span",{className:r,"aria-label":a,title:a,children:n})}function bme(){const e=pme(),t=mme(),r=t.get("auto")==="1",n=b.useMemo(()=>{const m=(t.get("status")||"").trim().toLowerCase();return m?m.split(",").map(x=>x.trim()).filter(Boolean):[]},[t]),[a,i]=b.useState(null),[s,o]=b.useState([]),[c,u]=b.useState(!0),[d,f]=b.useState("");b.useEffect(()=>{if(!Number.isFinite(e)){f("Could not load inspection report."),u(!1);return}let m=!0;return(async()=>{try{u(!0),f("");const[x,v]=await Promise.all([Oe.get(`/api/inspections/${e}`),Oe.get(`/api/inspections/${e}/items`)]);if(!m)return;const y=x!=null&&x.inspection?x.inspection:x,w=Array.isArray(v==null?void 0:v.items)?v.items:Array.isArray(v)?v:[];i(y||null),o(w)}catch{m&&f("Could not load inspection report.")}finally{m&&u(!1)}})(),()=>{m=!1}},[e]),b.useEffect(()=>{if(r&&!c&&Number.isFinite(e)){const m=setTimeout(()=>window.print(),300);return()=>clearTimeout(m)}},[r,c,e]);const h=b.useMemo(()=>{if(!a)return"";const m=a.scope_type,x=a.scope_value;return m==="floors"||m==="floor"?`Floors  ${x||(a.floors||[]).join(", ")}`:m==="area"?`Area  ${x||""}`:m==="type"?`Type  ${x||""}`:`${m}  ${x||""}`},[a]),p=b.useMemo(()=>n.length?s.filter(m=>n.includes(String(m.status||"").toLowerCase())):s,[s,n]),g=b.useMemo(()=>n.length?n.map(m=>m.toUpperCase()).join(", "):null,[n]);return l.jsxs("div",{className:"ipr-root",children:[l.jsxs("div",{className:"ipr-toolbar ipr-no-print",children:[l.jsx(wp,{to:"/inspections",className:"ipr-btn",children:"Back"}),l.jsx("button",{onClick:()=>window.print(),className:"ipr-btn ipr-btn-dark",children:"Print"})]}),l.jsxs("header",{className:"ipr-head",children:[l.jsx("div",{className:"ipr-title",children:"Inspection Report"}),l.jsxs("div",{className:"ipr-meta",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"ID:"})," ",Number.isFinite(e)?`#${e}`:""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Scope:"})," ",h||""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Status:"})," ",(a==null?void 0:a.status)||""]}),g&&l.jsxs("div",{children:[l.jsx("strong",{children:"Filter:"})," ",g]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Generated:"})," ",gme(new Date)]})]})]}),l.jsxs("section",{className:"ipr-paper",children:[d&&l.jsx("div",{className:"ipr-error",children:"Could not load inspection report."}),l.jsxs("table",{className:"ipr-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Photo"}),l.jsx("th",{children:"Label"}),l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Floor/Area"})]})}),l.jsx("tbody",{children:c?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"ipr-muted",children:"Loading"})}):p.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"ipr-muted",children:n.length?"No items found for current filter.":"No items found."})}):p.map(m=>{const x=m.notes||m.note||(Array.isArray(m.comments)&&m.comments.length?m.comments.map(y=>y.text||y.note||"").filter(Boolean).join(" | "):""),v=vme(m);return l.jsxs(fe.Fragment,{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"ipr-status-cell",children:l.jsx(yme,{status:m.status})}),l.jsx("td",{className:"ipr-photo-cell",children:v?l.jsx("img",{src:v,alt:"",className:"ipr-photo"}):l.jsx("span",{className:"ipr-muted",children:""})}),l.jsx("td",{children:l.jsx("div",{className:"ipr-item-title",children:m.label||m.name||""})}),l.jsx("td",{className:"ipr-muted",children:m.type||""}),l.jsx("td",{className:"ipr-muted",children:xme(m)})]}),x&&l.jsx("tr",{className:"ipr-notes-row",children:l.jsx("td",{colSpan:5,children:l.jsxs("div",{className:"ipr-notes",children:[l.jsx("strong",{children:"Notes:"})," ",x]})})},`${m.id}-notes`)]},m.id)})})]}),l.jsxs("div",{className:"ipr-signs",children:[l.jsxs("div",{className:"ipr-sign",children:[l.jsx("div",{className:"ipr-line"}),l.jsx("div",{className:"ipr-sign-label",children:"Inspector Signature / Date"})]}),l.jsxs("div",{className:"ipr-sign",children:[l.jsx("div",{className:"ipr-line"}),l.jsx("div",{className:"ipr-sign-label",children:"Supervisor Signature / Date"})]}),l.jsxs("div",{className:"ipr-sign",children:[l.jsx("div",{className:"ipr-line"}),l.jsx("div",{className:"ipr-sign-label",children:"Customer Signature / Date"})]})]})]}),l.jsx("style",{children:`
        :root {
          color-scheme: light dark;
        }
        .ipr-root {
          font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
          color: #0f172a;
          background: #0b0b0b;
          min-height: 100vh;
          padding: 16px;
          transition: background 0.3s ease;
        }
        @media (prefers-color-scheme: light) {
          .ipr-root { background: #f9fafb; color: #111827; }
        }

        .ipr-toolbar {
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
          justify-content: space-between;
          align-items: center;
          max-width: 1040px;
          margin: 0 auto 16px;
        }
        .ipr-btn {
          padding: 10px 16px;
          border-radius: 12px;
          border: 1px solid #e5e7eb;
          background: #fff;
          font-weight: 500;
          font-size: 15px;
        }
        .ipr-btn-dark {
          background: #083A39;
          color: #fff;
          border-color: #0B5150;
        }

        .ipr-head {
          max-width: 1040px;
          margin: 0 auto 12px;
          color: #e5e7eb;
        }
        .ipr-title {
          font-size: clamp(22px, 3vw, 28px);
          font-weight: 800;
          opacity: .9;
        }
        .ipr-meta {
          font-size: 13px;
          opacity: .85;
          display: flex;
          flex-wrap: wrap;
          gap: 10px;
          margin-top: 6px;
        }

        .ipr-paper {
          max-width: 1040px;
          margin: 0 auto;
          background: #fff;
          border-radius: 16px;
          box-shadow: 0 8px 24px rgba(0,0,0,.25);
          padding: 18px;
          overflow-x: auto;
        }

        .ipr-table {
          width: 100%;
          border-collapse: separate;
          border-spacing: 0;
          font-size: 13.5px;
        }
        .ipr-table thead th {
          background: #edf2f7;
          text-align: left;
          padding: 10px 12px;
          font-weight: 600;
          color: #111827;
          border-bottom: 1px solid #e5e7eb;
        }
        .ipr-table tbody td {
          padding: 10px;
          border-bottom: 1px solid #e5e7eb;
          vertical-align: middle;
        }
        .ipr-item-title { font-weight: 700; color: #111827; }
        .ipr-muted { color: #6b7280; }
        .ipr-error { color: #b91c1c; margin: 10px 0; }

        .ipr-photo { width: 96px; height: auto; max-height: 70px; border-radius: 8px; border: 1px solid #e5e7eb; object-fit: cover; }

        .ipr-status {
          display: inline-flex; align-items: center; justify-content: center;
          width: 28px; height: 28px; border-radius: 9999px; font-weight: 800;
          border: 1px solid #d1d5db; background: #f3f4f6; color: #374151;
        }
        .ipr-status--ok { background: #10b981; color: #fff; border-color: #059669; }
        .ipr-status--fail { background: #ef4444; color: #fff; border-color: #dc2626; }
        .ipr-status--na { background: #e5e7eb; color: #374151; border-color: #cbd5e1; }

        .ipr-notes { font-size: 12.5px; color: #374151; white-space: pre-wrap; }

        .ipr-signs {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 24px;
          margin-top: 28px;
        }
        .ipr-line { height: 1px; background: #e5e7eb; margin-bottom: 8px; }
        .ipr-sign-label { font-size: 12px; color: #9ca3af; }

        /*  Responsive */
        @media (max-width: 640px) {
          .ipr-head { text-align: center; }
          .ipr-meta { justify-content: center; font-size: 12px; }
          .ipr-paper { padding: 12px; border-radius: 12px; }
          .ipr-table thead { display: none; }
          .ipr-table tbody tr { display: block; margin-bottom: 12px; border: 1px solid #e5e7eb; border-radius: 10px; padding: 8px; }
          .ipr-table tbody td { display: block; border: none; padding: 6px 0; }
          .ipr-status, .ipr-photo { transform: scale(1.1); }
          .ipr-signs { grid-template-columns: 1fr; gap: 16px; }
        }

        /*  Print */
        @media print {
          @page { size: Letter; margin: 12mm; }
          .ipr-no-print { display: none !important; }
          html, body { background: #fff !important; }
          .ipr-root { background: #fff; padding: 0; }
          .ipr-paper { box-shadow: none; border: 1px solid #d1d5db; }
          .ipr-table thead th,
          .ipr-status--ok, .ipr-status--fail, .ipr-status--na {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
        }
      `})]})}function wme({open:e,image:t,onClose:r,onSave:n}){const a=b.useRef(null),i=b.useRef(null),s=b.useRef(null),[o,c]=b.useState(!1),[u,d]=b.useState("pen"),[f,h]=b.useState("#ff0000"),[p,g]=b.useState(2),[m,x]=b.useState(""),[v,y]=b.useState([]),[w,k]=b.useState(null);b.useEffect(()=>{if(!e||!t)return;const A=a.current,_=A.getContext("2d"),N=new Image;N.src=t,N.onload=()=>{let I=N.width,Y=N.height;const G=Math.min(900/I,600/Y,1);I*=G,Y*=G,A.width=I,A.height=Y,_.drawImage(N,0,0,I,Y),s.current=N,i.current=_,y([A.toDataURL()])}},[e,t]);function S(A){if(u==="text")return;const _=i.current,N=A.nativeEvent.offsetX,O=A.nativeEvent.offsetY;k({x:N,y:O}),u==="pen"&&(_.beginPath(),_.moveTo(N,O)),c(!0)}function E(A){if(!o||u==="text")return;const _=i.current,N=A.nativeEvent.offsetX,O=A.nativeEvent.offsetY;if(_.strokeStyle=f,_.lineWidth=p,_.lineCap="round",u==="pen")_.lineTo(N,O),_.stroke();else{const K=a.current,I=new Image;I.src=v[v.length-1],I.onload=()=>{if(_.clearRect(0,0,K.width,K.height),_.drawImage(I,0,0),_.beginPath(),u==="square")_.strokeRect(w.x,w.y,N-w.x,O-w.y);else if(u==="circle"){const Y=Math.sqrt(Math.pow(N-w.x,2)+Math.pow(O-w.y,2));_.arc(w.x,w.y,Y,0,2*Math.PI),_.stroke()}}}}function j(){if(!o)return;const A=a.current;y(_=>[..._,A.toDataURL()]),c(!1)}function C(A){if(u!=="text"||!m.trim())return;const _=i.current,N=a.current.getBoundingClientRect(),O=A.clientX-N.left,K=A.clientY-N.top;_.fillStyle=f,_.font=`${16+p*2}px Arial`,_.fillText(m,O,K),x(""),y(I=>[...I,a.current.toDataURL()])}function T(){if(v.length<=1)return;const A=[...v];A.pop();const _=A[A.length-1],N=i.current,O=new Image;O.src=_,O.onload=()=>N.drawImage(O,0,0),y(A)}function M(){if(!s.current)return;const A=a.current,_=i.current;_.clearRect(0,0,A.width,A.height),_.drawImage(s.current,0,0,A.width,A.height),y([A.toDataURL()])}function D(){const A=a.current;n(A.toDataURL("image/png"))}return e?l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-2 sm:p-4",children:l.jsxs("div",{className:`bg-white dark:bg-zinc-900 rounded-2xl shadow-xl w-full max-w-5xl
                   p-3 sm:p-5 flex flex-col gap-3 max-h-[90vh] overflow-y-auto`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h2",{className:"text-base sm:text-lg font-semibold text-zinc-800 dark:text-zinc-100",children:"Image Editor"}),l.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-zinc-200 dark:hover:bg-zinc-700 transition",children:l.jsx(Pr,{className:"w-5 h-5 text-zinc-600 dark:text-zinc-300"})})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-between border-b pb-2 border-zinc-200 dark:border-zinc-700",children:[l.jsx("div",{className:"flex flex-wrap gap-2 items-center",children:["pen","text","square","circle"].map(A=>l.jsx("button",{onClick:()=>d(A),className:`px-3 py-1.5 rounded-lg text-sm font-medium ${u===A?"bg-[#0B5150] text-white":"bg-zinc-100 dark:bg-zinc-800 text-zinc-700 dark:text-zinc-300"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))}),l.jsxs("div",{className:"flex flex-wrap gap-3 items-center justify-end w-full sm:w-auto",children:[l.jsxs("label",{className:"flex items-center gap-1 text-sm text-zinc-600 dark:text-zinc-300",children:["Color",l.jsx("input",{type:"color",value:f,onChange:A=>h(A.target.value),className:"w-6 h-6 rounded border border-zinc-300 dark:border-zinc-700"})]}),l.jsxs("label",{className:"flex items-center gap-1 text-sm text-zinc-600 dark:text-zinc-300",children:["Size",l.jsx("input",{type:"range",min:"1",max:"10",value:p,onChange:A=>g(Number(A.target.value)),className:"accent-[#0B5150] w-24"})]}),l.jsx("button",{onClick:T,className:"px-3 py-1.5 text-sm bg-zinc-100 dark:bg-zinc-800 rounded-lg hover:bg-zinc-200 dark:hover:bg-zinc-700 transition",children:"Undo"}),l.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-1.5 text-sm rounded-lg bg-red-100 text-red-700 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 transition",children:[l.jsx(a3,{className:"w-4 h-4"})," Reset"]})]})]}),l.jsx("div",{className:"overflow-x-auto flex justify-center bg-zinc-50 dark:bg-zinc-800 rounded-xl p-2",children:l.jsx("canvas",{ref:a,onMouseDown:S,onMouseUp:j,onMouseMove:E,onClick:C,className:"cursor-crosshair rounded-xl shadow-sm border border-zinc-300 dark:border-zinc-700"})}),u==="text"&&l.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-2 mt-2",children:l.jsx("input",{type:"text",placeholder:"Enter text...",value:m,onChange:A=>x(A.target.value),className:"flex-1 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 p-2 text-sm"})}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 sm:gap-3 mt-4",children:[l.jsx("button",{onClick:r,className:"w-full sm:w-auto px-4 py-2 rounded-lg text-sm bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 transition text-zinc-800 dark:text-zinc-200",children:"Cancel"}),l.jsxs("button",{onClick:D,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm bg-[#0B5150] text-white hover:bg-[#0C5F5E] transition",children:[l.jsx(Ep,{className:"w-4 h-4"})," Save Changes"]})]})]})}):null}function kme({step:e,index:t,onChange:r,onDelete:n}){const[a,i]=b.useState(!1);function s(u){r(t,{...e,text:u.target.value})}async function o(u){const d=u.target.files[0];if(!d)return;const f=new FileReader;f.onload=h=>{r(t,{...e,image:h.target.result})},f.readAsDataURL(d)}function c(u){r(t,{...e,image:u}),i(!1)}return l.jsxs("div",{className:"rounded-2xl p-3 sm:p-4 mb-6 bg-white dark:bg-zinc-900/60 border border-slate-300 dark:border-zinc-700 relative shadow-sm transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3 flex-wrap gap-2",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 dark:text-white text-base sm:text-lg",children:["Step ",t+1]}),l.jsx("button",{onClick:()=>n(t),className:"text-red-500 hover:text-red-400 transition",title:"Delete step",children:l.jsx(Wn,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),l.jsx("textarea",{value:e.text||"",onChange:s,placeholder:"Describe what to do in this step...",className:"w-full rounded-lg border border-slate-300 dark:border-zinc-700 bg-slate-50 dark:bg-zinc-800 text-slate-900 dark:text-white p-2 sm:p-3 text-sm sm:text-base mb-3 focus:ring-2 focus:ring-[#0B5150] resize-y min-h-[80px] sm:min-h-[100px]"}),l.jsx("div",{className:`relative w-full rounded-xl overflow-hidden
                   border border-slate-200 dark:border-zinc-700
                   bg-[#f8f9fa] dark:bg-black
                   shadow-sm hover:ring-2 hover:ring-[#0B5150]/60 transition-all`,children:l.jsx("div",{className:"aspect-[4/3] sm:aspect-[16/5] w-full flex items-center justify-center max-h-[250px] sm:max-h-[300px]",children:e.image?l.jsx("img",{src:e.image,alt:`Step ${t+1}`,className:"object-contain w-full h-full select-none pointer-events-none",draggable:!1}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-full cursor-pointer text-gray-500 hover:text-[#0B5150] transition",children:[l.jsx(jp,{className:"w-7 h-7 sm:w-8 sm:h-8 mb-2 opacity-70"}),l.jsx("span",{className:"text-xs sm:text-sm",children:"Upload image"}),l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:o})]})})}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:e.image&&l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center justify-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg bg-[#0B5150] text-white hover:bg-[#0C5F5E] transition text-sm sm:text-base",children:[l.jsx(n3,{className:"w-4 h-4"})," Edit Image"]})}),l.jsx(wme,{open:a,image:e.image,onClose:()=>i(!1),onSave:c})]})}function _me(){const e=nr(),[t]=hR(),r=t.get("id"),[n,a]=b.useState(""),[i,s]=b.useState(""),[o,c]=b.useState("Manual"),[u,d]=b.useState(""),[f,h]=b.useState([]),[p,g]=b.useState([{text:"",image:""}]),[m,x]=b.useState(!1),[v,y]=b.useState(!1);b.useEffect(()=>{r&&w()},[r]);async function w(){try{y(!0);const C=await Oe.get(`/api/sops/${r}`);a(C.title||""),s(C.description||""),c(C.category||"Manual"),d(C.asset_id||"");const T=(C.steps||[]).map(M=>({text:M.text||"",image:M.image_url||""}));g(T.length?T:[{text:"",image:""}])}catch(C){console.error(" Error loading SOP:",C),alert("Failed to load SOP for editing.")}finally{y(!1)}}b.useEffect(()=>{async function C(){try{const T=await Oe.get("/api/assets"),M=T.data||T;let D=[];Array.isArray(M==null?void 0:M.items)?D=M.items:Array.isArray(M)?D=M:M!=null&&M.items&&typeof M.items=="object"?D=Object.values(M.items):D=[],h(D)}catch(T){console.error(" Error loading assets:",T),h([])}}C()},[]);function k(){g([...p,{text:"",image:""}])}function S(C){const T=p.filter((M,D)=>D!==C);g(T)}function E(C,T){const M=[...p];M[C]=T,g(M)}async function j(){if(!n.trim())return alert("Please enter a title.");x(!0);const C={title:n,description:i,category:o,asset_id:u||null,steps:p};try{r?(await Oe.put(`/api/sops/${r}`,C),alert(" SOP updated successfully!")):(await Oe.post("/api/sops/",C),alert(" SOP created successfully!")),e("/manuals")}catch(T){console.error(" Failed to save SOP:",T),alert("Error saving SOP.")}finally{x(!1)}}return l.jsxs("div",{className:"min-h-screen bg-[var(--bg)] text-[var(--text-1)] transition-colors p-4 sm:p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsxs("button",{onClick:()=>e("/manuals"),className:"flex items-center gap-2 text-[#0B5150] hover:text-[#0C5F5E] text-sm sm:text-base",children:[l.jsx(Oy,{className:"w-4 h-4"}),"Back to Manuals"]}),v&&l.jsx(Sp,{className:"w-5 h-5 text-slate-500 animate-spin"})]}),l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:l.jsx("h1",{className:"text-xl sm:text-2xl font-semibold",children:r?"Edit SOP":"Create New SOP"})}),l.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 sm:p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-zinc-800 space-y-4 sm:space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),l.jsx("input",{type:"text",value:n,onChange:C=>a(C.target.value),placeholder:"Enter SOP title",className:"w-full rounded-xl border border-slate-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 p-2 sm:p-3 text-sm sm:text-base"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),l.jsx("textarea",{value:i,onChange:C=>s(C.target.value),placeholder:"Brief description...",className:"w-full rounded-xl border border-slate-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 p-2 sm:p-3 min-h-[90px] sm:min-h-[120px] text-sm sm:text-base"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),l.jsxs("select",{value:o,onChange:C=>c(C.target.value),className:"w-full rounded-xl border border-slate-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 p-2 sm:p-3 text-sm sm:text-base",children:[l.jsx("option",{value:"Manual",children:"Manual"}),l.jsx("option",{value:"HowTo",children:"How-To"}),l.jsx("option",{value:"Troubleshooting",children:"Troubleshooting"})]})]}),l.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Asset (optional)"}),l.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"w-full rounded-xl border border-slate-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 p-2 sm:p-3 text-sm sm:text-base",children:[l.jsx("option",{value:"",children:" None "}),f.map(C=>l.jsxs("option",{value:C.id,children:[C.name," ",C.floor?`(${C.floor})`:""," ",C.area?`- ${C.area}`:""]},C.id))]})]})]})]}),l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Steps"}),p.map((C,T)=>l.jsx(kme,{step:C,index:T,onChange:E,onDelete:S,previewSize:"small"},T)),l.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-[#0B5150] hover:text-[#0C5F5E] font-medium text-sm sm:text-base",children:[l.jsx(en,{className:"w-4 h-4"})," Add Step"]})]}),l.jsx("div",{className:"pt-6 flex justify-center",children:l.jsxs("button",{onClick:j,disabled:m,className:"flex items-center gap-2 px-5 sm:px-6 py-2 sm:py-2.5 rounded-xl bg-[#0B5150] text-white hover:bg-[#0C5F5E] transition disabled:opacity-60 text-sm sm:text-base",children:[l.jsx(Ep,{className:"w-4 h-4"}),m?"Saving...":"Save SOP"]})})]})}function Sme(){const{id:e}=bp(),t=nr(),[r,n]=b.useState(null),[a,i]=b.useState(!0),[s,o]=b.useState(null);b.useEffect(()=>{c()},[e]);async function c(){try{const h=await Oe.get(`/api/sops/${e}`);n(h)}catch(h){console.error("Failed to load SOP:",h)}finally{i(!1)}}function u(){t(`/sop/create?id=${e}`,{state:{sop:r}})}function d(){if(!r)return;const h=Array.isArray(r.steps)?r.steps:[],p=`
      <html>
        <head>
          <meta charset="utf-8" />
          <title>${r.title||"Manual"}</title>
          <style>
            @page { size: A4 landscape; margin: 10mm 15mm; }
            * { box-sizing: border-box; }
            body {
              font-family: "Segoe UI", Arial, sans-serif;
              margin: 0; padding: 0; color: #222;
            }
            h1 { text-align: center; color: #0B5150; font-size: 24px; margin: 0 0 8px 0; }
            .meta { text-align: center; font-size: 12px; color: #555; margin-bottom: 10px; }
            .desc { border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; margin: 12px 0 20px; padding: 8px 0; text-align: justify; font-size: 14px; color: #333; }
            .step { page-break-inside: avoid; text-align: center; margin-bottom: 10mm; }
            .step + .step { page-break-before: always; }
            .step h3 { color: #0B5150; font-size: 20px; margin: 0 0 10px 0; }
            .step p { width: 85%; margin: 0 auto 14px; font-size: 15px; line-height: 1.5; }
            .step img { max-width: 90%; max-height: 70vh; display: block; margin: 0 auto; object-fit: contain; }
            .footnote { font-size: 10px; color: #777; margin-top: 8px; text-align: center; }
          </style>
        </head>
        <body>
          <h1>${r.title||"Manual"}</h1>
          <div class="meta"><strong>Category:</strong> ${r.category||"Manual"}</div>
          ${r.description?`<div class="desc">${r.description}</div>`:""}
          ${h.map((m,x)=>`
            <section class="step">
              <h3>Step ${x+1}</h3>
              ${m!=null&&m.text?`<p>${m.text}</p>`:""}
              ${m!=null&&m.image_url?`<img src="${m.image_url}" alt="Step ${x+1}" />`:""}
              <div class="footnote">Generated by Engineering App  ${new Date().toLocaleDateString()}</div>
            </section>
          `).join("")}
        </body>
      </html>
    `,g=window.open("","_blank");if(!g)return alert("Popup blocked. Please allow popups to print.");g.document.open(),g.document.write(p),g.document.close(),g.focus(),g.print()}if(a)return l.jsx("div",{className:"p-6 text-center text-slate-500 dark:text-slate-400",children:"Loading SOP..."});if(!r)return l.jsx("div",{className:"p-6 text-center text-rose-500",children:"SOP not found."});const f=Array.isArray(r.steps)?r.steps:[];return l.jsxs("div",{className:"p-4 sm:p-6 lg:p-10 min-h-screen text-[var(--text-1)]",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 sm:gap-3 mb-6",children:[l.jsxs("button",{onClick:()=>t("/manuals"),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-sm sm:text-base
                     border-zinc-300 bg-white text-zinc-800 hover:bg-zinc-100
                     dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-200 dark:hover:bg-zinc-800`,children:[l.jsx(Oy,{className:"w-4 h-4"}),"Back"]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:u,className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-sm sm:text-base
                       border-zinc-300 bg-white text-zinc-800 hover:bg-zinc-100
                       dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-200 dark:hover:bg-zinc-800`,children:[l.jsx(wi,{className:"w-4 h-4"}),"Edit"]}),l.jsxs("button",{onClick:d,className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-sm sm:text-base
                       border-zinc-300 bg-white text-zinc-800 hover:bg-zinc-100
                       dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-200 dark:hover:bg-zinc-800`,children:[l.jsx(Fy,{className:"w-4 h-4"}),"Print"]})]})]}),l.jsxs("div",{className:"max-w-5xl mx-auto text-center mb-6 px-2 sm:px-0",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-[#0B5150] mb-1",children:r.title||"Manual"}),l.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 dark:text-slate-400",children:["Category: ",r.category||"Manual"]}),r.description&&l.jsx("p",{className:"mt-4 text-base sm:text-lg text-slate-700 dark:text-slate-300 leading-relaxed text-justify border-y border-slate-300 dark:border-zinc-700 py-3 px-2 sm:px-0",children:r.description})]}),l.jsx("div",{className:"max-w-5xl mx-auto space-y-6 sm:space-y-8",children:f.length>0?f.map((h,p)=>l.jsxs("div",{className:"rounded-2xl border border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-[#0b0b0b] p-4 sm:p-5",children:[l.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-[#0B5150] mb-3",children:["Step ",p+1]}),l.jsx("p",{className:"text-sm sm:text-base text-slate-800 dark:text-slate-200 mb-4 leading-relaxed break-words",children:(h==null?void 0:h.text)||""}),(h==null?void 0:h.image_url)&&l.jsx("div",{className:"flex justify-center",children:l.jsx("img",{src:h.image_url,alt:`Step ${p+1}`,onClick:()=>o(h.image_url),className:"cursor-zoom-in rounded-lg object-contain w-full max-w-full sm:max-w-[800px] max-h-[60vh] select-none",draggable:!1})})]},(h==null?void 0:h.id)??`step-${p}`)):l.jsx("p",{className:"text-slate-500 dark:text-slate-400 italic text-center",children:"No steps available."})}),s&&l.jsx("div",{onClick:()=>o(null),className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-2 sm:p-4 cursor-zoom-out",children:l.jsx("img",{src:s,alt:"Zoomed",className:"max-w-[95vw] max-h-[90vh] rounded-xl shadow-2xl object-contain"})})]})}function Eme(e){try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=atob(t);return JSON.parse(r)}catch{return null}}function jme(e){if(!e)return!1;const t=Eme(e);if(!t||typeof t.exp!="number")return!1;const r=Math.floor(Date.now()/1e3);return t.exp>r}function Nme(){const e=localStorage.getItem("access_token")||sessionStorage.getItem("access_token");return jme(e)?l.jsx(Y0,{to:"/dashboard",replace:!0}):(localStorage.removeItem("access_token"),localStorage.removeItem("user_id"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("user_id"),l.jsx(Y0,{to:"/login",replace:!0}))}function at({children:e}){const[t,r]=b.useState(localStorage.getItem("sidebar_collapsed")==="1"),n=t?"4rem":"16rem";return l.jsxs("div",{className:`min-h-screen flex transition-colors duration-300
                 bg-surface-day dark:bg-surface-dark text-zinc-900 dark:text-zinc-100`,style:{"--sidebar-w":n},children:[l.jsx(q7,{collapsed:t,setCollapsed:r}),l.jsx("main",{className:`
          flex-1 min-h-screen transition-all duration-300 ease-in-out
          bg-surface-day dark:bg-surface-dark text-zinc-900 dark:text-zinc-100
          px-3 sm:px-5 lg:px-8
        `,style:{marginLeft:"var(--sidebar-w, 4rem)",transition:"margin-left 0.3s ease",width:"100%",maxWidth:"100%",overflowX:"hidden",paddingTop:"0.75rem"},children:e})]})}function Tme(){return l.jsxs(kR,{children:[l.jsx(E9,{richColors:!0,position:"top-right"}),l.jsxs(tR,{children:[l.jsx(Be,{path:"/",element:l.jsx(Nme,{})}),l.jsx(Be,{path:"/login",element:l.jsx(j9,{})}),l.jsx(Be,{path:"/dashboard",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(iie,{})})})}),l.jsx(Be,{path:"/todo",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Eie,{})})})}),l.jsx(Be,{path:"/todo/records",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Cie,{})})})}),l.jsx(Be,{path:"/inventory",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(zie,{})})})}),l.jsx(Be,{path:"/inventory/logs",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Vie,{})})})}),l.jsx(Be,{path:"/vendors",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Jie,{})})})}),l.jsx(Be,{path:"/quotes",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(q0e,{})})})}),l.jsx(Be,{path:"/invoices",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Mhe,{})})})}),l.jsx(Be,{path:"/assets",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(qhe,{})})})}),l.jsx(Be,{path:"/projects",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(upe,{})})})}),l.jsx(Be,{path:"/projects/summary",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(lpe,{})})})}),l.jsx(Be,{path:"/projects/print/:id",element:l.jsx(qe,{children:l.jsx(fpe,{})})}),l.jsx(Be,{path:"/users",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(ppe,{})})})}),l.jsx(Be,{path:"/paint",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(mpe,{})})})}),l.jsx(Be,{path:"/schedule",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(gpe,{})})})}),l.jsx(Be,{path:"/licenses-permits",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(xpe,{})})})}),l.jsx(Be,{path:"/pms",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(vpe,{})})})}),l.jsx(Be,{path:"/documents",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(bpe,{})})})}),l.jsx(Be,{path:"/manuals",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Dpe,{})})})}),l.jsx(Be,{path:"/sop/create",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(_me,{})})})}),l.jsx(Be,{path:"/sop/view/:id",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Sme,{})})})}),l.jsx(Be,{path:"/calendar",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Mpe,{})})})}),l.jsx(Be,{path:"/inspections",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(ame,{})})})}),l.jsx(Be,{path:"/inspections/:inspectionId/run",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(fme,{})})})}),l.jsx(Be,{path:"/inspections/:inspectionId/view",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(hme,{})})})}),l.jsx(Be,{path:"/inspections/:inspectionId/print",element:l.jsx(qe,{children:l.jsx(bme,{})})}),l.jsx(Be,{path:"/room-status",element:l.jsx(qe,{children:l.jsx(at,{children:l.jsx(Ipe,{})})})}),l.jsx(Be,{path:"*",element:l.jsx(Y0,{to:"/",replace:!0})})]})]})}const Hc="theme";function Ame(){var e,t;return(t=(e=window.matchMedia)==null?void 0:e.call(window,"(prefers-color-scheme: dark)"))==null?void 0:t.matches}function Kc(e){const t=document.documentElement,r=e==="dark"?"dark":e==="light"?"light":Ame()?"dark":"light";t.classList.toggle("dark",r==="dark"),t.style.colorScheme=r==="dark"?"dark":"light"}function Cme(){var r;let e=localStorage.getItem(Hc);e!=="dark"&&e!=="light"&&e!=="auto"&&(e="auto"),Kc(e);const t=(r=window.matchMedia)==null?void 0:r.call(window,"(prefers-color-scheme: dark)");t!=null&&t.addEventListener&&t.addEventListener("change",()=>{(localStorage.getItem(Hc)||"auto")==="auto"&&Kc("auto")}),window.addEventListener("storage",n=>{n.key===Hc&&Kc(n.newValue||"auto")}),window.addEventListener("theme:apply",n=>{const a=(n==null?void 0:n.detail)==="dark"||(n==null?void 0:n.detail)==="light"||(n==null?void 0:n.detail)==="auto"?n.detail:localStorage.getItem(Hc)||"auto";Kc(a)}),window.__setTheme=n=>{const a=n==="dark"||n==="light"||n==="auto"?n:"auto";localStorage.setItem(Hc,a),Kc(a)}}Cme();gx.createRoot(document.getElementById("root")).render(l.jsx(fe.StrictMode,{children:l.jsx(cR,{children:l.jsx(K7,{children:l.jsx(Tme,{})})})}));export{$u as C,JA as a,q0 as b,_p as c,vd as d,l as j,b as r};
